Can't create new live log on branch "shell-of-docker-build-github-on-b38d92e43cbc555d69ce79dcffb836e101a81f6a"; one is already active!
=== Run docker-build-github on commit b38d92e43cbc555d69ce79dcffb836e101a81f6a
[2016-12-03 10:46.43] Starting...
Cloning into '/tmp/with_clone2aafe712'...
done.
HEAD is now at b38d92e Merge pull request #390 from samoht/change
[2016-12-03 10:46.43] Running "docker" "build" "--pull" "-f" "Dockerfile.github" "."...
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 6.128 MBSending build context to Docker daemon 6.685 MBSending build context to Docker daemon 7.242 MBSending build context to Docker daemon 7.794 MBSending build context to Docker daemon 7.794 MB
Step 1 : FROM docker/datakit:server
server: Pulling from docker/datakit
3690ec4760f9: Already exists
c30c763d7b98: Already exists
bdb80099dd81: Already exists
e71f4d4ca0ed: Already exists
3c7cdbb891e6: Pulling fs layer
4bda068f14dc: Pulling fs layer
ce9fd87112d7: Pulling fs layer
5ccb5d55b9aa: Pulling fs layer
82002c4c5cfe: Pulling fs layer
7205129eede1: Pulling fs layer
914d5277e533: Pulling fs layer
b73dd8de9bf3: Pulling fs layer
9430c2a9b74b: Pulling fs layer
646a5345ebc8: Pulling fs layer
646a5345ebc8: Waiting
ce9fd87112d7: Download complete
5ccb5d55b9aa: Waiting
82002c4c5cfe: Waiting
7205129eede1: Waiting
914d5277e533: Waiting
b73dd8de9bf3: Waiting
9430c2a9b74b: Waiting
5ccb5d55b9aa: Verifying Checksum
5ccb5d55b9aa: Download complete
3c7cdbb891e6: Verifying Checksum
3c7cdbb891e6: Pull complete
7205129eede1: Download complete
914d5277e533: Verifying Checksum
914d5277e533: Download complete
b73dd8de9bf3: Verifying Checksum
b73dd8de9bf3: Download complete
82002c4c5cfe: Verifying Checksum
82002c4c5cfe: Download complete
9430c2a9b74b: Verifying Checksum
9430c2a9b74b: Download complete
646a5345ebc8: Download complete
4bda068f14dc: Verifying Checksum
4bda068f14dc: Download complete
4bda068f14dc: Pull complete
ce9fd87112d7: Pull complete
5ccb5d55b9aa: Pull complete
82002c4c5cfe: Pull complete
7205129eede1: Pull complete
914d5277e533: Pull complete
b73dd8de9bf3: Pull complete
9430c2a9b74b: Pull complete
646a5345ebc8: Pull complete
Digest: sha256:f4b3cfd69a5bdbeac8da095288283caec9cf8762593800c902fd0f0edd4a0d33
Status: Image is up to date for docker/datakit:server
 ---> 52852b2682bc
Step 2 : RUN cd /home/opam/opam-repository && git pull && opam update -y
 ---> Running in c00ba99f3dfc
[91mFrom git://github.com/ocaml/opam-repository
   2ce8419..e1723eb  master     -> origin/master
[0mUpdating 2ce8419..e1723eb
Fast-forward
 packages/datakit-client/datakit-client.0.8.0/descr |  5 +++++
 packages/datakit-client/datakit-client.0.8.0/opam  | 23 ++++++++++++++++++++++
 packages/datakit-client/datakit-client.0.8.0/url   |  2 ++
 packages/datakit-server/datakit-server.0.8.0/descr |  6 ++++++
 packages/datakit-server/datakit-server.0.8.0/opam  | 23 ++++++++++++++++++++++
 packages/datakit-server/datakit-server.0.8.0/url   |  2 ++
 6 files changed, 61 insertions(+)
 create mode 100644 packages/datakit-client/datakit-client.0.8.0/descr
 create mode 100644 packages/datakit-client/datakit-client.0.8.0/opam
 create mode 100644 packages/datakit-client/datakit-client.0.8.0/url
 create mode 100644 packages/datakit-server/datakit-server.0.8.0/descr
 create mode 100644 packages/datakit-server/datakit-server.0.8.0/opam
 create mode 100644 packages/datakit-server/datakit-server.0.8.0/url

=-=- Updating package repositories =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[default: local] Command started
[default: local] Command started
[default: local] Command started
[default] /home/opam/opam-repository synchronized

=-=- Synchronizing development packages -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-server: local] Command started
[datakit-server] /home/opam/src/datakit/ synchronized

Updates available for 4.03.0, apply them with 'opam upgrade':
===== 1 to recompile =====
 ---> a9b7f060bf6c
Removing intermediate container c00ba99f3dfc
Step 3 : COPY datakit-github.opam /home/opam/src/datakit/datakit-github.opam
 ---> 4c75c59de894
Removing intermediate container f8d6af58b4fa
Step 4 : RUN opam pin add github --dev -n
 ---> Running in 990950e67c4e
github is now git-pinned to https://github.com/mirage/ocaml-github.git

[github: git]
[github: git]
[github: git]
[github: git]
[github: git]
[github: git]
[github] https://github.com/mirage/ocaml-github.git updated

 ---> fd021a352a6a
Removing intermediate container 990950e67c4e
Step 5 : RUN opam pin add datakit-client.dev /home/opam/src/datakit -n
 ---> Running in eafe086fb533
datakit-client is now path-pinned to /home/opam/src/datakit

[datakit-client: local]
[datakit-client] /home/opam/src/datakit/ synchronized

 ---> b2dffe4c81d8
Removing intermediate container eafe086fb533
Step 6 : RUN opam pin add datakit-github.dev /home/opam/src/datakit -n
 ---> Running in 13fbe9342994
Package datakit-github does not exist, create as a NEW package ? [Y/n] y
datakit-github is now path-pinned to /home/opam/src/datakit

[datakit-github: local]
[datakit-github] /home/opam/src/datakit/ synchronized
[datakit-github] Installing new package description from /home/opam/src/datakit

 ---> 9968a3342c05
Removing intermediate container 13fbe9342994
Step 7 : RUN opam depext datakit-github && opam install datakit-github --deps
 ---> Running in 94be20f7b63c
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - gmp-dev
#  - linux-headers
#  - m4
#  - ncurses-dev
#  - openssl-dev
#  - perl
#  - pkgconfig
m4
ncurses-dev
pkgconfig
# The following new OS packages need to be installed: gmp-dev linux-headers openssl-dev perl
The following command needs to be run through "sudo":
    apk add gmp-dev linux-headers openssl-dev perl
(1/6) Installing libgmpxx (6.1.0-r0)
(2/6) Installing gmp-dev (6.1.0-r0)
(3/6) Installing linux-headers (4.4.6-r1)
(4/6) Installing zlib-dev (1.2.8-r2)
(5/6) Installing openssl-dev (1.0.2j-r0)
(6/6) Installing perl (5.22.2-r0)
Executing busybox-1.24.2-r12.trigger
OK: 479 MiB in 90 packages
# OS packages installation successful

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-github: local] Command started
[datakit-github] /home/opam/src/datakit/ already up-to-date
The following actions will be performed:
  - install conf-perl        1             
  - install menhir           20161115      
  - install magic-mime       1.0.0         
  - install easy-format      1.2.0         
  - install asl              0.10          
  - install conf-gmp         1             
  - install fieldslib        113.24.00     
  - install duration         0.1.0         
  - install ocamlify         0.0.1         
  - install mtime            0.8.3         
  - install ocamlmod         0.0.8         
  - install asetmap          0.8.1         
  - install base64           2.1.2         
  - install conf-which       1             
  - install mirage-no-xen    1             
  - install mirage-flow      1.1.0         
  - install hex              1.0.0         
  - install win-eventlog     0.1           
  - install datakit-client   dev*          
  - install atd              1.2.0         
  - install zarith           1.4.1         
  - install ppx_fields_conv  113.33.00+4.03
  - install oasis            0.4.7         
  - install biniou           1.0.12        
  - install hvsock           0.11.1        
  - install asn1-combinators 0.1.3         
  - install nocrypto         0.5.3         
  - install yojson           1.3.3         
  - install x509             0.5.3         
  - install atdgen           1.10.0        
  - install tls              0.7.1         
  - install conduit          0.13.0        
  - install cohttp           0.21.0        
  - install github           2.1.0*        
  - install github-hooks     0.1.1         
===== 35 to install =====
Do you want to continue ? [Y/n] y

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[asetmap: http] Command started
[asl: http] Command started
[asn1-combinators: http] Command started
[asetmap: http] Command started
[asetmap.0.8.1] http://erratique.ch/software/asetmap/releases/asetmap-0.8.1.tbz downloaded
[atd: http] Command started
[asn1-combinators: http] Command started
[asn1-combinators.0.1.3] https://github.com/mirleft/ocaml-asn1-combinators/releases/download/v0.1.3/asn1-combinators-0.1.3.tbz downloaded
[atdgen: http] Command started
[asl: http] Command started
[asl.0.10] https://github.com/mirage/ocaml-asl/archive/v0.10.tar.gz downloaded
[base64: http] Command started
[atd: http] Command started
[atd.1.2.0] https://github.com/mjambon/atd/archive/v1.2.0.tar.gz downloaded
[biniou: http] Command started
[base64: http] Command started
[base64.2.1.2] https://github.com/mirage/ocaml-base64/releases/download/v2.1.2/base64-2.1.2.tbz downloaded
[cohttp: http] Command started
[biniou: http] Command started
[biniou.1.0.12] https://github.com/mjambon/biniou/archive/v1.0.12.tar.gz downloaded
[conduit: http] Command started
[cohttp: http] Command started
[cohttp.0.21.0] https://github.com/mirage/ocaml-cohttp/archive/v0.21.0.tar.gz downloaded
[datakit-client: local] Command started
[datakit-client.dev] /home/opam/src/datakit/ already up-to-date
[duration: http] Command started
[conduit: http] Command started
[conduit.0.13.0] https://github.com/mirage/ocaml-conduit/archive/v0.13.0.tar.gz downloaded
[easy-format: http] Command started
[duration: http] Command started
[duration.0.1.0] https://github.com/hannesm/duration/releases/download/0.1.0/duration-0.1.0.tbz downloaded
[fieldslib: http] Command started
[easy-format: http] Command started
[easy-format.1.2.0] https://github.com/mjambon/easy-format/archive/v1.2.0.tar.gz downloaded
[github: git] Command started
[github: git] Command started
[fieldslib: http] Command started
[fieldslib.113.24.00] https://ocaml.janestreet.com/ocaml-core/113.24/files/fieldslib-113.24.00.tar.gz downloaded
[github-hooks: http] Command started
[github: git] Command started
[github: git] Command started
[github] https://github.com/mirage/ocaml-github.git already up-to-date
[hex: http] Command started
[hex: http] Command started
[hex.1.0.0] https://github.com/mirage/ocaml-hex/archive/1.0.0.tar.gz downloaded
[hvsock: http] Command started
[github-hooks: http] Command started
[github-hooks.0.1.1] https://github.com/dsheets/ocaml-github-hooks/releases/download/0.1.1/github-hooks-0.1.1.tbz downloaded
[magic-mime: http] Command started
[hvsock: http] Command started
[hvsock.0.11.1] https://github.com/mirage/ocaml-hvsock/archive/v0.11.1.tar.gz downloaded
[menhir: http] Command started
[magic-mime: http] Command started
[magic-mime.1.0.0] https://github.com/mirage/ocaml-magic-mime/archive/v1.0.0.tar.gz downloaded
[mirage-flow: http] Command started
[menhir: http] Command started
[menhir.20161115] http://gallium.inria.fr/~fpottier/menhir/menhir-20161115.tar.gz downloaded
[mtime: http] Command started
[mtime: http] Command started
[mtime.0.8.3] http://erratique.ch/software/mtime/releases/mtime-0.8.3.tbz downloaded
[nocrypto: http] Command started
[nocrypto: http] Command started
[nocrypto.0.5.3] https://github.com/mirleft/ocaml-nocrypto/archive/v0.5.3.tar.gz downloaded
[oasis: http] Command started
[oasis: http] Command started
[oasis.0.4.7] https://forge.ocamlcore.org/frs/download.php/1635/oasis-0.4.7.tar.gz downloaded
[ocamlify: http] Command started
[ocamlify: http] Command started
[ocamlify.0.0.1] http://forge.ocamlcore.org/frs/download.php/379/ocamlify-0.0.1.tar.gz downloaded
[ocamlmod: http] Command started
[ocamlmod: http] Command started
[ocamlmod.0.0.8] https://forge.ocamlcore.org/frs/download.php/1544/ocamlmod-0.0.8.tar.gz downloaded
[ppx_fields_conv: http] Command started
[ppx_fields_conv: http] Command started
[ppx_fields_conv.113.33.00+4.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_fields_conv-113.33.00+4.03.tar.gz downloaded
[tls: http] Command started
[tls: http] Command started
[tls.0.7.1] https://github.com/mirleft/ocaml-tls/archive/0.7.1.tar.gz downloaded
[win-eventlog: http] Command started
[win-eventlog: http] Command started
[win-eventlog.0.1] https://github.com/djs55/ocaml-win-eventlog/archive/v0.1.tar.gz downloaded
[x509: http] Command started
[x509: http] Command started
[x509.0.5.3] https://github.com/mirleft/ocaml-x509/archive/0.5.3.tar.gz downloaded
[yojson: http] Command started
[yojson: http] Command started
[yojson.1.3.3] https://github.com/mjambon/yojson/archive/v1.3.3.tar.gz downloaded
[zarith: http] Command started
[zarith: http] Command started
[zarith.1.4.1] https://forge.ocamlcore.org/frs/download.php/1574/zarith-1.4.1.tgz downloaded
[atdgen: http] Command started
[atdgen.1.10.0] https://github.com/mjambon/atdgen/archive/v1.10.0.tar.gz downloaded
[mirage-flow: http] Command started
[mirage-flow.1.1.0] https://github.com/mirage/mirage-flow/archive/v1.1.0.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[asetmap: ocaml build] Command started
[asl: make] Command started
[base64: ocaml build] Command started
[conf-gmp: sh] Command started
-> installed conf-gmp.1
[conf-perl: perl] Command started
-> installed conf-perl.1
[conf-which: which which] Command started
-> installed conf-which.1
[datakit-client: ocaml build] Command started
-> installed asetmap.0.8.1
[duration: ocaml build] Command started
-> installed base64.2.1.2
[easy-format: make] Command started
-> installed duration.0.1.0
[fieldslib: ./configure] Command started
[easy-format: make install] Command started
-> installed easy-format.1.2.0
[biniou: make] Command started
[fieldslib: make] Command started
-> installed datakit-client.dev
[hex: ./configure] Command started
[biniou: make install] Command started
-> installed biniou.1.0.12
[magic-mime: ./configure] Command started
[hex: make] Command started
-> installed fieldslib.113.24.00
[menhir: make Makefile] Command started
[magic-mime: make] Command started
[asl: make install] Command started
[hex: make install] Command started
-> installed asl.0.10
[mirage-flow: ./configure] Command started
[magic-mime: make install] Command started
-> installed hex.1.0.0
-> installed mirage-no-xen.1
[mtime: ocaml] Command started
[mtime: ocaml] Command started
[mirage-flow: make] Command started
-> installed magic-mime.1.0.0
[ocamlify: ocaml setup.ml] Command started
-> installed mtime.0.8.3
[ocamlmod: ocaml setup.ml] Command started
[ocamlify: ocaml setup.ml] Command started
[ocamlmod: ocaml setup.ml] Command started
[mirage-flow: make install] Command started
[ocamlify: ocaml setup.ml] Command started
-> installed ocamlify.0.0.1
[ppx_fields_conv: ./configure] Command started
-> installed mirage-flow.1.1.0
[hvsock: ocaml setup.ml] Command started
[ocamlmod: ocaml setup.ml] Command started
[ppx_fields_conv: make] Command started
-> installed ocamlmod.0.0.8
[oasis: ocaml setup.ml] Command started
[hvsock: make] Command started
[oasis: ocaml setup.ml] Command started
-> installed ppx_fields_conv.113.33.00+4.03
[win-eventlog: make] Command started
[hvsock: make install] Command started
[win-eventlog: make install] Command started
-> installed hvsock.0.11.1
[yojson: make] Command started
-> installed win-eventlog.0.1
[zarith: ./configure] Command started
[zarith: make] Command started
[yojson: make install-lib] Command started
-> installed yojson.1.3.3
[zarith: make install] Command started
-> installed zarith.1.4.1
[asn1-combinators: ocaml build] Command started
-> installed asn1-combinators.0.1.3
[menhir: make Makefile] Command started
-> installed menhir.20161115
[atd: make] Command started
[atd: make install] Command started
-> installed atd.1.2.0
[atdgen: make] Command started
[atdgen: make findlib-install] Command started
-> installed atdgen.1.10.0
[oasis: ocaml setup.ml] Command started
-> installed oasis.0.4.7
[nocrypto: ./configure] Command started
[nocrypto: make] Command started
[nocrypto: make install] Command started
-> installed nocrypto.0.5.3
[x509: ./configure] Command started
[x509: make] Command started

