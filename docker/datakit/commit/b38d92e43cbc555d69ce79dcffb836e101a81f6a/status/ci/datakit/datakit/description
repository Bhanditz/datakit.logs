Can't create new live log on branch "shell-of-docker-build-datakit-on-b38d92e43cbc555d69ce79dcffb836e101a81f6a"; one is already active!
=== Run docker-build-datakit on commit b38d92e43cbc555d69ce79dcffb836e101a81f6a
[2016-12-03 10:46.43] Starting...
Cloning into '/tmp/with_clone16104f17'...
done.
HEAD is now at b38d92e Merge pull request #390 from samoht/change
[2016-12-03 10:46.43] Running "docker" "build" "--pull" "-f" "Dockerfile" "."...
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 6.128 MBSending build context to Docker daemon 6.685 MBSending build context to Docker daemon 7.242 MBSending build context to Docker daemon 7.794 MBSending build context to Docker daemon 7.794 MB
Step 1 : FROM docker/datakit:server
server: Pulling from docker/datakit
3690ec4760f9: Already exists
c30c763d7b98: Already exists
bdb80099dd81: Already exists
e71f4d4ca0ed: Already exists
3c7cdbb891e6: Pulling fs layer
4bda068f14dc: Pulling fs layer
ce9fd87112d7: Pulling fs layer
5ccb5d55b9aa: Pulling fs layer
82002c4c5cfe: Pulling fs layer
7205129eede1: Pulling fs layer
914d5277e533: Pulling fs layer
b73dd8de9bf3: Pulling fs layer
9430c2a9b74b: Pulling fs layer
646a5345ebc8: Pulling fs layer
7205129eede1: Waiting
914d5277e533: Waiting
b73dd8de9bf3: Waiting
9430c2a9b74b: Waiting
646a5345ebc8: Waiting
5ccb5d55b9aa: Waiting
82002c4c5cfe: Waiting
ce9fd87112d7: Verifying Checksum
ce9fd87112d7: Download complete
5ccb5d55b9aa: Verifying Checksum
5ccb5d55b9aa: Download complete
3c7cdbb891e6: Verifying Checksum
3c7cdbb891e6: Pull complete
7205129eede1: Download complete
914d5277e533: Verifying Checksum
914d5277e533: Download complete
b73dd8de9bf3: Verifying Checksum
b73dd8de9bf3: Download complete
82002c4c5cfe: Verifying Checksum
82002c4c5cfe: Download complete
9430c2a9b74b: Verifying Checksum
9430c2a9b74b: Download complete
646a5345ebc8: Download complete
4bda068f14dc: Verifying Checksum
4bda068f14dc: Download complete
4bda068f14dc: Pull complete
ce9fd87112d7: Pull complete
5ccb5d55b9aa: Pull complete
82002c4c5cfe: Pull complete
7205129eede1: Pull complete
914d5277e533: Pull complete
b73dd8de9bf3: Pull complete
9430c2a9b74b: Pull complete
646a5345ebc8: Pull complete
Digest: sha256:f4b3cfd69a5bdbeac8da095288283caec9cf8762593800c902fd0f0edd4a0d33
Status: Downloaded newer image for docker/datakit:server
 ---> 52852b2682bc
Step 2 : RUN cd /home/opam/opam-repository && git pull && opam update -y
 ---> Running in 28d5ddb69365
[91mFrom git://github.com/ocaml/opam-repository
   2ce8419..e1723eb  master     -> origin/master
[0mUpdating 2ce8419..e1723eb
Fast-forward
 packages/datakit-client/datakit-client.0.8.0/descr |  5 +++++
 packages/datakit-client/datakit-client.0.8.0/opam  | 23 ++++++++++++++++++++++
 packages/datakit-client/datakit-client.0.8.0/url   |  2 ++
 packages/datakit-server/datakit-server.0.8.0/descr |  6 ++++++
 packages/datakit-server/datakit-server.0.8.0/opam  | 23 ++++++++++++++++++++++
 packages/datakit-server/datakit-server.0.8.0/url   |  2 ++
 6 files changed, 61 insertions(+)
 create mode 100644 packages/datakit-client/datakit-client.0.8.0/descr
 create mode 100644 packages/datakit-client/datakit-client.0.8.0/opam
 create mode 100644 packages/datakit-client/datakit-client.0.8.0/url
 create mode 100644 packages/datakit-server/datakit-server.0.8.0/descr
 create mode 100644 packages/datakit-server/datakit-server.0.8.0/opam
 create mode 100644 packages/datakit-server/datakit-server.0.8.0/url

=-=- Updating package repositories =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[default: local] Command started
[default: local] Command started
[default: local] Command started
[default] /home/opam/opam-repository synchronized

=-=- Synchronizing development packages -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-server: local] Command started
[datakit-server] /home/opam/src/datakit/ synchronized

Updates available for 4.03.0, apply them with 'opam upgrade':
===== 1 to recompile =====
 ---> bfee596e0e94
Removing intermediate container 28d5ddb69365
Step 3 : COPY opam /home/opam/src/datakit/opam
 ---> 42c4d9b1edf2
Removing intermediate container 0bc273e12540
Step 4 : RUN opam pin add datakit.dev /home/opam/src/datakit -n
 ---> Running in d392a65355d6
Package datakit does not exist, create as a NEW package ? [Y/n] y
datakit is now path-pinned to /home/opam/src/datakit

[datakit: local]
[datakit] /home/opam/src/datakit/ synchronized
[datakit] Installing new package description from /home/opam/src/datakit

 ---> e3364abae471
Removing intermediate container d392a65355d6
Step 5 : RUN opam depext datakit && opam install datakit --deps
 ---> Running in 4e9dda9a7f99
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - linux-headers
#  - m4
#  - ncurses-dev
#  - openssl-dev
#  - pkgconfig
#  - zlib-dev
m4
ncurses-dev
pkgconfig
# The following new OS packages need to be installed: linux-headers openssl-dev zlib-dev
The following command needs to be run through "sudo":
    apk add linux-headers openssl-dev zlib-dev
(1/3) Installing linux-headers (4.4.6-r1)
(2/3) Installing zlib-dev (1.2.8-r2)
(3/3) Installing openssl-dev (1.0.2j-r0)
OK: 435 MiB in 87 packages
# OS packages installation successful

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit: local] Command started
[datakit] /home/opam/src/datakit/ already up-to-date
The following actions will be performed:
  - install mtime           0.8.3         
  - install bin_prot        113.33.00+4.03
  - install uchar           0.0.1         
  - install magic-mime      1.0.0         
  - install conduit         0.13.0        
  - install asl             0.10          
  - install camlzip         1.06          
  - install base64          2.1.2         
  - install irmin-watcher   0.2.0         
  - install mstruct         1.3.2         
  - install crunch          1.4.1         
  - install mirage-flow     1.1.0         
  - install hex             1.0.0         
  - install win-eventlog    0.1           
  - install fieldslib       113.24.00     
  - install duration        0.1.0         
  - install ocamlgraph      1.8.7         
  - install uutf            1.0.0         
  - install ppx_fields_conv 113.33.00+4.03
  - install hvsock          0.11.1        
  - install jsonm           1.0.0         
  - install cohttp          0.21.0        
  - install ezjsonm         0.4.3         
  - install git             1.9.3         
  - install mirage-tc       0.3.0         
  - install irmin           0.12.0        
===== 26 to install =====
Do you want to continue ? [Y/n] y

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[asl: http] Command started
[base64: http] Command started
[bin_prot: http] Command started
[bin_prot: http] Command started
[bin_prot.113.33.00+4.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/bin_prot-113.33.00+4.03.tar.gz downloaded
[camlzip: http] Command started
[asl: http] Command started
[asl.0.10] https://github.com/mirage/ocaml-asl/archive/v0.10.tar.gz downloaded
[cohttp: http] Command started
[camlzip: http] Command started
[camlzip.1.06] https://forge.ocamlcore.org/frs/download.php/1616/camlzip-1.06.tar.gz downloaded
[conduit: http] Command started
[conduit: http] Command started
[conduit.0.13.0] https://github.com/mirage/ocaml-conduit/archive/v0.13.0.tar.gz downloaded
[crunch: http] Command started
[cohttp: http] Command started
[cohttp.0.21.0] https://github.com/mirage/ocaml-cohttp/archive/v0.21.0.tar.gz downloaded
[duration: http] Command started
[duration: http] Command started
[duration.0.1.0] https://github.com/hannesm/duration/releases/download/0.1.0/duration-0.1.0.tbz downloaded
[ezjsonm: http] Command started
[fieldslib: http] Command started
[fieldslib: http] Command started
[fieldslib.113.24.00] https://ocaml.janestreet.com/ocaml-core/113.24/files/fieldslib-113.24.00.tar.gz downloaded
[git: http] Command started
[git: http] Command started
[git.1.9.3] https://github.com/mirage/ocaml-git/releases/download/1.9.3/git-1.9.3.tbz downloaded
[hex: http] Command started
[hvsock: http] Command started
[hex: http] Command started
[hex.1.0.0] https://github.com/mirage/ocaml-hex/archive/1.0.0.tar.gz downloaded
[irmin: http] Command started
[hvsock: http] Command started
[hvsock.0.11.1] https://github.com/mirage/ocaml-hvsock/archive/v0.11.1.tar.gz downloaded
[irmin-watcher: http] Command started
[irmin-watcher: http] Command started
[irmin: http] Command started
[irmin-watcher.0.2.0] https://github.com/samoht/irmin-watcher/releases/download/0.2.0/irmin-watcher-0.2.0.tbz downloaded
[jsonm: http] Command started
[irmin.0.12.0] https://github.com/mirage/irmin/releases/download/0.12.0/irmin-0.12.0.tbz downloaded
[magic-mime: http] Command started
[jsonm: http] Command started
[jsonm.1.0.0] http://erratique.ch/software/jsonm/releases/jsonm-1.0.0.tbz downloaded
[mirage-flow: http] Command started
[magic-mime: http] Command started
[magic-mime.1.0.0] https://github.com/mirage/ocaml-magic-mime/archive/v1.0.0.tar.gz downloaded
[mirage-tc: http] Command started
[mirage-flow: http] Command started
[mirage-flow.1.1.0] https://github.com/mirage/mirage-flow/archive/v1.1.0.tar.gz downloaded
[mstruct: http] Command started
[mirage-tc: http] Command started
[mirage-tc.0.3.0] https://github.com/mirage/mirage-tc/archive/0.3.0.tar.gz downloaded
[mtime: http] Command started
[mstruct: http] Command started
[mstruct.1.3.2] https://github.com/mirage/ocaml-mstruct/archive/1.3.2.tar.gz downloaded
[ocamlgraph: http] Command started
[mtime: http] Command started
[mtime.0.8.3] http://erratique.ch/software/mtime/releases/mtime-0.8.3.tbz downloaded
[ppx_fields_conv: http] Command started
[ppx_fields_conv: http] Command started
[ppx_fields_conv.113.33.00+4.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_fields_conv-113.33.00+4.03.tar.gz downloaded
[uchar: http] Command started
[ocamlgraph: http] Command started
[ocamlgraph.1.8.7] http://ocamlgraph.lri.fr/download/ocamlgraph-1.8.7.tar.gz downloaded
[uutf: http] Command started
[uutf: http] Command started
[uutf.1.0.0] http://erratique.ch/software/uutf/releases/uutf-1.0.0.tbz downloaded
[win-eventlog: http] Command started
[ezjsonm: http] Command started
[ezjsonm.0.4.3] https://github.com/mirage/ezjsonm/archive/0.4.3.tar.gz downloaded

