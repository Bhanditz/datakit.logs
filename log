=== Run docker-build-github on commit b450d04b682c2acb866048971eed51785c6ff966
[2016-11-02 14:10.36] Starting...
Cloning into '/tmp/with_clone3bb2e295'...
done.
HEAD is now at b450d04 Merge pull request #285 from samoht/master
[2016-11-02 14:10.37] Running "docker" "build" "-f" "Dockerfile.github" "."...
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.655 MB
Step 1 : FROM docker/datakit:server
 ---> b6891c5e3730
Step 2 : COPY datakit-server.opam /home/opam/src/datakit/datakit-server.opam
 ---> 69fc13222ff2
Removing intermediate container 2d6ebffec4c6
Step 3 : RUN opam pin add datakit-server.dev /home/opam/src/datakit -n
 ---> Running in b7ff25f772b0
[91m[NOTE] Package datakit-server is already path-pinned to /home/opam/src/datakit.
       This will erase any previous custom definition.
[0mProceed ? [Y/n] y

[datakit-server: local]
[datakit-server] /home/opam/src/datakit/ synchronized
[datakit-server] Installing new package description from /home/opam/src/datakit

 ---> 55140a005474
Removing intermediate container b7ff25f772b0
Step 4 : COPY datakit-github.opam /home/opam/src/datakit/datakit-github.opam
 ---> 2a48e0e6be80
Removing intermediate container ceae4cc1671d
Step 5 : RUN opam pin add datakit-github.dev /home/opam/src/datakit -n
 ---> Running in 76da244bbef0
Package datakit-github does not exist, create as a NEW package ? [Y/n] y
datakit-github is now path-pinned to /home/opam/src/datakit

[datakit-github: local]
[datakit-github] /home/opam/src/datakit/ synchronized
[datakit-github] Installing new package description from /home/opam/src/datakit

 ---> 9c0692fdbd86
Removing intermediate container 76da244bbef0
Step 6 : RUN opam depext datakit-github && opam install datakit-github --deps
 ---> Running in 65a50574f83b
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - gmp-dev
#  - linux-headers
#  - m4
#  - ncurses-dev
#  - openssl-dev
#  - perl
#  - pkgconfig
m4
ncurses-dev
pkgconfig
# The following new OS packages need to be installed: gmp-dev linux-headers openssl-dev perl
The following command needs to be run through "sudo":
    apk add gmp-dev linux-headers openssl-dev perl
(1/6) Installing libgmpxx (6.1.0-r0)
(2/6) Installing gmp-dev (6.1.0-r0)
(3/6) Installing linux-headers (4.4.6-r1)
(4/6) Installing zlib-dev (1.2.8-r2)
(5/6) Installing openssl-dev (1.0.2j-r0)
(6/6) Installing perl (5.22.2-r0)
Executing busybox-1.24.2-r11.trigger
OK: 492 MiB in 92 packages
# OS packages installation successful

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-github: local] Command started
[datakit-github] /home/opam/src/datakit/ already up-to-date
The following actions will be performed:
  - install conf-perl        1        
  - install mtime            0.8.3    
  - install ocamlmod         0.0.8    
  - install magic-mime       1.0.0    
  - install menhir           20160825 
  - install fieldslib        113.33.03
  - install easy-format      1.2.0    
  - install asl              0.10     
  - install base64           2.1.2    
  - install conf-which       1        
  - install mirage-no-xen    1        
  - install mirage-flow      1.1.0    
  - install conf-gmp         1        
  - install hex              1.0.0    
  - install win-eventlog     0.1      
  - install ocamlify         0.0.1    
  - install ppx_fields_conv  113.33.03
  - install atd              1.2.0    
  - install biniou           1.0.12   
  - install hvsock           0.10.0   
  - install zarith           1.4.1    
  - install oasis            0.4.7    
  - install yojson           1.3.3    
  - install asn1-combinators 0.1.2    
  - install nocrypto         0.5.3    
  - install atdgen           1.10.0   
  - install x509             0.5.3    
  - install tls              0.7.1    
  - install conduit          0.13.0   
  - install cohttp           0.21.0   
  - install github           2.0.3    
  - install github-hooks     0.1.1    
===== 32 to install =====
Do you want to continue ? [Y/n] y

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[asl: http] Command started
[asn1-combinators: http] Command started
[atd: http] Command started
[atd: http] Command started
[asl: http] Command started
[atd.1.2.0] https://github.com/mjambon/atd/archive/v1.2.0.tar.gz downloaded
[atdgen: http] Command started
[asl.0.10] https://github.com/mirage/ocaml-asl/archive/v0.10.tar.gz downloaded
[base64: http] Command started
[asn1-combinators: http] Command started
[asn1-combinators.0.1.2] https://github.com/mirleft/ocaml-asn1-combinators/archive/0.1.2.tar.gz downloaded
[biniou: http] Command started
[base64: http] Command started
[base64.2.1.2] https://github.com/mirage/ocaml-base64/releases/download/v2.1.2/base64-2.1.2.tbz downloaded
[cohttp: http] Command started
[atdgen: http] Command started
[atdgen.1.10.0] https://github.com/mjambon/atdgen/archive/v1.10.0.tar.gz downloaded
[conduit: http] Command started
[biniou: http] Command started
[biniou.1.0.12] https://github.com/mjambon/biniou/archive/v1.0.12.tar.gz downloaded
[easy-format: http] Command started
[conduit: http] Command started
[conduit.0.13.0] https://github.com/mirage/ocaml-conduit/archive/v0.13.0.tar.gz downloaded
[fieldslib: http] Command started
[easy-format: http] Command started
[easy-format.1.2.0] https://github.com/mjambon/easy-format/archive/v1.2.0.tar.gz downloaded
[github: http] Command started
[cohttp: http] Command started
[cohttp.0.21.0] https://github.com/mirage/ocaml-cohttp/archive/v0.21.0.tar.gz downloaded
[github-hooks: http] Command started
[fieldslib: http] Command started
[fieldslib.113.33.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/fieldslib-113.33.03.tar.gz downloaded
[hex: http] Command started
[github-hooks: http] Command started
[github-hooks.0.1.1] https://github.com/dsheets/ocaml-github-hooks/releases/download/0.1.1/github-hooks-0.1.1.tbz downloaded
[hvsock: http] Command started
[hex: http] Command started
[hex.1.0.0] https://github.com/mirage/ocaml-hex/archive/1.0.0.tar.gz downloaded
[magic-mime: http] Command started
[github: http] Command started
[github.2.0.3] https://github.com/mirage/ocaml-github/archive/v2.0.3.tar.gz downloaded
[menhir: http] Command started
[menhir: http] Command started
[menhir.20160825] http://gallium.inria.fr/~fpottier/menhir/menhir-20160825.tar.gz downloaded
[mirage-flow: http] Command started
[hvsock: http] Command started
[hvsock.0.10.0] https://github.com/djs55/ocaml-hvsock/archive/v0.10.0.tar.gz downloaded
[mtime: http] Command started
[mtime: http] Command started
[mtime.0.8.3] http://erratique.ch/software/mtime/releases/mtime-0.8.3.tbz downloaded
[nocrypto: http] Command started
[magic-mime: http] Command started
[magic-mime.1.0.0] https://github.com/mirage/ocaml-magic-mime/archive/v1.0.0.tar.gz downloaded
[oasis: http] Command started
[mirage-flow: http] Command started
[mirage-flow.1.1.0] https://github.com/mirage/mirage-flow/archive/v1.1.0.tar.gz downloaded
[ocamlify: http] Command started
[oasis: http] Command started
[oasis.0.4.7] https://forge.ocamlcore.org/frs/download.php/1635/oasis-0.4.7.tar.gz downloaded
[ocamlmod: http] Command started
[ocamlify: http] Command started
[ocamlify.0.0.1] http://forge.ocamlcore.org/frs/download.php/379/ocamlify-0.0.1.tar.gz downloaded
[ppx_fields_conv: http] Command started
[ocamlmod: http] Command started
[ocamlmod.0.0.8] https://forge.ocamlcore.org/frs/download.php/1544/ocamlmod-0.0.8.tar.gz downloaded
[tls: http] Command started
[ppx_fields_conv: http] Command started
[ppx_fields_conv.113.33.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_fields_conv-113.33.03.tar.gz downloaded
[win-eventlog: http] Command started
[win-eventlog: http] Command started
[win-eventlog.0.1] https://github.com/djs55/ocaml-win-eventlog/archive/v0.1.tar.gz downloaded
[x509: http] Command started
[x509: http] Command started
[x509.0.5.3] https://github.com/mirleft/ocaml-x509/archive/0.5.3.tar.gz downloaded
[yojson: http] Command started
[tls: http] Command started
[tls.0.7.1] https://github.com/mirleft/ocaml-tls/archive/0.7.1.tar.gz downloaded
[zarith: http] Command started
[zarith: http] Command started
[zarith.1.4.1] https://forge.ocamlcore.org/frs/download.php/1574/zarith-1.4.1.tgz downloaded
[yojson: http] Command started
[yojson.1.3.3] https://github.com/mjambon/yojson/archive/v1.3.3.tar.gz downloaded
[nocrypto: http] Command started
[nocrypto.0.5.3] https://github.com/mirleft/ocaml-nocrypto/archive/v0.5.3.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[asl: make] Command started
[base64: ocaml build] Command started
[conf-gmp: sh] Command started
[conf-perl: perl] Command started
-> installed conf-perl.1
[conf-which: which which] Command started
-> installed conf-which.1
[easy-format: make] Command started
-> installed conf-gmp.1
[fieldslib: ./configure] Command started
-> installed base64.2.1.2
[hex: ./configure] Command started
[easy-format: make install] Command started
-> installed easy-format.1.2.0
[biniou: make] Command started
[fieldslib: make] Command started
[hex: make] Command started
[biniou: make install] Command started
-> installed biniou.1.0.12
[magic-mime: ./configure] Command started
-> installed fieldslib.113.33.03
[menhir: make Makefile] Command started
[magic-mime: make] Command started
[hex: make install] Command started
[asl: make install] Command started
-> installed hex.1.0.0
[mirage-flow: ./configure] Command started
-> installed asl.0.10
-> installed mirage-no-xen.1
[mtime: ocaml] Command started
[magic-mime: make install] Command started
[mtime: ocaml] Command started
[mirage-flow: make] Command started
-> installed mtime.0.8.3
[ocamlify: ocaml setup.ml] Command started
-> installed magic-mime.1.0.0
[ocamlmod: ocaml setup.ml] Command started
[ocamlify: ocaml setup.ml] Command started
[ocamlmod: ocaml setup.ml] Command started
[mirage-flow: make install] Command started
[ocamlify: ocaml setup.ml] Command started
-> installed ocamlify.0.0.1
[ppx_fields_conv: ./configure] Command started
-> installed mirage-flow.1.1.0
[hvsock: ocaml setup.ml] Command started
[ocamlmod: ocaml setup.ml] Command started
[ppx_fields_conv: make] Command started
-> installed ocamlmod.0.0.8
[oasis: ocaml setup.ml] Command started
[hvsock: make] Command started
[oasis: ocaml setup.ml] Command started
-> installed ppx_fields_conv.113.33.03
[win-eventlog: make] Command started
[hvsock: make install] Command started
-> installed hvsock.0.10.0
[yojson: make] Command started
[win-eventlog: make install] Command started
-> installed win-eventlog.0.1
[zarith: ./configure] Command started
[zarith: make] Command started
[yojson: make install-lib] Command started
-> installed yojson.1.3.3
[menhir: make Makefile] Command started
-> installed menhir.20160825
[atd: make] Command started
[zarith: make install] Command started
-> installed zarith.1.4.1
[asn1-combinators: ocaml setup.ml] Command started
[asn1-combinators: ocaml setup.ml] Command started
[atd: make install] Command started
-> installed atd.1.2.0
[atdgen: make] Command started
[asn1-combinators: ocaml setup.ml] Command started
-> installed asn1-combinators.0.1.2
[atdgen: make findlib-install] Command started
-> installed atdgen.1.10.0
[oasis: ocaml setup.ml] Command started
-> installed oasis.0.4.7
[nocrypto: ./configure] Command started
[nocrypto: make] Command started
[nocrypto: make install] Command started
-> installed nocrypto.0.5.3
[x509: ./configure] Command started
[x509: make] Command started
[x509: make install] Command started
-> installed x509.0.5.3
[tls: ./configure] Command started
[tls: make] Command started
[tls: make install] Command started
-> installed tls.0.7.1
[conduit: make] Command started
[conduit: make install] Command started
-> installed conduit.0.13.0
[cohttp: make] Command started
[cohttp: make install] Command started
-> installed cohttp.0.21.0
[github: ocaml setup.ml] Command started
[github: ocaml setup.ml] Command started
[github: ocaml setup.ml] Command started
-> installed github.2.0.3
[github-hooks: ocaml build] Command started
-> installed github-hooks.0.1.1
Done.
 ---> af716af007e5
Removing intermediate container 65a50574f83b
Step 7 : COPY . /home/opam/src/datakit/
 ---> dee976cb4bf5
Removing intermediate container d13bf830254b
Step 8 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in c362a4b9cf8d
 ---> c872df0dd3e9
Removing intermediate container c362a4b9cf8d
Step 9 : RUN cd /home/opam/src/datakit &&     git diff && git status --porcelain &&     git checkout . && scripts/watermark.sh &&     git status --porcelain
 ---> Running in 075a9f4d5937
?? Dockerfile.ci
?? bridge/github/datakit-github.mllib
?? bridge/github/datakit_github.ml
?? bridge/github/datakit_github.mli
?? bridge/github/datakit_github_api.ml
?? bridge/github/datakit_github_api.mli
?? bridge/github/datakit_github_vfs.ml
?? bridge/github/datakit_github_vfs.mli
?? ci/.merlin
?? ci/Makefile
?? ci/_tags
?? ci/skeleton/
?? ci/src/
?? ci/static/
?? ci/tests/
?? datakit-ci.opam
?? myocamlbuild.ml
?? pkg/META.ci
?? src/datakit-client/
?? src/datakit-server/
?? src/datakit/
?? src/datakit_conduit.ml
?? src/datakit_conduit.mli
?? src/datakit_log.ml
?? src/datakit_log.mli
 M src/version.ml
?? Dockerfile.ci
?? bridge/github/datakit-github.mllib
?? bridge/github/datakit_github.ml
?? bridge/github/datakit_github.mli
?? bridge/github/datakit_github_api.ml
?? bridge/github/datakit_github_api.mli
?? bridge/github/datakit_github_vfs.ml
?? bridge/github/datakit_github_vfs.mli
?? ci/.merlin
?? ci/Makefile
?? ci/_tags
?? ci/skeleton/
?? ci/src/
?? ci/static/
?? ci/tests/
?? datakit-ci.opam
?? myocamlbuild.ml
?? pkg/META.ci
?? src/datakit-client/
?? src/datakit-server/
?? src/datakit/
?? src/datakit_conduit.ml
?? src/datakit_conduit.mli
?? src/datakit_log.ml
?? src/datakit_log.mli
 ---> f0e01c058379
Removing intermediate container 075a9f4d5937
Step 10 : RUN opam update datakit-github.dev
 ---> Running in d4744a5aa3c7
[91m[ERROR] Cannot update the repository datakit-github.dev.
[0mThe command '/bin/sh -c opam update datakit-github.dev' returned a non-zero code: 66
[2016-11-02 14:17.29] Failed: Command "docker" "build" "-f" "Dockerfile.github" "." exited with status 1
