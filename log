=== Run docker-build-datakit on commit b450d04b682c2acb866048971eed51785c6ff966
[2016-11-02 14:10.36] Starting...
Cloning into '/tmp/with_clone8b0cbbc'...
done.
HEAD is now at b450d04 Merge pull request #285 from samoht/master
[2016-11-02 14:10.37] Running "docker" "build" "-f" "Dockerfile" "."...
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.655 MB
Step 1 : FROM docker/datakit:server
 ---> b6891c5e3730
Step 2 : COPY opam /home/opam/src/datakit/opam
 ---> b5ed027e1fb1
Removing intermediate container bc038518a673
Step 3 : RUN opam pin add datakit.dev /home/opam/src/datakit -n
 ---> Running in 1c3503d40e79
Package datakit does not exist, create as a NEW package ? [Y/n] y
datakit is now path-pinned to /home/opam/src/datakit

[datakit: local]
[datakit] /home/opam/src/datakit/ synchronized
[datakit] Installing new package description from /home/opam/src/datakit

 ---> 63c12475c18a
Removing intermediate container 1c3503d40e79
Step 4 : RUN opam depext datakit && opam install datakit --deps
 ---> Running in 2be86bc15662
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - linux-headers
#  - m4
#  - ncurses-dev
#  - openssl-dev
#  - pkgconfig
#  - zlib-dev
m4
ncurses-dev
pkgconfig
# The following new OS packages need to be installed: linux-headers openssl-dev zlib-dev
The following command needs to be run through "sudo":
    apk add linux-headers openssl-dev zlib-dev
(1/3) Installing linux-headers (4.4.6-r1)
(2/3) Installing zlib-dev (1.2.8-r2)
(3/3) Installing openssl-dev (1.0.2j-r0)
OK: 447 MiB in 89 packages
# OS packages installation successful

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit: local] Command started
[datakit] /home/opam/src/datakit/ already up-to-date
The following actions will be performed:
  - install mtime           0.8.3    
  - install bin_prot        113.33.03
  - install magic-mime      1.0.0    
  - install uutf            0.9.4    
  - install conduit         0.13.0   
  - install fieldslib       113.33.03
  - install irmin-watcher   0.1.4    
  - install asl             0.10     
  - install camlzip         1.06     
  - install base64          2.1.2    
  - install mstruct         1.3.2    
  - install crunch          1.4.1    
  - install mirage-flow     1.1.0    
  - install hex             1.0.0    
  - install win-eventlog    0.1      
  - install ocamlgraph      1.8.7    
  - install jsonm           0.9.1    
  - install ppx_fields_conv 113.33.03
  - install hvsock          0.10.0   
  - install ezjsonm         0.4.3    
  - install cohttp          0.21.0   
  - install mirage-tc       0.3.0    
  - install git             1.9.2    
  - install irmin           0.11.1   
===== 24 to install =====
Do you want to continue ? [Y/n] y

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[asl: http] Command started
[base64: http] Command started
[bin_prot: http] Command started
[base64: http] Command started
[base64.2.1.2] https://github.com/mirage/ocaml-base64/releases/download/v2.1.2/base64-2.1.2.tbz downloaded
[camlzip: http] Command started
[bin_prot: http] Command started
[bin_prot.113.33.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/bin_prot-113.33.03.tar.gz downloaded
[cohttp: http] Command started
[asl: http] Command started
[asl.0.10] https://github.com/mirage/ocaml-asl/archive/v0.10.tar.gz downloaded
[conduit: http] Command started
[camlzip: http] Command started
[camlzip.1.06] https://forge.ocamlcore.org/frs/download.php/1616/camlzip-1.06.tar.gz downloaded
[crunch: http] Command started
[conduit: http] Command started
[conduit.0.13.0] https://github.com/mirage/ocaml-conduit/archive/v0.13.0.tar.gz downloaded
[ezjsonm: http] Command started
[crunch: http] Command started
[crunch.1.4.1] https://github.com/mirage/ocaml-crunch/archive/v1.4.1.tar.gz downloaded
[fieldslib: http] Command started
[cohttp: http] Command started
[cohttp.0.21.0] https://github.com/mirage/ocaml-cohttp/archive/v0.21.0.tar.gz downloaded
[git: http] Command started
[fieldslib: http] Command started
[fieldslib.113.33.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/fieldslib-113.33.03.tar.gz downloaded
[hex: http] Command started
[ezjsonm: http] Command started
[ezjsonm.0.4.3] https://github.com/mirage/ezjsonm/archive/0.4.3.tar.gz downloaded
[hvsock: http] Command started
[git: http] Command started
[git.1.9.2] https://github.com/mirage/ocaml-git/releases/download/1.9.2/git-1.9.2.tbz downloaded
[irmin: http] Command started
[hex: http] Command started
[hex.1.0.0] https://github.com/mirage/ocaml-hex/archive/1.0.0.tar.gz downloaded
[irmin-watcher: http] Command started
[hvsock: http] Command started
[hvsock.0.10.0] https://github.com/djs55/ocaml-hvsock/archive/v0.10.0.tar.gz downloaded
[jsonm: http] Command started
[jsonm: http] Command started
[jsonm.0.9.1] http://erratique.ch/software/jsonm/releases/jsonm-0.9.1.tbz downloaded
[magic-mime: http] Command started
[irmin-watcher: http] Command started
[irmin-watcher.0.1.4] https://github.com/samoht/irmin-watcher/releases/download/0.1.4/irmin-watcher-0.1.4.tbz downloaded
[mirage-flow: http] Command started
[magic-mime: http] Command started
[magic-mime.1.0.0] https://github.com/mirage/ocaml-magic-mime/archive/v1.0.0.tar.gz downloaded
[mirage-tc: http] Command started
[irmin: http] Command started
[irmin.0.11.1] https://github.com/mirage/irmin/archive/0.11.1.tar.gz downloaded
[mstruct: http] Command started
[mirage-flow: http] Command started
[mirage-flow.1.1.0] https://github.com/mirage/mirage-flow/archive/v1.1.0.tar.gz downloaded
[mtime: http] Command started
[mtime: http] Command started
[mtime.0.8.3] http://erratique.ch/software/mtime/releases/mtime-0.8.3.tbz downloaded
[ocamlgraph: http] Command started
[ocamlgraph: http] Command started
[ocamlgraph.1.8.7] http://ocamlgraph.lri.fr/download/ocamlgraph-1.8.7.tar.gz downloaded
[ppx_fields_conv: http] Command started
[mirage-tc: http] Command started
[mirage-tc.0.3.0] https://github.com/mirage/mirage-tc/archive/0.3.0.tar.gz downloaded
[uutf: http] Command started
[uutf: http] Command started
[uutf.0.9.4] http://erratique.ch/software/uutf/releases/uutf-0.9.4.tbz downloaded
[win-eventlog: http] Command started
[ppx_fields_conv: http] Command started
[ppx_fields_conv.113.33.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_fields_conv-113.33.03.tar.gz downloaded
[mstruct: http] Command started
[mstruct.1.3.2] https://github.com/mirage/ocaml-mstruct/archive/1.3.2.tar.gz downloaded
[win-eventlog: http] Command started
[win-eventlog.0.1] https://github.com/djs55/ocaml-win-eventlog/archive/v0.1.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[asl: make] Command started
[base64: ocaml build] Command started
[bin_prot: ./configure] Command started
[camlzip: make all] Command started
-> installed base64.2.1.2
[conduit: make] Command started
[camlzip: make allopt] Command started
[bin_prot: make] Command started
[camlzip: make install-findlib] Command started
-> installed camlzip.1.06
[crunch: ocaml setup.ml] Command started
[crunch: ocaml setup.ml] Command started
[conduit: make install] Command started
-> installed conduit.0.13.0
[fieldslib: ./configure] Command started
[asl: make install] Command started
[crunch: ocaml setup.ml] Command started
[fieldslib: make] Command started
-> installed bin_prot.113.33.03
[hex: ./configure] Command started
-> installed asl.0.10
[irmin-watcher: ocaml build] Command started
-> installed crunch.1.4.1
[magic-mime: ./configure] Command started
-> installed irmin-watcher.0.1.4
[mirage-flow: ./configure] Command started
-> installed fieldslib.113.33.03
[mstruct: ./configure] Command started
[hex: make] Command started
[magic-mime: make] Command started
[mirage-flow: make] Command started
[mstruct: make] Command started
[hex: make install] Command started
[magic-mime: make install] Command started
[mstruct: make install] Command started
-> installed hex.1.0.0
[mtime: ocaml] Command started
[mtime: ocaml] Command started
[mirage-flow: make install] Command started
-> installed magic-mime.1.0.0
[ocamlgraph: ./configure] Command started
-> installed mstruct.1.3.2
[ppx_fields_conv: ./configure] Command started
-> installed mtime.0.8.3
[uutf: ocaml] Command started
[ocamlgraph: make] Command started
[uutf: ocaml] Command started
-> installed mirage-flow.1.1.0
[hvsock: ocaml setup.ml] Command started
[ppx_fields_conv: make] Command started
-> installed uutf.0.9.4
[jsonm: ocaml setup.ml] Command started
[hvsock: make] Command started
[jsonm: ocaml setup.ml] Command started
-> installed ppx_fields_conv.113.33.03
[cohttp: make] Command started
[hvsock: make install] Command started
[jsonm: ocaml setup.ml] Command started
-> installed jsonm.0.9.1
[ezjsonm: ./configure] Command started
-> installed hvsock.0.10.0
[win-eventlog: make] Command started
[ocamlgraph: make install-findlib] Command started
-> installed ocamlgraph.1.8.7
[ezjsonm: make] Command started
[ezjsonm: make install] Command started
[win-eventlog: make install] Command started
-> installed ezjsonm.0.4.3
[mirage-tc: ./configure] Command started
-> installed win-eventlog.0.1
[mirage-tc: make] Command started
[mirage-tc: make install] Command started
-> installed mirage-tc.0.3.0
[cohttp: make install] Command started
-> installed cohttp.0.21.0
[git: ocaml build] Command started
-> installed git.1.9.2
[irmin: ./configure] Command started
[irmin: make] Command started
[irmin: make install] Command started
-> installed irmin.0.11.1
Done.
 ---> df18af7d8af4
Removing intermediate container 2be86bc15662
Step 5 : COPY . /home/opam/src/datakit
 ---> c247cd605365
Removing intermediate container 8af39bc916cf
Step 6 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in f321de108473
 ---> dcb225c95a28
Removing intermediate container f321de108473
Step 7 : RUN cd /home/opam/src/datakit &&     git diff && git status --porcelain &&     git checkout . && scripts/watermark.sh &&     git status --porcelain
 ---> Running in 1a9ee1a1690f
?? Dockerfile.ci
?? bridge/github/datakit-github.mllib
?? bridge/github/datakit_github.ml
?? bridge/github/datakit_github.mli
?? bridge/github/datakit_github_api.ml
?? bridge/github/datakit_github_api.mli
?? bridge/github/datakit_github_vfs.ml
?? bridge/github/datakit_github_vfs.mli
?? ci/.merlin
?? ci/Makefile
?? ci/_tags
?? ci/skeleton/
?? ci/src/
?? ci/static/
?? ci/tests/
?? datakit-ci.opam
?? myocamlbuild.ml
?? pkg/META.ci
?? src/datakit-client/
?? src/datakit-server/
?? src/datakit/
?? src/datakit_conduit.ml
?? src/datakit_conduit.mli
?? src/datakit_log.ml
?? src/datakit_log.mli
 M src/version.ml
?? Dockerfile.ci
?? bridge/github/datakit-github.mllib
?? bridge/github/datakit_github.ml
?? bridge/github/datakit_github.mli
?? bridge/github/datakit_github_api.ml
?? bridge/github/datakit_github_api.mli
?? bridge/github/datakit_github_vfs.ml
?? bridge/github/datakit_github_vfs.mli
?? ci/.merlin
?? ci/Makefile
?? ci/_tags
?? ci/skeleton/
?? ci/src/
?? ci/static/
?? ci/tests/
?? datakit-ci.opam
?? myocamlbuild.ml
?? pkg/META.ci
?? src/datakit-client/
?? src/datakit-server/
?? src/datakit/
?? src/datakit_conduit.ml
?? src/datakit_conduit.mli
?? src/datakit_log.ml
?? src/datakit_log.mli
 ---> 82060a135bcb
Removing intermediate container 1a9ee1a1690f
Step 8 : RUN opam update datakit
 ---> Running in 26419da7bd72

=-=- Synchronizing development packages -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit: local] Command started
[datakit] /home/opam/src/datakit/ synchronized
 ---> a3b7468f3c6f
Removing intermediate container 26419da7bd72
Step 9 : RUN opam install datakit.dev -vv
 ---> Running in 7da1671b5a99

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/system/packages.dev/datakit"
- sending incremental file list
- ./
- api/
- 
- sent 8,631 bytes  received 55 bytes  17,372.00 bytes/sec
- total size is 1,368,946  speedup is 157.60
[datakit] /home/opam/src/datakit/ synchronized
The following actions will be performed:
  - install datakit dev*

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/system/packages.dev/datakit"
- sending incremental file list
- 
- sent 8,621 bytes  received 45 bytes  17,332.00 bytes/sec
- total size is 1,368,946  speedup is 157.97
[datakit.dev] /home/opam/src/datakit/ already up-to-date

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit: ocaml build] Command started
+ ocaml "pkg/pkg.ml" "build" "--pinned" "true" "--tests" "false" (CWD=/home/opam/.opam/system/build/datakit.dev)
- ocamlfind ocamlopt unix.cmxa -I /usr/lib/ocaml/ocamlbuild /usr/lib/ocaml/ocamlbuild/ocamlbuildlib.cmxa -linkpkg myocamlbuild.ml /usr/lib/ocaml/ocamlbuild/ocamlbuild.cmx -o myocamlbuild
- ocamlfind ocamldep -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/ivfs/ivfs.ml > src/ivfs/ivfs.ml.depends
- ocamlfind ocamldep -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/ivfs/ivfs.mli > src/ivfs/ivfs.mli.depends
- ocamlfind ocamldep -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/ivfs/ivfs_tree.mli > src/ivfs/ivfs_tree.mli.depends
- ocamlfind ocamldep -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/ivfs/ivfs_blob.mli > src/ivfs/ivfs_blob.mli.depends
- ocamlfind ocamldep -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/vfs/vfs.mli > src/vfs/vfs.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/vfs -I src -I ci/src -I src/ivfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o src/vfs/vfs.cmi src/vfs/vfs.mli
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/ivfs -I src -I ci/src -I src/vfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o src/ivfs/ivfs_blob.cmi src/ivfs/ivfs_blob.mli
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/ivfs -I src -I ci/src -I src/vfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o src/ivfs/ivfs_tree.cmi src/ivfs/ivfs_tree.mli
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/ivfs -I src -I ci/src -I src/vfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o src/ivfs/ivfs.cmi src/ivfs/ivfs.mli
- ocamlfind ocamldep -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/ivfs/ivfs_blob.ml > src/ivfs/ivfs_blob.ml.depends
- ocamlfind ocamldep -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/vfs/vfs.ml > src/vfs/vfs.ml.depends
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/vfs -I src -I ci/src -I src/ivfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o src/vfs/vfs.cmx src/vfs/vfs.ml
- ocamlfind ocamldep -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/ivfs/ivfs_debug.ml > src/ivfs/ivfs_debug.ml.depends
- ocamlfind ocamldep -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/ivfs/ivfs_debug.mli > src/ivfs/ivfs_debug.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/ivfs -I src -I ci/src -I src/vfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o src/ivfs/ivfs_debug.cmi src/ivfs/ivfs_debug.mli
- ocamlfind ocamldep -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/ivfs/ivfs_merge.ml > src/ivfs/ivfs_merge.ml.depends
- ocamlfind ocamldep -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/ivfs/ivfs_merge.mli > src/ivfs/ivfs_merge.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/ivfs -I src -I ci/src -I src/vfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o src/ivfs/ivfs_merge.cmi src/ivfs/ivfs_merge.mli
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/ivfs -I src -I ci/src -I src/vfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o src/ivfs/ivfs_blob.cmx src/ivfs/ivfs_blob.ml
- ocamlfind ocamldep -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/ivfs/ivfs_tree.ml > src/ivfs/ivfs_tree.ml.depends
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/ivfs -I src -I ci/src -I src/vfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o src/ivfs/ivfs_tree.cmx src/ivfs/ivfs_tree.ml
- ocamlfind ocamldep -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/ivfs/ivfs_remote.ml > src/ivfs/ivfs_remote.ml.depends
- ocamlfind ocamldep -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/ivfs/ivfs_remote.mli > src/ivfs/ivfs_remote.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/ivfs -I src -I ci/src -I src/vfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o src/ivfs/ivfs_remote.cmi src/ivfs/ivfs_remote.mli
- ocamlfind ocamldep -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/ivfs/ivfs_rw.ml > src/ivfs/ivfs_rw.ml.depends
- ocamlfind ocamldep -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/ivfs/ivfs_rw.mli > src/ivfs/ivfs_rw.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/ivfs -I src -I ci/src -I src/vfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o src/ivfs/ivfs_rw.cmi src/ivfs/ivfs_rw.mli
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/ivfs -I src -I ci/src -I src/vfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o src/ivfs/ivfs_debug.cmx src/ivfs/ivfs_debug.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/ivfs -I src -I ci/src -I src/vfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o src/ivfs/ivfs_merge.cmx src/ivfs/ivfs_merge.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/ivfs -I src -I ci/src -I src/vfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o src/ivfs/ivfs_remote.cmx src/ivfs/ivfs_remote.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/ivfs -I src -I ci/src -I src/vfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o src/ivfs/ivfs_rw.cmx src/ivfs/ivfs_rw.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/ivfs -I src -I ci/src -I src/vfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o src/ivfs/ivfs.cmx src/ivfs/ivfs.ml
- ocamlfind ocamlopt -a -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' src/ivfs/ivfs_blob.cmx src/ivfs/ivfs_debug.cmx src/ivfs/ivfs_tree.cmx src/ivfs/ivfs_merge.cmx src/ivfs/ivfs_remote.cmx src/ivfs/ivfs_rw.cmx src/ivfs/ivfs.cmx -o src/ivfs/datakit-ivfs.cmxa
- ocamlfind ocamlopt -shared -linkall -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' src/ivfs/datakit-ivfs.cmxa -o src/ivfs/datakit-ivfs.cmxs
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/ivfs -I src -I ci/src -I src/vfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o src/ivfs/ivfs.cmo src/ivfs/ivfs.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/ivfs -I src -I ci/src -I src/vfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o src/ivfs/ivfs_debug.cmo src/ivfs/ivfs_debug.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/ivfs -I src -I ci/src -I src/vfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o src/ivfs/ivfs_tree.cmo src/ivfs/ivfs_tree.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/ivfs -I src -I ci/src -I src/vfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o src/ivfs/ivfs_remote.cmo src/ivfs/ivfs_remote.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/ivfs -I src -I ci/src -I src/vfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o src/ivfs/ivfs_blob.cmo src/ivfs/ivfs_blob.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/ivfs -I src -I ci/src -I src/vfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o src/ivfs/ivfs_merge.cmo src/ivfs/ivfs_merge.ml
[91m[ERROR] The compilation of datakit failed at "ocaml pkg/pkg.ml build --pinned
        true --tests false".
[0m- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/ivfs -I src -I ci/src -I src/vfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o src/ivfs/ivfs_rw.cmo src/ivfs/ivfs_rw.ml
- ocamlfind ocamlc -a -package 'irmin tc' -package 'bytes lwt astring logs result cstruct fmt rresult' src/ivfs/ivfs_blob.cmo src/ivfs/ivfs_debug.cmo src/ivfs/ivfs_tree.cmo src/ivfs/ivfs_merge.cmo src/ivfs/ivfs_remote.cmo src/ivfs/ivfs_rw.cmo src/ivfs/ivfs.cmo -o src/ivfs/datakit-ivfs.cma
- ocamlfind ocamldep -package protocol-9p.unix -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'protocol-9p.unix camlzip' -package 'irmin.http cohttp.lwt' -package 'git irmin irmin.git irmin.mem irmin-watcher' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/bin/main.ml > src/bin/main.ml.depends
- ocamlfind ocamldep -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit_conduit.mli > src/datakit_conduit.mli.depends
- ocamlfind ocamldep -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit_log.mli > src/datakit_log.mli.depends
- ocamlfind ocamldep -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/irmin-io/ir_io.mli > src/irmin-io/ir_io.mli.depends
- ocamlfind ocamldep -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/version.ml > src/version.ml.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src -I ci/src -I src/vfs -I src/ivfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o src/datakit_conduit.cmi src/datakit_conduit.mli
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src -I ci/src -I src/vfs -I src/ivfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o src/datakit_log.cmi src/datakit_log.mli
- + ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src -I ci/src -I src/vfs -I src/ivfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o src/datakit_log.cmi src/datakit_log.mli
- File "src/datakit_log.mli", line 10, characters 21-38:
- Error: Unbound module Cmdliner
- Command exited with code 2.
- pkg.ml: [ERROR] cmd ['ocamlbuild' '-use-ocamlfind' '-classic-display' '-tag' 'debug'
-      '-build-dir' '_build' 'CHANGES.md' 'LICENSE.md' 'README.md' 'pkg/META'
-      'opam' 'src/ivfs/datakit-ivfs.a' 'src/ivfs/datakit-ivfs.cmxs'
-      'src/ivfs/datakit-ivfs.cmxa' 'src/ivfs/datakit-ivfs.cma'
-      'src/ivfs/ivfs_rw.cmx' 'src/ivfs/ivfs_rw.cmi' 'src/ivfs/ivfs_rw.mli'
-      'src/ivfs/ivfs_merge.cmx' 'src/ivfs/ivfs_merge.cmi'
-      'src/ivfs/ivfs_merge.mli' 'src/ivfs/ivfs_blob.cmx'
-      'src/ivfs/ivfs_blob.cmi' 'src/ivfs/ivfs_blob.mli'
-      'src/ivfs/ivfs_remote.cmx' 'src/ivfs/ivfs_remote.cmi'
-      'src/ivfs/ivfs_remote.mli' 'src/ivfs/ivfs_tree.cmx'
-      'src/ivfs/ivfs_tree.cmi' 'src/ivfs/ivfs_tree.mli'
-      'src/ivfs/ivfs_debug.cmx' 'src/ivfs/ivfs_debug.cmi'
-      'src/ivfs/ivfs_debug.mli' 'src/ivfs/ivfs.cmx' 'src/ivfs/ivfs.cmi'
-      'src/ivfs/ivfs.mli' 'src/bin/main.native' 'src/bin/mount.native']: exited with 10


=-=- Error report -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
The following actions failed
  - install datakit dev
No changes have been performed
[91m
#=== ERROR while installing datakit.dev =======================================#
# opam-version         1.2.2
# os                   linux
# command              ocaml pkg/pkg.ml build --pinned true --tests false
# path                 /home/opam/.opam/system/build/datakit.dev
# compiler             system (4.02.3)
# exit-code            1
# env-file             /home/opam/.opam/system/build/datakit.dev/datakit-6-1872ec.env
# stdout-file          /home/opam/.opam/system/build/datakit.dev/datakit-6-1872ec.out
# stderr-file          /home/opam/.opam/system/build/datakit.dev/datakit-6-1872ec.err
### stdout ###
# [...]
# ocamlfind ocamldep -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit_conduit.mli > src/datakit_conduit.mli.depends
# ocamlfind ocamldep -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit_log.mli > src/datakit_log.mli.depends
# ocamlfind ocamldep -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/irmin-io/ir_io.mli > src/irmin-io/ir_io.mli.depends
# ocamlfind ocamldep -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/version.ml > src/version.ml.depends
# ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src -I ci/src -I src/vfs -I src/ivfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o src/datakit_conduit.cmi src/datakit_conduit.mli
# ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src -I ci/src -I src/vfs -I src/ivfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o src/datakit_log.cmi src/datakit_log.mli
# + ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src -I ci/src -I src/vfs -I src/ivfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o src/datakit_log.cmi src/datakit_log.mli
# File "src/datakit_log.mli", line 10, characters 21-38:
# Error: Unbound module Cmdliner
# Command exited with code 2.
### stderr ###
# pkg.ml: [ERROR] cmd ['ocamlbuild' '-use-ocamlfind' '-classic-display' '-tag' 'debug'
# [...]
#      'src/ivfs/ivfs_merge.cmx' 'src/ivfs/ivfs_merge.cmi'
#      'src/ivfs/ivfs_merge.mli' 'src/ivfs/ivfs_blob.cmx'
#      'src/ivfs/ivfs_blob.cmi' 'src/ivfs/ivfs_blob.mli'
#      'src/ivfs/ivfs_remote.cmx' 'src/ivfs/ivfs_remote.cmi'
#      'src/ivfs/ivfs_remote.mli' 'src/ivfs/ivfs_tree.cmx'
#      'src/ivfs/ivfs_tree.cmi' 'src/ivfs/ivfs_tree.mli'
#      'src/ivfs/ivfs_debug.cmx' 'src/ivfs/ivfs_debug.cmi'
#      'src/ivfs/ivfs_debug.mli' 'src/ivfs/ivfs.cmx' 'src/ivfs/ivfs.cmi'
#      'src/ivfs/ivfs.mli' 'src/bin/main.native' 'src/bin/mount.native']: exited with 10

[0m[91m'opam install datakit.dev -vv' failed.
[0mThe command '/bin/sh -c opam install datakit.dev -vv' returned a non-zero code: 4
[2016-11-02 14:15.45] Failed: Command "docker" "build" "-f" "Dockerfile" "." exited with status 1
