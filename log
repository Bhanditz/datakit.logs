=== Docker build Dockerfile.prometheus
[2017-01-25 16:37.33] Starting...
Cloning into '/tmp/with_clone3e70cd22'...
done.
HEAD is now at ea6f402 Merge pull request #463 from talex5/replace-travis
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 5.929 MB
Step 1/16 : FROM ocaml/opam:alpine-3.5_ocaml-4.04.0
alpine-3.5_ocaml-4.04.0: Pulling from ocaml/opam
Digest: sha256:6228db8ff53491f3ce29a3253d572603e76da9ad3e94e98b14712086354c2c5c
Status: Image is up to date for ocaml/opam:alpine-3.5_ocaml-4.04.0
 ---> c94b531eae28
Step 2/16 : ENV OPAMYES 1
 ---> Using cache
 ---> 29473ba168c0
Step 3/16 : RUN sudo apk add tzdata
 ---> Using cache
 ---> 8b0c06c76885
Step 4/16 : RUN opam depext -i opam-devel && sudo cp $(opam config var "opam-devel:lib")/opam /usr/bin/opam
 ---> Using cache
 ---> f1dbfb598879
Step 5/16 : RUN rm -rf ~/.opam
 ---> Using cache
 ---> 1b4740fe8bc5
Step 6/16 : RUN opam init -y
 ---> Using cache
 ---> 9db118f40e81
Step 7/16 : RUN opam install ocaml -y
 ---> Using cache
 ---> 7aca762c9d68
Step 8/16 : RUN OPAMYES=1 opam depext -i cohttp lwt fmt
 ---> Using cache
 ---> a56f0c7694f5
Step 9/16 : ADD prometheus.opam /tmp/deps/opam
 ---> Using cache
 ---> 8808299086c8
Step 10/16 : RUN opam pin add -y tmp /tmp/deps/opam -n
 ---> Using cache
 ---> f9d851430e57
Step 11/16 : RUN opam depext tmp -y
 ---> Using cache
 ---> 93c32300b173
Step 12/16 : RUN opam install --deps-only tmp -y
 ---> Using cache
 ---> e04da18f4cdd
Step 13/16 : ADD . /home/opam/datakit
 ---> b19ad66ee945
Removing intermediate container af8e74df9bed
Step 14/16 : RUN sudo chown opam /home/opam/datakit
 ---> Running in 34a334299f7c
 ---> 0448d2b9ce65
Removing intermediate container 34a334299f7c
Step 15/16 : RUN opam pin add -y -k git prometheus /home/opam/datakit -n
 ---> Running in b8ac5f366306
Package prometheus does not exist, create as a NEW package ? [Y/n] y
[prometheus: git]
[prometheus: git]
[prometheus] git+file:///home/opam/datakit changed
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/packages.dev/prometheus/prometheus.opam from 1.2 to 2.0~alpha3
[0mprometheus is now pinned to git+file:///home/opam/datakit (version ~dev)
[91m[NOTE] Pinning in mixed mode: OPAM will use tracked files in the current working tree from /home/opam/datakit. If this is not what you want, pin to a given branch (e.g. git+file:///home/opam/datakit#HEAD)
[0m ---> 1da3af11d181
Removing intermediate container b8ac5f366306
Step 16/16 : RUN opam pin add -y -k git prometheus-app /home/opam/datakit
 ---> Running in 9ce2b72ce8f3
Package prometheus-app does not exist, create as a NEW package ? [Y/n] y
[prometheus-app: git]
[prometheus-app: git]
[prometheus-app] git+file:///home/opam/datakit changed
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/packages.dev/prometheus-app/prometheus-app.opam from 1.2 to 2.0~alpha3
[0mprometheus-app is now pinned to git+file:///home/opam/datakit (version ~dev)

[91m[NOTE] Pinning in mixed mode: OPAM will use tracked files in the current working tree from /home/opam/datakit. If this is not what you want, pin to a given branch (e.g. git+file:///home/opam/datakit#HEAD)
[0mThe following actions will be performed:
  - install prometheus     ~dev*                                [required by prometheus-app]
  - install prometheus-app ~dev*
===== 2 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/2: [prometheus: git]
Processing  2/2: [prometheus: git] [prometheus-app: git]
[prometheus] git+file:///home/opam/datakit changed
Processing  2/2: [prometheus-app: git]
[prometheus-app] git+file:///home/opam/datakit changed

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/4: [prometheus: ocaml build]
-> installed prometheus.~dev
Processing  3/4: [prometheus-app: ocaml build]
-> installed prometheus-app.~dev
Done.
# Run eval `opam config env` to update the current shell environment
 ---> 03e8aff8131b
Removing intermediate container 9ce2b72ce8f3
Successfully built 03e8aff8131b
[2017-01-25 16:38.03] Success
