=== Docker build Dockerfile.github
[2018-04-24 14:32.34] Starting...
Cloning into '/tmp/with_clone166efb65'...
done.
warning: remote HEAD refers to nonexistent ref, unable to checkout.

HEAD is now at de7ae7c Upgrade to ocaml-git 1.11.5 to fix infinite loop
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 6.128 MBSending build context to Docker daemon 6.685 MBSending build context to Docker daemon 7.242 MBSending build context to Docker daemon 7.799 MBSending build context to Docker daemon 8.356 MBSending build context to Docker daemon 8.913 MBSending build context to Docker daemon 9.311 MB
Step 1/22 : FROM ocaml/opam-dev:alpine-3.5_ocaml-4.05.0
alpine-3.5_ocaml-4.05.0: Pulling from ocaml/opam-dev
Digest: sha256:56eabc77608dac440c0907a0d3d3c2fbff0d65141b20dc5296783c21d42310d3
Status: Image is up to date for ocaml/opam-dev:alpine-3.5_ocaml-4.05.0
 ---> 1b9232af4c8c
Step 2/22 : RUN sudo apk add --no-cache tzdata aspcud gmp-dev perl libev-dev m4
 ---> Using cache
 ---> d0597535afb8
Step 3/22 : ENV OPAMERRLOGLEN 0 OPAMYES 1
 ---> Using cache
 ---> a0b121bfc5fa
Step 4/22 : RUN git -C /home/opam/opam-repository fetch origin &&     git -C /home/opam/opam-repository reset 818ebb219 --hard &&     opam update -u
 ---> Using cache
 ---> 78c138e3773a
Step 5/22 : RUN opam install alcotest lwt conf-libev inotify
 ---> Using cache
 ---> 0d3fb40c5bdf
Step 6/22 : COPY check-libev.ml /tmp/check-libev.ml
 ---> Using cache
 ---> de64742ed3fb
Step 7/22 : RUN opam config exec -- ocaml /tmp/check-libev.ml
 ---> Using cache
 ---> bcb6b47c536e
Step 8/22 : COPY *.opam /home/opam/src/datakit/
 ---> Using cache
 ---> 2b0683791775
Step 9/22 : RUN opam pin add /home/opam/src/datakit/ -n
 ---> Using cache
 ---> d740f973703f
Step 10/22 : RUN opam install datakit-bridge-github --deps -t
 ---> Running in 528936cc0d42

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-bridge-github.0.12.0] no changes from file:///home/opam/src/datakit

The following actions will be performed:
  - install   ppx_traverse_builtins   v0.10.0                          
  - install   conf-gmp                1                                
  - install   mirage-no-xen           1                                
  - install   re                      1.7.3                            
  - install   camomile                1.0.1                            
  - install   ocaml-migrate-parsetree 1.0.10         [required by lwt] 
  - install   rresult                 0.5.0                            
  - install   mirage-flow             1.3.0                            
  - install   react                   1.2.1                            
  - install   mirage-device           1.1.0                            
  - install   ocb-stubblr             0.1.1                            
  - install   base-num                base                             
  - install   mtime                   1.1.0                            
  - install   cppo_ocamlbuild         1.6.0                            
  - install   stringext               1.5.0                            
  - install   menhir                  20171222                         
  - install   mirage-no-solo5         1                                
  - install   magic-mime              1.1.0                            
  - install   win-error               0.2                              
  - install   decompress              0.7                              
  - install   fpath                   0.7.2                            
  - install   conf-perl               1                                
  - install   ppx_tools               5.0+4.05.0                       
  - install   ocaml-compiler-libs     v0.10.0                          
  - install   ocamlgraph              1.8.8                            
  - install   asetmap                 0.8.1                            
  - install   ocplib-endian           1.0                              
  - install   easy-format             1.3.1                            
  - install   duration                0.1.1                            
  - install   ppx_derivers            1.0                              
  - install   conf-which              1                                
  - install   base64                  2.2.0                            
  - install   ppx_tools_versioned     5.1            [required by lwt] 
  - install   mirage-channel          3.1.0                            
  - install   zed                     1.6                              
  - install   mirage-time             1.1.0                            
  - install   mirage-kv               1.1.1                            
  - install   mirage-clock            1.3.0                            
  - install   cpuid                   0.1.1                            
  - install   num                     0                                
  - install   zarith                  1.7                              
  - install   ppx_ast                 v0.10.0                          
  - install   atd                     1.12.0                           
  - install   ppx_deriving            4.2.1                            
  - install   biniou                  1.2.0                            
  - downgrade lwt                     4.0.1 to 3.3.0                   For the PPX, please install package lwt_ppx
                                                                       For Lwt_log and Lwt_daemon, please install package lwt_log
  - install   sexplib                 v0.10.0                          
  - install   yojson                  1.4.1                            
  - install   prometheus              0.5                              
  - install   named-pipe              0.4.0                            
  - install   mirage-time-lwt         1.1.0                            
  - install   lwt_react               1.1.1                            
  - install   logs                    0.6.2                            
  - recompile inotify                 2.3            [uses lwt]        
  - install   cstruct                 3.2.1                            
  - install   base                    v0.10.0                          
  - install   atdgen                  1.12.0                           
  - install   lambda-term             1.12.0                           
  - install   win-eventlog            0.1                              
  - install   bos                     0.2.0                            
  - install   asl                     0.11                             
  - install   irmin-watcher           0.3.0                            
  - install   mstruct                 1.4.0                            
  - install   mirage-kv-lwt           1.1.0                            
  - install   mirage-flow-lwt         1.4.0                            
  - install   hex                     1.2.0                            
  - install   datakit-server          0.12.0*                          
  - install   datakit-client          0.12.0*                          
  - install   cstruct-lwt             3.2.1                            
  - install   stdio                   v0.10.0                          
  - install   hvsock                  1.0.1                            
  - install   ppx_core                v0.10.0                          
  - install   configurator            v0.10.0                          
  - install   ppx_optcomp             v0.10.0                          
  - install   io-page                 2.0.1                            
  - install   ppx_driver              v0.10.4                          
  - install   mirage-channel-lwt      3.1.0                            
  - install   io-page-unix            2.0.1                            
  - install   ppx_metaquot            v0.10.0                          
  - install   fieldslib               v0.10.0                          
  - install   ppx_type_conv           v0.10.0                          
  - install   ppx_sexp_conv           v0.10.0                          
  - install   ppx_fields_conv         v0.10.0                          
  - install   uri                     1.9.6                            
  - install   protocol-9p             0.12.0                           
  - install   nocrypto                0.5.4                            
  - install   ipaddr                  2.8.0                            
  - install   irmin                   1.3.2                            
  - install   git                     1.11.5                           
  - install   cohttp                  1.1.0                            
  - install   protocol-9p-unix        0.12.0                           
  - install   datakit-server-9p       0.12.0*                          
  - install   conduit                 1.1.0                            
  - install   irmin-mem               1.3.0                            
  - install   irmin-git               1.3.0                            
  - install   cohttp-lwt              1.0.2                            
  - install   datakit-client-9p       0.12.0*                          
  - install   conduit-lwt             1.1.0                            
  - install   github                  3.1.0                            
  - install   git-http                1.11.4                           
  - install   conduit-lwt-unix        1.1.0                            
  - install   github-hooks            0.3.0                            
  - install   cohttp-lwt-unix         1.0.2                            
  - install   prometheus-app          0.5                              
  - install   github-unix             3.1.0                            
  - install   git-unix                1.11.5                           
  - install   datakit                 0.12.0*                          
  - install   github-hooks-unix       0.2.0                            
  - install   datakit-client-git      0.12.0*                          
  - install   datakit-github          0.12.0*                          
===== 108 to install | 1 to recompile | 1 to downgrade =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[asetmap.0.8.1] downloaded from http://erratique.ch/software/asetmap/releases/asetmap-0.8.1.tbz
[asl.0.11] downloaded from https://github.com/mirage/ocaml-asl/releases/download/0.11/asl-0.11.tbz
[atd.1.12.0] downloaded from https://github.com/mjambon/atd/archive/v1.12.0.tar.gz
[atdgen.1.12.0] downloaded from https://github.com/mjambon/atd/archive/v1.12.0.tar.gz
[base.v0.10.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.10/files/base-v0.10.0.tar.gz
[bos.0.2.0] downloaded from http://erratique.ch/software/bos/releases/bos-0.2.0.tbz
[base64.2.2.0] downloaded from https://github.com/mirage/ocaml-base64/releases/download/v2.2.0/base64-2.2.0.tbz
[biniou.1.2.0] downloaded from https://github.com/mjambon/biniou/archive/v1.2.0.tar.gz
[cohttp.1.1.0] downloaded from https://github.com/mirage/ocaml-cohttp/releases/download/v1.1.0/cohttp-1.1.0.tbz
[cohttp-lwt.1.0.2] downloaded from https://github.com/mirage/ocaml-cohttp/releases/download/v1.0.2/cohttp-1.0.2.tbz
[cohttp-lwt-unix.1.0.2] downloaded from https://github.com/mirage/ocaml-cohttp/releases/download/v1.0.2/cohttp-1.0.2.tbz
[conduit.1.1.0] downloaded from https://github.com/mirage/ocaml-conduit/releases/download/v1.1.0/conduit-1.1.0.tbz
[conduit-lwt-unix.1.1.0] found in cache
[configurator.v0.10.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.10/files/configurator-v0.10.0.tar.gz
[camomile.1.0.1] downloaded from https://github.com/yoriyuki/Camomile/releases/download/1.0.1/camomile-1.0.1.tbz
[conduit-lwt.1.1.0] downloaded from https://github.com/mirage/ocaml-conduit/releases/download/v1.1.0/conduit-1.1.0.tbz
[cppo_ocamlbuild.1.6.0] downloaded from https://github.com/mjambon/cppo/archive/v1.6.0.tar.gz
[cpuid.0.1.1] downloaded from https://github.com/pqwy/cpuid/releases/download/v0.1.1/cpuid-0.1.1.tbz
[cstruct.3.2.1] downloaded from https://github.com/mirage/ocaml-cstruct/releases/download/v3.2.1/cstruct-3.2.1.tbz
[decompress.0.7] downloaded from https://github.com/mirage/decompress/releases/download/v0.7/decompress-0.7.tbz
[cstruct-lwt.3.2.1] downloaded from https://github.com/mirage/ocaml-cstruct/releases/download/v3.2.1/cstruct-3.2.1.tbz
[duration.0.1.1] downloaded from https://github.com/hannesm/duration/releases/download/0.1.1/duration-0.1.1.tbz
[fpath.0.7.2] downloaded from http://erratique.ch/software/fpath/releases/fpath-0.7.2.tbz
[easy-format.1.3.1] downloaded from https://github.com/mjambon/easy-format/archive/v1.3.1.tar.gz
[fieldslib.v0.10.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.10/files/fieldslib-v0.10.0.tar.gz
[git.1.11.5] downloaded from https://github.com/mirage/ocaml-git/releases/download/1.11.5/git-1.11.5.tbz
[git-http.1.11.4] downloaded from https://github.com/mirage/ocaml-git/releases/download/1.11.4/git-1.11.4.tbz
[git-unix.1.11.5] downloaded from https://github.com/mirage/ocaml-git/releases/download/1.11.5/git-1.11.5.tbz
[github-hooks.0.3.0] downloaded from https://github.com/dsheets/ocaml-github-hooks/releases/download/0.3.0/github-hooks-0.3.0.tbz
[github.3.1.0] downloaded from https://github.com/mirage/ocaml-github/releases/download/3.1.0/github-3.1.0.tbz
[github-hooks-unix.0.2.0] downloaded from https://github.com/dsheets/ocaml-github-hooks/releases/download/0.2.0/github-hooks-0.2.0.tbz
[hex.1.2.0] downloaded from https://github.com/mirage/ocaml-hex/releases/download/v1.2.0/hex-1.2.0.tbz
[inotify.2.3] found in cache
[github-unix.3.1.0] downloaded from https://github.com/mirage/ocaml-github/releases/download/3.1.0/github-3.1.0.tbz
[hvsock.1.0.1] downloaded from https://github.com/mirage/ocaml-hvsock/releases/download/1.0.1/hvsock-1.0.1.tbz
[io-page.2.0.1] downloaded from https://github.com/mirage/io-page/releases/download/2.0.1/io-page-2.0.1.tbz
[io-page-unix.2.0.1] downloaded from https://github.com/mirage/io-page/releases/download/2.0.1/io-page-2.0.1.tbz
[ipaddr.2.8.0] downloaded from https://github.com/mirage/ocaml-ipaddr/releases/download/2.8.0/ipaddr-2.8.0.tbz
[irmin.1.3.2] downloaded from https://github.com/mirage/irmin/releases/download/1.3.2/irmin-1.3.2.tbz
[irmin-git.1.3.0] downloaded from https://github.com/mirage/irmin/releases/download/1.3.0/irmin-1.3.0.tbz
[irmin-mem.1.3.0] downloaded from https://github.com/mirage/irmin/releases/download/1.3.0/irmin-1.3.0.tbz
[logs.0.6.2] downloaded from http://erratique.ch/software/logs/releases/logs-0.6.2.tbz
[irmin-watcher.0.3.0] downloaded from https://github.com/mirage/irmin-watcher/releases/download/0.3.0/irmin-watcher-0.3.0.tbz
[lambda-term.1.12.0] downloaded from https://github.com/diml/lambda-term/releases/download/1.12.0/lambda-term-1.12.0.tbz
[lwt.3.3.0] downloaded from https://github.com/ocsigen/lwt/archive/3.3.0.tar.gz
[menhir.20171222] downloaded from http://gallium.inria.fr/~fpottier/menhir/menhir-20171222.tar.gz
[lwt_react.1.1.1] downloaded from https://github.com/ocsigen/lwt/archive/4.0.0.tar.gz
[magic-mime.1.1.0] downloaded from https://github.com/mirage/ocaml-magic-mime/releases/download/v1.1.0/magic-mime-1.1.0.tbz
[mirage-channel.3.1.0] downloaded from https://github.com/mirage/mirage-channel/releases/download/v3.1.0/mirage-channel-3.1.0.tbz
[mirage-channel-lwt.3.1.0] downloaded from https://github.com/mirage/mirage-channel/releases/download/v3.1.0/mirage-channel-3.1.0.tbz
[mirage-clock.1.3.0] downloaded from https://github.com/mirage/mirage-clock/releases/download/v1.3.0/mirage-clock-1.3.0.tbz
[mirage-device.1.1.0] downloaded from https://github.com/mirage/mirage-device/releases/download/v1.1.0/mirage-device-1.1.0.tbz
[mirage-flow-lwt.1.4.0] downloaded from https://github.com/mirage/mirage-flow/releases/download/v1.4.0/mirage-flow-1.4.0.tbz
[mirage-flow.1.3.0] downloaded from https://github.com/mirage/mirage-flow/releases/download/v1.3.0/mirage-flow-1.3.0.tbz
[mirage-kv.1.1.1] downloaded from https://github.com/mirage/mirage-kv/releases/download/v1.1.1/mirage-kv-1.1.1.tbz
[mirage-kv-lwt.1.1.0] downloaded from https://github.com/mirage/mirage-kv/releases/download/v1.1.0/mirage-kv-1.1.0.tbz
[mirage-time.1.1.0] downloaded from https://github.com/mirage/mirage-time/releases/download/v1.1.0/mirage-time-1.1.0.tbz
[mtime.1.1.0] downloaded from http://erratique.ch/software/mtime/releases/mtime-1.1.0.tbz
[mirage-time-lwt.1.1.0] downloaded from https://github.com/mirage/mirage-time/releases/download/v1.1.0/mirage-time-1.1.0.tbz
[mstruct.1.4.0] downloaded from https://github.com/mirage/ocaml-mstruct/releases/download/v1.4.0/mstruct-1.4.0.tbz
[named-pipe.0.4.0] downloaded from https://github.com/mirage/ocaml-named-pipe/releases/download/0.4.0/named-pipe-0.4.0.tbz
[ocaml-compiler-libs.v0.10.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.10/files/ocaml-compiler-libs-v0.10.0.tar.gz
[ocamlgraph.1.8.8] downloaded from http://ocamlgraph.lri.fr/download/ocamlgraph-1.8.8.tar.gz
[ocaml-migrate-parsetree.1.0.10] downloaded from https://github.com/ocaml-ppx/ocaml-migrate-parsetree/archive/v1.0.10.tar.gz
[ocb-stubblr.0.1.1] downloaded from https://github.com/pqwy/ocb-stubblr/releases/download/v0.1.1/ocb-stubblr-0.1.1.tbz
[ppx_ast.v0.10.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.10/files/ppx_ast-v0.10.0.tar.gz
[ocplib-endian.1.0] downloaded from https://github.com/OCamlPro/ocplib-endian/archive/1.0.tar.gz
[ppx_core.v0.10.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.10/files/ppx_core-v0.10.0.tar.gz
[nocrypto.0.5.4] downloaded from https://github.com/mirleft/ocaml-nocrypto/releases/download/v0.5.4/nocrypto-0.5.4.tbz
[ppx_derivers.1.0] downloaded from https://github.com/diml/ppx_derivers/archive/1.0.tar.gz
[ppx_deriving.4.2.1] downloaded from https://github.com/ocaml-ppx/ppx_deriving/archive/v4.2.1.tar.gz
[ppx_fields_conv.v0.10.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.10/files/ppx_fields_conv-v0.10.0.tar.gz
[ppx_metaquot.v0.10.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.10/files/ppx_metaquot-v0.10.0.tar.gz
[ppx_driver.v0.10.4] downloaded from https://github.com/janestreet/ppx_driver/archive/v0.10.4.tar.gz
[ppx_optcomp.v0.10.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.10/files/ppx_optcomp-v0.10.0.tar.gz
[ppx_sexp_conv.v0.10.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.10/files/ppx_sexp_conv-v0.10.0.tar.gz
[ppx_traverse_builtins.v0.10.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.10/files/ppx_traverse_builtins-v0.10.0.tar.gz
[ppx_tools.5.0+4.05.0] downloaded from https://github.com/ocaml-ppx/ppx_tools/archive/5.0+4.05.0.tar.gz
[ppx_type_conv.v0.10.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.10/files/ppx_type_conv-v0.10.0.tar.gz
[ppx_tools_versioned.5.1] downloaded from https://github.com/ocaml-ppx/ppx_tools_versioned/archive/5.1.tar.gz
[prometheus.0.5] downloaded from https://github.com/mirage/prometheus/releases/download/v0.5/prometheus-0.5.tbz
[prometheus-app.0.5] downloaded from https://github.com/mirage/prometheus/releases/download/v0.5/prometheus-0.5.tbz
[protocol-9p.0.12.0] downloaded from https://github.com/mirage/ocaml-9p/releases/download/v0.12.0/protocol-9p-0.12.0.tbz
[react.1.2.1] downloaded from http://erratique.ch/software/react/releases/react-1.2.1.tbz
[rresult.0.5.0] downloaded from http://erratique.ch/software/rresult/releases/rresult-0.5.0.tbz
[protocol-9p-unix.0.12.0] downloaded from https://github.com/mirage/ocaml-9p/releases/download/v0.12.0/protocol-9p-0.12.0.tbz
[sexplib.v0.10.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.10/files/sexplib-v0.10.0.tar.gz
[re.1.7.3] downloaded from https://github.com/ocaml/ocaml-re/releases/download/1.7.3/re-1.7.3.tbz
[stdio.v0.10.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.10/files/stdio-v0.10.0.tar.gz
[stringext.1.5.0] downloaded from https://github.com/rgrinberg/stringext/archive/1.5.0.zip
[win-error.0.2] downloaded from https://github.com/djs55/ocaml-win-error/archive/v0.2.tar.gz
[uri.1.9.6] downloaded from https://github.com/mirage/ocaml-uri/releases/download/v1.9.6/uri-1.9.6.tbz
[win-eventlog.0.1] downloaded from https://github.com/djs55/ocaml-win-eventlog/archive/v0.1.tar.gz
[yojson.1.4.1] downloaded from https://github.com/mjambon/yojson/archive/v1.4.1.tar.gz
[zarith.1.7] downloaded from https://github.com/ocaml/Zarith/archive/release-1.7.tar.gz
[zed.1.6] downloaded from https://github.com/diml/zed/releases/download/1.6/zed-1.6.tbz

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> removed   inotify.2.3
-> removed   lwt.4.0.1
-> installed asetmap.0.8.1
-> installed base-num.base
-> installed base64.2.2.0
-> installed camomile.1.0.1
-> installed conf-gmp.1
-> installed conf-perl.1
-> installed conf-which.1
-> installed cppo_ocamlbuild.1.6.0
-> installed decompress.0.7
-> installed duration.0.1.1
-> installed easy-format.1.3.1
-> installed biniou.1.2.0
-> installed fpath.0.7.2
-> installed magic-mime.1.1.0
-> installed menhir.20171222
-> installed atd.1.12.0
-> installed mirage-device.1.1.0
-> installed mirage-clock.1.3.0
-> installed mirage-flow.1.3.0
-> installed mirage-channel.3.1.0
-> installed mirage-kv.1.1.1
-> installed mirage-no-solo5.1
-> installed mirage-no-xen.1
-> installed mirage-time.1.1.0
-> installed mtime.1.1.0
-> installed num.0
-> installed ocaml-compiler-libs.v0.10.0
-> installed ocaml-migrate-parsetree.1.0.10
-> installed ocamlgraph.1.8.8
-> installed ocb-stubblr.0.1.1
-> installed cpuid.0.1.1
-> installed ocplib-endian.1.0
-> installed ppx_ast.v0.10.0
-> installed ppx_derivers.1.0
-> installed ppx_tools.5.0+4.05.0
-> installed ppx_deriving.4.2.1
-> installed ppx_tools_versioned.5.1
-> installed lwt.3.3.0
-> installed inotify.2.3
-> installed logs.0.6.2
-> installed asl.0.11
-> installed irmin-watcher.0.3.0
-> installed mirage-time-lwt.1.1.0
-> installed named-pipe.0.4.0
-> installed ppx_traverse_builtins.v0.10.0
-> installed re.1.7.3
-> installed prometheus.0.5
-> installed react.1.2.1
-> installed lwt_react.1.1.1
-> installed rresult.0.5.0
-> installed bos.0.2.0
-> installed sexplib.v0.10.0
-> installed base.v0.10.0
-> installed cstruct.3.2.1
-> installed cstruct-lwt.3.2.1
-> installed datakit-client.0.12.0
-> installed datakit-server.0.12.0
-> installed hex.1.2.0
-> installed mirage-flow-lwt.1.4.0
-> installed hvsock.1.0.1
-> installed mirage-kv-lwt.1.1.0
-> installed mstruct.1.4.0
-> installed stdio.v0.10.0
-> installed configurator.v0.10.0
-> installed io-page.2.0.1
-> installed io-page-unix.2.0.1
-> installed mirage-channel-lwt.3.1.0
-> installed ppx_core.v0.10.0
-> installed ppx_optcomp.v0.10.0
-> installed ppx_driver.v0.10.4
-> installed fieldslib.v0.10.0
-> installed ppx_metaquot.v0.10.0
-> installed ppx_type_conv.v0.10.0
-> installed ppx_fields_conv.v0.10.0
-> installed ppx_sexp_conv.v0.10.0
-> installed ipaddr.2.8.0
-> installed stringext.1.5.0
-> installed uri.1.9.6
-> installed cohttp.1.1.0
-> installed cohttp-lwt.1.0.2
-> installed conduit.1.1.0
-> installed conduit-lwt.1.1.0
-> installed conduit-lwt-unix.1.1.0
-> installed cohttp-lwt-unix.1.0.2
-> installed git.1.11.5
-> installed git-http.1.11.4
-> installed irmin.1.3.2
-> installed irmin-git.1.3.0
-> installed irmin-mem.1.3.0
-> installed prometheus-app.0.5
-> installed win-error.0.2
-> installed protocol-9p.0.12.0
-> installed datakit-server-9p.0.12.0
-> installed protocol-9p-unix.0.12.0
-> installed datakit-client-9p.0.12.0
-> installed win-eventlog.0.1
-> installed datakit.0.12.0
-> installed yojson.1.4.1
-> installed atdgen.1.12.0
-> installed github.3.1.0
-> installed zarith.1.7
-> installed nocrypto.0.5.4
-> installed git-unix.1.11.5
-> installed datakit-client-git.0.12.0
-> installed datakit-github.0.12.0
-> installed github-hooks.0.3.0
-> installed zed.1.6
-> installed lambda-term.1.12.0
-> installed github-unix.3.1.0
-> installed github-hooks-unix.0.2.0
Done.
# Run eval $(opam env) to update the current shell environment
 ---> 87e5d278376c
Removing intermediate container 528936cc0d42
Step 11/22 : COPY . /home/opam/src/datakit
 ---> 5c7f09ef6c50
Removing intermediate container dc2fb7bc3ae4
Step 12/22 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in 177d30093b8f
 ---> 1def62755967
Removing intermediate container 177d30093b8f
Step 13/22 : RUN opam update --dev && opam upgrade
 ---> Running in feca0925329e

=-=- Synchronising development packages -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-bridge-github.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-bridge-local-git.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-ci.0.12.1] synchronised from file:///home/opam/src/datakit
[datakit-client.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-client-9p.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-client-git.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-github.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-server.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-server-9p.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit] Conflicting update of the metadata from file:///home/opam/src/datakit.
Override files in /home/opam/.opam/ocaml-base-compiler.4.05.0/.opam-switch/overlay/datakit (there will be a backup) ? [Y/n] y
User metadata backed up in /home/opam/.opam/backup/datakit.bak
[datakit-bridge-github] Conflicting update of the metadata from file:///home/opam/src/datakit.
Override files in /home/opam/.opam/ocaml-base-compiler.4.05.0/.opam-switch/overlay/datakit-bridge-github (there will be a backup) ? [Y/n] y
User metadata backed up in /home/opam/.opam/backup/datakit-bridge-github.bak
[datakit-bridge-local-git] Installing new package description from upstream file:///home/opam/src/datakit
[datakit-ci] Installing new package description from upstream file:///home/opam/src/datakit
[datakit-client] Installing new package description from upstream file:///home/opam/src/datakit
[datakit-client-9p] Installing new package description from upstream file:///home/opam/src/datakit
[datakit-client-git] Installing new package description from upstream file:///home/opam/src/datakit
[datakit-github] Installing new package description from upstream file:///home/opam/src/datakit
[datakit-server] Installing new package description from upstream file:///home/opam/src/datakit
[datakit-server-9p] Installing new package description from upstream file:///home/opam/src/datakit
Now run 'opam upgrade' to apply any package updates.
The following actions will be performed:
  - recompile datakit-server     0.12.0* [upstream changes]
  - recompile datakit-client     0.12.0* [upstream changes]
  - recompile datakit-server-9p  0.12.0* [upstream changes]
  - recompile datakit-client-git 0.12.0* [upstream changes]
  - recompile datakit-client-9p  0.12.0* [upstream changes]
  - recompile datakit            0.12.0* [upstream changes]
  - recompile datakit-github     0.12.0* [upstream changes]
===== 7 to recompile =====

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> removed   datakit-github.0.12.0
-> removed   datakit-client-9p.0.12.0
-> removed   datakit-client-git.0.12.0
-> removed   datakit-client.0.12.0
-> removed   datakit.0.12.0
-> removed   datakit-server-9p.0.12.0
-> removed   datakit-server.0.12.0
-> installed datakit-client.0.12.0
-> installed datakit-client-9p.0.12.0
-> installed datakit-client-git.0.12.0
-> installed datakit-github.0.12.0
-> installed datakit-server.0.12.0
-> installed datakit-server-9p.0.12.0
-> installed datakit.0.12.0
Done.
# Run eval $(opam env) to update the current shell environment
 ---> bb3e783e1648
Removing intermediate container feca0925329e
Step 14/22 : RUN opam install datakit-bridge-github -ytv
 ---> Running in 6456afe05a0e

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/1: [datakit-bridge-github.0.12.0: rsync]
[datakit-bridge-github.0.12.0] no changes from file:///home/opam/src/datakit

The following actions will be performed:
  - install datakit-bridge-github 0.12.0* 

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/2: [datakit-bridge-github: jbuilder build]
+ /home/opam/.opam/ocaml-base-compiler.4.05.0/bin/jbuilder "build" "-p" "datakit-bridge-github" "-j" "1" (CWD=/home/opam/.opam/ocaml-base-compiler.4.05.0/.opam-switch/build/datakit-bridge-github.0.12.0)
Processing  1/2: [datakit-bridge-github: jbuilder runtest]
+ /home/opam/.opam/ocaml-base-compiler.4.05.0/bin/jbuilder "runtest" "tests/datakit-bridge-github" (CWD=/home/opam/.opam/ocaml-base-compiler.4.05.0/.opam-switch/build/datakit-bridge-github.0.12.0)
-         test alias tests/datakit-bridge-github/runtest
- /bin/sh: tput: not found
- stty: standard input: Not a tty
- Testing datakit-github.
- [33m ...[m                [36mgithub-9p[m          0   Transaction.[32m[OK][m                [36mgithub-9p[m          0   Transaction.
- [33m ...[m                [36mgithub-9p[m          1   Watch.[32m[OK][m                [36mgithub-9p[m          1   Watch.
- [33m ...[m                [36mgithub-9p[m          2   Make dirs.[32m[OK][m                [36mgithub-9p[m          2   Make dirs.
- [33m ...[m                [36mgithub-9p[m          3   Truncate.[32m[OK][m                [36mgithub-9p[m          3   Truncate.
- [33m ...[m                [36mgithub-9p[m          4   Parents.[32m[OK][m                [36mgithub-9p[m          4   Parents.
- [33m ...[m                [36mgithub-9p[m          5   Merge.[32m[OK][m                [36mgithub-9p[m          5   Merge.
- [33m ...[m                [36mgithub-9p[m          6   Diff.[32m[OK][m                [36mgithub-9p[m          6   Diff.
- [33m ...[m                [36mgithub-9p[m          7   Merge_metadata.[32m[OK][m                [36mgithub-9p[m          7   Merge_metadata.
- [33m ...[m                [36mgithub-9p[m          8   Merge empty.[32m[OK][m                [36mgithub-9p[m          8   Merge empty.
- [33m ...[m                [36mgithub-9p[m          9   Conflicts.[32m[OK][m                [36mgithub-9p[m          9   Conflicts.
- [33m ...[m                [36mgithub-9p[m         10   Large write.[32m[OK][m                [36mgithub-9p[m         10   Large write.
- [33m ...[m                [36mgithub-9p[m         11   Remove.[32m[OK][m                [36mgithub-9p[m         11   Remove.
- [33m ...[m                [36mgithub-9p[m         12   Remotes.[33m[SKIP][m              [36mgithub-9p[m         12   Remotes.
- [33m ...[m                [36mgithub-9p[m         13   Create_or_replace.[33m[SKIP][m              [36mgithub-9p[m         13   Create_or_replace.
- [33m ...[m                [36mgithub[m             0   basic-snapshot.[32m[OK][m                [36mgithub[m             0   basic-snapshot.
- [33m ...[m                [36mgithub[m             1   snapshot.[32m[OK][m                [36mgithub[m             1   snapshot.
- [33m ...[m                [36mgithub[m             2   capabilities.[32m[OK][m                [36mgithub[m             2   capabilities.
- [33m ...[m                [36mgithub[m             3   cleanup.[32m[OK][m                [36mgithub[m             3   cleanup.
- [33m ...[m                [36mgithub[m             4   events.[32m[OK][m                [36mgithub[m             4   events.
- [33m ...[m                [36mgithub[m             5   updates.[32m[OK][m                [36mgithub[m             5   updates.
- [33m ...[m                [36mgithub[m             6   startup.[32m[OK][m                [36mgithub[m             6   startup.
- [33m ...[m                [36mgithub[m             7   random-github.[32m[OK][m                [36mgithub[m             7   random-github.
- [33m ...[m                [36mgithub[m             8   random-github-*.[33m[SKIP][m              [36mgithub[m             8   random-github-*.
- [33m ...[m                [36mgithub[m             9   random-datakit.[32m[OK][m                [36mgithub[m             9   random-datakit.
- [33m ...[m                [36mgithub[m            10   random-datakit-*.[33m[SKIP][m              [36mgithub[m            10   random-datakit-*.
- The full test results are available in `_build/_tests`.
- [32mTest Successful[m in 3.856s. 21 tests run.
-> compiled  datakit-bridge-github.0.12.0
-> installed datakit-bridge-github.0.12.0
Done.
# Run eval $(opam env) to update the current shell environment
 ---> 178bcd77b0cc
Removing intermediate container 6456afe05a0e
Step 15/22 : RUN sudo cp $(opam config exec -- which datakit-bridge-github) /usr/bin/
 ---> Running in 003921b2bbdf
 ---> cb8e9d1e5d36
Removing intermediate container 003921b2bbdf
Step 16/22 : FROM alpine:3.5
3.5: Pulling from library/alpine
Digest: sha256:9148d069e50eee519ec45e5683e56a1c217b61a52ed90eb77bdce674cc212f1e
Status: Image is up to date for alpine:3.5
 ---> 6c6084ed97e5
Step 17/22 : RUN apk add --no-cache libev gmp tzdata ca-certificates
 ---> Using cache
 ---> d1f6489c4cf7
Step 18/22 : EXPOSE 5640
 ---> Running in 1575f5852a62
 ---> d0e9283b6cc0
Removing intermediate container 1575f5852a62
Step 19/22 : EXPOSE 5641
 ---> Running in e96b5d7721c2
 ---> cb7f69e3f379
Removing intermediate container e96b5d7721c2
Step 20/22 : ENTRYPOINT /usr/bin/datakit-bridge-github
 ---> Running in b78c8ebcea13
 ---> 50f2c924d0d6
Removing intermediate container b78c8ebcea13
Step 21/22 : CMD --listen=tcp://0.0.0.0:5641 -v --datakit=tcp:127.0.0.1:5640
 ---> Running in a1d58e3701ae
 ---> 1e5540aa7dba
Removing intermediate container a1d58e3701ae
Step 22/22 : COPY --from=0 /usr/bin/datakit-bridge-github /usr/bin/datakit-bridge-github
 ---> db7f202fc591
Removing intermediate container e5c70f23c3c1
Successfully built db7f202fc591
[2018-04-24 14:40.10] Success
