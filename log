=== Docker build Dockerfile.github
[2017-09-28 14:15.43] Starting...
Cloning into '/tmp/with_clone3bf66d0b'...
done.
warning: remote HEAD refers to nonexistent ref, unable to checkout.

HEAD is now at d808170 fix Dockerfiles
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 6.128 MBSending build context to Docker daemon 6.685 MBSending build context to Docker daemon 7.242 MBSending build context to Docker daemon 7.799 MBSending build context to Docker daemon 8.356 MBSending build context to Docker daemon 8.894 MBSending build context to Docker daemon 8.894 MB
Step 1/30 : FROM ocaml/opam:alpine-3.5_ocaml-4.04.0
alpine-3.5_ocaml-4.04.0: Pulling from ocaml/opam
019300c8a437: Already exists
d2a7b55d2f0b: Pulling fs layer
0b193330cb3a: Pulling fs layer
f9722abc84ce: Pulling fs layer
f9722abc84ce: Verifying Checksum
f9722abc84ce: Download complete
d2a7b55d2f0b: Download complete
d2a7b55d2f0b: Pull complete
0b193330cb3a: Download complete
0b193330cb3a: Pull complete
f9722abc84ce: Pull complete
Digest: sha256:684bfae176bb2e50e057be144c486d9563b6a07f767aaf46b121ffc12e319227
Status: Image is up to date for ocaml/opam:alpine-3.5_ocaml-4.04.0
 ---> c7ad68f65634
Step 2/30 : RUN git -C /home/opam/opam-repository fetch origin &&     git -C /home/opam/opam-repository reset 21da79c65 --hard &&     opam update -u
 ---> Running in b42eb0243d4c
[91mFrom git://github.com/ocaml/opam-repository
   5076ad387..21da79c65  master     -> origin/master
[0m[91mChecking out files:  25% (6156/24397)   [0m[91mChecking out files:  26% (6344/24397)   [0m[91mChecking out files:  27% (6588/24397)   [0m[91mChecking out files:  28% (6832/24397)   [0m[91mChecking out files:  29% (7076/24397)   [0m[91mChecking out files:  30% (7320/24397)   [0m[91mChecking out files:  31% (7564/24397)   [0m[91mChecking out files:  32% (7808/24397)   [0m[91mChecking out files:  33% (8052/24397)   [0m[91mChecking out files:  34% (8295/24397)   [0m[91mChecking out files:  35% (8539/24397)   [0m[91mChecking out files:  36% (8783/24397)   [0m[91mChecking out files:  37% (9027/24397)   [0m[91mChecking out files:  38% (9271/24397)   [0m[91mChecking out files:  39% (9515/24397)   [0m[91mChecking out files:  40% (9759/24397)   [0m[91mChecking out files:  41% (10003/24397)   [0m[91mChecking out files:  42% (10247/24397)   [0m[91mChecking out files:  43% (10491/24397)   [0m[91mChecking out files:  44% (10735/24397)   [0m[91mChecking out files:  45% (10979/24397)   [0m[91mChecking out files:  46% (11223/24397)   [0m[91mChecking out files:  47% (11467/24397)   [0m[91mChecking out files:  48% (11711/24397)   [0m[91mChecking out files:  49% (11955/24397)   [0m[91mChecking out files:  50% (12199/24397)   [0m[91mChecking out files:  50% (12361/24397)   [0m[91mChecking out files:  51% (12443/24397)   [0m[91mChecking out files:  52% (12687/24397)   [0m[91mChecking out files:  53% (12931/24397)   [0m[91mChecking out files:  54% (13175/24397)   [0m[91mChecking out files:  55% (13419/24397)   [0m[91mChecking out files:  56% (13663/24397)   [0m[91mChecking out files:  57% (13907/24397)   [0m[91mChecking out files:  58% (14151/24397)   [0m[91mChecking out files:  59% (14395/24397)   [0m[91mChecking out files:  60% (14639/24397)   [0m[91mChecking out files:  61% (14883/24397)   [0m[91mChecking out files:  62% (15127/24397)   [0m[91mChecking out files:  63% (15371/24397)   [0m[91mChecking out files:  64% (15615/24397)   [0m[91mChecking out files:  65% (15859/24397)   [0m[91mChecking out files:  66% (16103/24397)   [0m[91mChecking out files:  67% (16346/24397)   [0m[91mChecking out files:  68% (16590/24397)   [0m[91mChecking out files:  69% (16834/24397)   [0m[91mChecking out files:  70% (17078/24397)   [0m[91mChecking out files:  71% (17322/24397)   [0m[91mChecking out files:  72% (17566/24397)   [0m[91mChecking out files:  73% (17810/24397)   [0m[91mChecking out files:  74% (18054/24397)   [0m[91mChecking out files:  75% (18298/24397)   [0m[91mChecking out files:  76% (18542/24397)   [0m[91mChecking out files:  77% (18786/24397)   [0m[91mChecking out files:  78% (19030/24397)   [0m[91mChecking out files:  78% (19080/24397)   [0m[91mChecking out files:  79% (19274/24397)   [0m[91mChecking out files:  80% (19518/24397)   [0m[91mChecking out files:  81% (19762/24397)   [0m[91mChecking out files:  82% (20006/24397)   [0m[91mChecking out files:  83% (20250/24397)   [0m[91mChecking out files:  84% (20494/24397)   [0m[91mChecking out files:  85% (20738/24397)   [0m[91mChecking out files:  86% (20982/24397)   [0m[91mChecking out files:  87% (21226/24397)   [0m[91mChecking out files:  88% (21470/24397)   [0m[91mChecking out files:  89% (21714/24397)   [0m[91mChecking out files:  90% (21958/24397)   [0m[91mChecking out files:  91% (22202/24397)   [0m[91mChecking out files:  92% (22446/24397)   [0m[91mChecking out files:  93% (22690/24397)   [0m[91mChecking out files:  94% (22934/24397)   [0m[91mChecking out files:  95% (23178/24397)   [0m[91mChecking out files:  96% (23422/24397)   [0m[91mChecking out files:  97% (23666/24397)   [0m[91mChecking out files:  98% (23910/24397)   [0m[91mChecking out files:  99% (24154/24397)   [0m[91mChecking out files: 100% (24397/24397)   Checking out files: 100% (24397/24397), done.
[0mHEAD is now at 21da79c65 Merge pull request #10342 from xguerin/ppx_deriving_hardcaml

=-=- Updating package repositories =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[default: local] Command started
[default: local] Command started
[default: local] Command started
[default] /home/opam/opam-repository synchronized

Already up-to-date.
 ---> 8fffbbe58809
Removing intermediate container b42eb0243d4c
Step 3/30 : ENV OPAMERRLOGLEN 0 OPAMYES 1
 ---> Running in 2e9adbadd581
 ---> f9fcb58d82a1
Removing intermediate container 2e9adbadd581
Step 4/30 : RUN sudo apk add tzdata aspcud
 ---> Running in eacb5c6689e8
(1/1) Installing tzdata (2016i-r0)
Executing busybox-1.25.1-r0.trigger
OK: 582 MiB in 91 packages
 ---> eedae257d6ab
Removing intermediate container eacb5c6689e8
Step 5/30 : RUN opam depext -ui lwt inotify alcotest conf-libev lambda-term cmdliner     github protocol-9p rresult prometheus-app asl win-eventlog mtime hex     github-hooks hvsock irmin-watcher git irmin
 ---> Running in 48b59ddb2dc5
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - gmp-dev
#  - libev-dev
#  - libressl-dev
#  - linux-headers
#  - m4
#  - ncurses-dev
#  - perl
#  - pkgconfig
ncurses-dev
pkgconf
# The following new OS packages need to be installed: gmp-dev libev-dev libressl-dev linux-headers m4 perl
The following command needs to be run through "sudo":
    apk update
fetch http://dl-cdn.alpinelinux.org/alpine/v3.5/main/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.5/community/x86_64/APKINDEX.tar.gz
v3.5.2-184-g09b259c295 [http://dl-cdn.alpinelinux.org/alpine/v3.5/main]
v3.5.2-177-gfdf1237bb5 [http://dl-cdn.alpinelinux.org/alpine/v3.5/community]
OK: 7962 distinct packages available
# OS package update successful
The following command needs to be run through "sudo":
    apk add gmp-dev libev-dev libressl-dev linux-headers m4 perl
(1/9) Installing libgmpxx (6.1.1-r0)
(2/9) Installing gmp-dev (6.1.1-r0)
(3/9) Installing libev (4.22-r0)
(4/9) Installing libev-dev (4.22-r0)
(5/9) Installing libressl2.4-libtls (2.4.4-r0)
(6/9) Installing libressl-dev (2.4.4-r0)
(7/9) Installing linux-headers (4.4.6-r1)
(8/9) Installing m4 (1.4.17-r1)
(9/9) Installing perl (5.24.0-r0)
Executing busybox-1.25.1-r0.trigger
OK: 649 MiB in 100 packages
# OS packages installation successful
# Now letting OPAM install the packages
The following actions will be performed:
  - install uchar                   0.0.2                       [required by fmt]
  - install base-num                base                        [required by num]
  - install conf-gmp                1                           [required by zarith]
  - install result                  1.2                         [required by rresult, lwt, cmdliner, etc.]
  - install mirage-no-solo5         1                           [required by nocrypto]
  - install conf-perl               1                           [required by zarith]
  - install conf-m4                 1                           [required by ocamlfind]
  - install conf-libev              4-11      
  - install conf-which              1                           [required by bos]
  - install mirage-no-xen           1                           [required by nocrypto]
  - install num                     0                           [required by sexplib]
  - install ocamlfind               1.7.3                       [required by rresult, lwt, cmdliner, etc.]
  - install zarith                  1.6                         [required by nocrypto]
  - install topkg                   0.9.0                       [required by mtime, cmdliner, rresult]
  - install ppx_tools               5.0                         [required by protocol-9p]
  - install ocamlgraph              1.8.7                       [required by git, irmin]
  - install menhir                  20170712                    [required by atd]
  - install jbuilder                1.0+beta13                  [required by prometheus-app, lambda-term, irmin, etc.]
  - install base-bytes              base                        [required by inotify, hvsock, protocol-9p]
  - install rresult                 0.5.0     
  - install react                   1.2.1                       [required by lwt_react, zed]
  - install mtime                   1.1.0     
  - install duration                0.1.0                       [required by hvsock]
  - install cmdliner                1.0.2     
  - install astring                 0.8.3                       [required by irmin-watcher, git, alcotest, etc.]
  - install asetmap                 0.8.1                       [required by prometheus]
  - install sexplib                 v0.9.2                      [required by protocol-9p]
  - install ppx_traverse_builtins   v0.9.0                      [required by ppx_core, ppx_metaquot]
  - install ppx_derivers            1.0                         [required by ppx_deriving]
  - install octavius                1.1.0                       [required by ppx_js_style]
  - install ocaml-migrate-parsetree 1.0.4                       [required by lwt]
  - install ocaml-compiler-libs     v0.9.0                      [required by ppx_core]
  - install magic-mime              1.1.0                       [required by cohttp]
  - install easy-format             1.3.0                       [required by biniou, atd, yojson]
  - install win-error               0.2                         [required by protocol-9p]
  - install stringext               1.5.0                       [required by github]
  - install re                      1.7.1                       [required by prometheus-app]
  - install cppo                    1.6.0                       [required by lwt]
  - install base64                  2.2.0                       [required by cohttp]
  - install uutf                    1.0.1                       [required by jsonm]
  - install fmt                     0.8.4                       [required by prometheus-app, irmin, github-hooks, etc.]
  - install decompress              0.6                         [required by git]
  - install ocb-stubblr             0.1.1                       [required by nocrypto, named-pipe]
  - install fpath                   0.7.2                       [required by bos]
  - install base                    v0.9.3                      [required by fieldslib]
  - install ppx_tools_versioned     5.0.1                       [required by lwt]
  - install ppx_ast                 v0.9.1                      [required by ppx_core]
  - install biniou                  1.2.0                       [required by atdgen]
  - install atd                     1.12.0                      [required by atdgen]
  - install ocplib-endian           1.0                         [required by git]
  - install cppo_ocamlbuild         1.6.0                       [required by ppx_deriving]
  - install camomile                0.8.5                       [required by zed]
  - install jsonm                   1.0.1                       [required by irmin]
  - install mirage-flow             1.3.0                       [required by mirage-flow-lwt]
  - install mirage-device           1.1.0                       [required by mirage-time, mirage-clock, mirage-kv]
  - install alcotest                0.8.1     
  - install cpuid                   0.1.1                       [required by nocrypto]
  - install stdio                   v0.9.0                      [required by ppx_core, configurator]
  - install lwt                     3.1.0     
  - install yojson                  1.4.0                       [required by github]
  - install cstruct                 3.1.1                       [required by irmin, hex, github-hooks, etc.]
  - install ppx_deriving            4.2                         [required by protocol-9p]
  - install zed                     1.5                         [required by lambda-term]
  - install mirage-channel          3.1.0                       [required by mirage-channel-lwt]
  - install mirage-time             1.1.0                       [required by mirage-time-lwt]
  - install mirage-kv               1.1.1                       [required by mirage-kv-lwt]
  - install mirage-clock            1.3.0                       [required by mirage-flow-lwt]
  - install ppx_core                v0.9.0                      [required by ppx_sexp_conv, ppx_fields_conv]
  - install prometheus              0.4                         [required by prometheus-app]
  - install named-pipe              0.4.0                       [required by protocol-9p]
  - install lwt_react               1.1.0                       [required by lambda-term]
  - install logs                    0.6.2                       [required by protocol-9p, irmin, github-hooks, etc.]
  - install inotify                 2.3       
  - install atdgen                  1.12.0                      [required by github]
  - install mstruct                 1.3.4                       [required by git]
  - install hex                     1.1.1     
  - install cstruct-lwt             3.1.1                       [required by nocrypto]
  - install mirage-time-lwt         1.1.0                       [required by hvsock]
  - install mirage-kv-lwt           1.1.0                       [required by protocol-9p]
  - install ppx_optcomp             v0.9.0                      [required by ppx_driver]
  - install lambda-term             1.11      
  - install win-eventlog            0.1       
  - install mirage-flow-lwt         1.4.0                       [required by hvsock, protocol-9p]
  - install bos                     0.1.6                       [required by hvsock]
  - install asl                     0.11      
  - install irmin-watcher           0.3.0     
  - install ppx_driver              v0.9.1                      [required by fieldslib, ppx_sexp_conv, ppx_fields_conv]
  - install hvsock                  1.0.1     
  - install ppx_metaquot            v0.9.0                      [required by ppx_sexp_conv, ppx_fields_conv]
  - install fieldslib               v0.9.0                      [required by cohttp]
  - install ppx_type_conv           v0.9.0                      [required by ppx_sexp_conv, ppx_fields_conv]
  - install ppx_js_style            v0.9.0                      [required by ppx_base]
  - install ppx_sexp_conv           v0.9.0                      [required by protocol-9p]
  - install ppx_fields_conv         v0.9.0                      [required by cohttp]
  - install ppx_enumerate           v0.9.0                      [required by ppx_base]
  - install ppx_compare             v0.9.0                      [required by ppx_base]
  - install uri                     1.9.4                       [required by github, git, irmin]
  - install nocrypto                0.5.4                       [required by github-hooks]
  - install ipaddr                  2.8.0                       [required by conduit, conduit-lwt-unix]
  - install ppx_hash                v0.9.0                      [required by ppx_base]
  - install irmin                   1.3.0     
  - install git                     1.11.2    
  - install cohttp                  0.99.0                      [required by github, prometheus-app]
  - install conduit                 1.0.0                       [required by cohttp-lwt]
  - install ppx_base                v0.9.0                      [required by configurator]
  - install conduit-lwt             1.0.0                       [required by conduit-lwt-unix]
  - install cohttp-lwt              0.99.0                      [required by github-hooks, github, prometheus-app]
  - install configurator            v0.9.1                      [required by io-page]
  - install conduit-lwt-unix        1.0.2                       [required by cohttp-lwt-unix]
  - install github                  3.0.1     
  - install io-page                 2.0.0                       [required by mirage-channel-lwt]
  - install cohttp-lwt-unix         0.99.0                      [required by prometheus-app]
  - install github-hooks            0.2.0     
  - install mirage-channel-lwt      3.1.0                       [required by protocol-9p]
  - install prometheus-app          0.4       
  - install protocol-9p             0.11.3    
===== 116 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[alcotest: http] Command started
[asetmap: http] Command started
[asl: http] Command started
[asetmap: http] Command started
[asetmap.0.8.1] http://erratique.ch/software/asetmap/releases/asetmap-0.8.1.tbz downloaded
[astring: http] Command started
[astring: http] Command started
[astring.0.8.3] http://erratique.ch/software/astring/releases/astring-0.8.3.tbz downloaded
[atd: http] Command started
[asl: http] Command started
[asl.0.11] https://github.com/mirage/ocaml-asl/releases/download/0.11/asl-0.11.tbz downloaded
[atdgen: http] Command started
[alcotest: http] Command started
[alcotest.0.8.1] https://github.com/mirage/alcotest/releases/download/0.8.1/alcotest-0.8.1.tbz downloaded
[base: http] Command started
[atd: http] Command started
[atd.1.12.0] https://github.com/mjambon/atd/archive/v1.12.0.tar.gz downloaded
[base64: http] Command started
[base64: http] Command started
[base64.2.2.0] https://github.com/mirage/ocaml-base64/releases/download/v2.2.0/base64-2.2.0.tbz downloaded
[biniou: http] Command started
[atdgen: http] Command started
[atdgen.1.12.0] https://github.com/mjambon/atd/archive/v1.12.0.tar.gz downloaded
[bos: http] Command started
[bos: http] Command started
[bos.0.1.6] http://erratique.ch/software/bos/releases/bos-0.1.6.tbz downloaded
[camomile: http] Command started
[base: http] Command started
[base.v0.9.3] https://github.com/janestreet/base/archive/v0.9.3.tar.gz downloaded
[cmdliner: http] Command started
[cmdliner: http] Command started
[cmdliner.1.0.2] http://erratique.ch/software/cmdliner/releases/cmdliner-1.0.2.tbz downloaded
[cohttp: http] Command started
[biniou: http] Command started
[biniou.1.2.0] https://github.com/mjambon/biniou/archive/v1.2.0.tar.gz downloaded
[cohttp-lwt: http] Command started
[cohttp: http] Command started
[cohttp.0.99.0] https://github.com/mirage/ocaml-cohttp/releases/download/v0.99.0/cohttp-0.99.0.tbz downloaded
[cohttp-lwt-unix: http] Command started
[cohttp-lwt: http] Command started
[cohttp-lwt.0.99.0] https://github.com/mirage/ocaml-cohttp/releases/download/v0.99.0/cohttp-0.99.0.tbz downloaded
[conduit: http] Command started
[cohttp-lwt-unix: http] Command started
[cohttp-lwt-unix.0.99.0] https://github.com/mirage/ocaml-cohttp/releases/download/v0.99.0/cohttp-0.99.0.tbz downloaded
[conduit-lwt: http] Command started
[conduit: http] Command started
[conduit.1.0.0] https://github.com/mirage/ocaml-conduit/releases/download/v1.0.0/conduit-1.0.0.tbz downloaded
[conduit-lwt-unix: http] Command started
[conduit-lwt: http] Command started
[conduit-lwt.1.0.0] https://github.com/mirage/ocaml-conduit/releases/download/v1.0.0/conduit-1.0.0.tbz downloaded
[configurator: http] Command started
[camomile: http] Command started
[camomile.0.8.5] https://github.com/yoriyuki/Camomile/releases/download/rel-0.8.5/camomile-0.8.5.tar.bz2 downloaded
[cppo: http] Command started
[conduit-lwt-unix: http] Command started
[conduit-lwt-unix.1.0.2] https://github.com/mirage/ocaml-conduit/releases/download/v1.0.2/conduit-1.0.2.tbz downloaded
[cppo_ocamlbuild: http] Command started
[configurator: http] Command started
[configurator.v0.9.1] https://github.com/janestreet/configurator/archive/v0.9.1.tar.gz downloaded
[cpuid: http] Command started
[cppo: http] Command started
[cppo.1.6.0] https://github.com/mjambon/cppo/archive/v1.6.0.tar.gz downloaded
[cstruct: http] Command started
[cppo_ocamlbuild: http] Command started
[cppo_ocamlbuild.1.6.0] https://github.com/mjambon/cppo/archive/v1.6.0.tar.gz downloaded
[cstruct-lwt: http] Command started
[cpuid: http] Command started
[cpuid.0.1.1] https://github.com/pqwy/cpuid/releases/download/v0.1.1/cpuid-0.1.1.tbz downloaded
[decompress: http] Command started
[cstruct: http] Command started
[cstruct.3.1.1] https://github.com/mirage/ocaml-cstruct/releases/download/v3.1.1/cstruct-3.1.1.tbz downloaded
[duration: http] Command started
[decompress: http] Command started
[decompress.0.6] https://github.com/mirage/decompress/releases/download/v0.6/decompress-0.6.tbz downloaded
[easy-format: http] Command started
[cstruct-lwt: http] Command started
[cstruct-lwt.3.1.1] https://github.com/mirage/ocaml-cstruct/releases/download/v3.1.1/cstruct-3.1.1.tbz downloaded
[fieldslib: http] Command started
[fieldslib: http] Command started
[fieldslib.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/fieldslib-v0.9.0.tar.gz downloaded
[fmt: http] Command started
[fmt: http] Command started
[easy-format: http] Command started
[fmt.0.8.4] http://erratique.ch/software/fmt/releases/fmt-0.8.4.tbz downloaded
[fpath: http] Command started
[easy-format.1.3.0] https://github.com/mjambon/easy-format/archive/v1.3.0.tar.gz downloaded
[git: http] Command started
[duration: http] Command started
[duration.0.1.0] https://github.com/hannesm/duration/releases/download/0.1.0/duration-0.1.0.tbz downloaded
[github: http] Command started
[fpath: http] Command started
[fpath.0.7.2] http://erratique.ch/software/fpath/releases/fpath-0.7.2.tbz downloaded
[github-hooks: http] Command started
[github-hooks: http] Command started
[github-hooks.0.2.0] https://github.com/dsheets/ocaml-github-hooks/releases/download/0.2.0/github-hooks-0.2.0.tbz downloaded
[hex: http] Command started
[github: http] Command started
[github.3.0.1] https://github.com/mirage/ocaml-github/releases/download/v3.0.1/github-3.0.1.tbz downloaded
[hvsock: http] Command started
[git: http] Command started
[git.1.11.2] https://github.com/mirage/ocaml-git/releases/download/1.11.2/git-1.11.2.tbz downloaded
[inotify: http] Command started
[hex: http] Command started
[hex.1.1.1] https://github.com/mirage/ocaml-hex/releases/download/v1.1.1/hex-1.1.1.tbz downloaded
[io-page: http] Command started
[hvsock: http] Command started
[hvsock.1.0.1] https://github.com/mirage/ocaml-hvsock/releases/download/1.0.1/hvsock-1.0.1.tbz downloaded
[ipaddr: http] Command started
[io-page: http] Command started
[io-page.2.0.0] https://github.com/mirage/io-page/releases/download/2.0.0/io-page-2.0.0.tbz downloaded
[irmin: http] Command started
[inotify: http] Command started
[inotify.2.3] https://github.com/whitequark/ocaml-inotify/archive/v2.3.tar.gz downloaded
[irmin-watcher: http] Command started
[ipaddr: http] Command started
[ipaddr.2.8.0] https://github.com/mirage/ocaml-ipaddr/releases/download/2.8.0/ipaddr-2.8.0.tbz downloaded
[jbuilder: http] Command started
[irmin-watcher: http] Command started
[irmin-watcher.0.3.0] https://github.com/mirage/irmin-watcher/releases/download/0.3.0/irmin-watcher-0.3.0.tbz downloaded
[jsonm: http] Command started
[irmin: http] Command started
[jsonm: http] Command started
[irmin.1.3.0] https://github.com/mirage/irmin/releases/download/1.3.0/irmin-1.3.0.tbz downloaded
[lambda-term: http] Command started
[jsonm.1.0.1] http://erratique.ch/software/jsonm/releases/jsonm-1.0.1.tbz downloaded
[logs: http] Command started
[logs: http] Command started
[logs.0.6.2] http://erratique.ch/software/logs/releases/logs-0.6.2.tbz downloaded
[lwt: http] Command started
[jbuilder: http] Command started
[jbuilder.1.0+beta13] https://github.com/janestreet/jbuilder/releases/download/1.0+beta13/jbuilder-1.0.beta13.tbz downloaded
[lwt_react: http] Command started
[lambda-term: http] Command started
[lambda-term.1.11] https://github.com/diml/lambda-term/archive/1.11.tar.gz downloaded
[magic-mime: http] Command started
[lwt: http] Command started
[lwt.3.1.0] https://github.com/ocsigen/lwt/archive/3.1.0.tar.gz downloaded
[menhir: http] Command started
[menhir: http] Command started
[menhir.20170712] http://gallium.inria.fr/~fpottier/menhir/menhir-20170712.tar.gz downloaded
[mirage-channel: http] Command started
[lwt_react: http] Command started
[lwt_react.1.1.0] https://github.com/ocsigen/lwt/archive/3.1.0.tar.gz downloaded
[mirage-channel-lwt: http] Command started
[magic-mime: http] Command started
[magic-mime.1.1.0] https://github.com/mirage/ocaml-magic-mime/releases/download/v1.1.0/magic-mime-1.1.0.tbz downloaded
[mirage-clock: http] Command started
[mirage-channel: http] Command started
[mirage-channel.3.1.0] https://github.com/mirage/mirage-channel/releases/download/v3.1.0/mirage-channel-3.1.0.tbz downloaded
[mirage-device: http] Command started
[mirage-channel-lwt: http] Command started
[mirage-channel-lwt.3.1.0] https://github.com/mirage/mirage-channel/releases/download/v3.1.0/mirage-channel-3.1.0.tbz downloaded
[mirage-flow: http] Command started
[mirage-clock: http] Command started
[mirage-clock.1.3.0] https://github.com/mirage/mirage-clock/releases/download/v1.3.0/mirage-clock-1.3.0.tbz downloaded
[mirage-flow-lwt: http] Command started
[mirage-device: http] Command started
[mirage-device.1.1.0] https://github.com/mirage/mirage-device/releases/download/v1.1.0/mirage-device-1.1.0.tbz downloaded
[mirage-kv: http] Command started
[mirage-flow: http] Command started
[mirage-flow.1.3.0] https://github.com/mirage/mirage-flow/releases/download/v1.3.0/mirage-flow-1.3.0.tbz downloaded
[mirage-kv-lwt: http] Command started
[mirage-kv-lwt: http] Command started
[mirage-kv-lwt.1.1.0] https://github.com/mirage/mirage-kv/releases/download/v1.1.0/mirage-kv-1.1.0.tbz downloaded
[mirage-time: http] Command started
[mirage-kv: http] Command started
[mirage-kv.1.1.1] https://github.com/mirage/mirage-kv/releases/download/v1.1.1/mirage-kv-1.1.1.tbz downloaded
[mirage-time-lwt: http] Command started
[mirage-time: http] Command started
[mirage-time.1.1.0] https://github.com/mirage/mirage-time/releases/download/v1.1.0/mirage-time-1.1.0.tbz downloaded
[mstruct: http] Command started
[mirage-time-lwt: http] Command started
[mirage-time-lwt.1.1.0] https://github.com/mirage/mirage-time/releases/download/v1.1.0/mirage-time-1.1.0.tbz downloaded
[mtime: http] Command started
[mtime: http] Command started
[mtime.1.1.0] http://erratique.ch/software/mtime/releases/mtime-1.1.0.tbz downloaded
[named-pipe: http] Command started
[mstruct: http] Command started
[mstruct.1.3.4] https://github.com/mirage/ocaml-mstruct/releases/download/v1.3.4/mstruct-1.3.4.tbz downloaded
[nocrypto: http] Command started
[named-pipe: http] Command started
[named-pipe.0.4.0] https://github.com/mirage/ocaml-named-pipe/releases/download/0.4.0/named-pipe-0.4.0.tbz downloaded
[ocaml-compiler-libs: http] Command started
[ocaml-compiler-libs: http] Command started
[ocaml-compiler-libs.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ocaml-compiler-libs-v0.9.0.tar.gz downloaded
[ocaml-migrate-parsetree: http] Command started
[mirage-flow-lwt: http] Command started
[mirage-flow-lwt.1.4.0] https://github.com/mirage/mirage-flow/releases/download/v1.4.0/mirage-flow-1.4.0.tbz downloaded
[ocamlfind: http] Command started
[ocamlfind: http] Command started
[ocamlfind.1.7.3] http://download.camlcity.org/download/findlib-1.7.3.tar.gz downloaded
[ocamlgraph: http] Command started
[ocamlgraph: http] Command started
[ocamlgraph.1.8.7] http://ocamlgraph.lri.fr/download/ocamlgraph-1.8.7.tar.gz downloaded
[ocb-stubblr: http] Command started
[ocaml-migrate-parsetree: http] Command started
[ocaml-migrate-parsetree.1.0.4] https://github.com/ocaml-ppx/ocaml-migrate-parsetree/archive/v1.0.4.tar.gz downloaded
[ocplib-endian: http] Command started
[ocb-stubblr: http] Command started
[ocb-stubblr.0.1.1] https://github.com/pqwy/ocb-stubblr/releases/download/v0.1.1/ocb-stubblr-0.1.1.tbz downloaded
[octavius: http] Command started
[ocplib-endian: http] Command started
[ocplib-endian.1.0] https://github.com/OCamlPro/ocplib-endian/archive/1.0.tar.gz downloaded
[ppx_ast: http] Command started
[octavius: http] Command started
[octavius.1.1.0] http://github.com/ocaml-doc/octavius/releases/download/v1.1.0/octavius-1.1.0.tbz downloaded
[ppx_base: http] Command started
[ppx_base: http] Command started
[ppx_base.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_base-v0.9.0.tar.gz downloaded
[ppx_compare: http] Command started
[ppx_ast: http] Command started
[ppx_ast.v0.9.1] https://github.com/janestreet/ppx_ast/archive/v0.9.1.tar.gz downloaded
[ppx_core: http] Command started
[ppx_compare: http] Command started
[ppx_compare.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_compare-v0.9.0.tar.gz downloaded
[ppx_derivers: http] Command started
[nocrypto: http] Command started
[nocrypto.0.5.4] https://github.com/mirleft/ocaml-nocrypto/releases/download/v0.5.4/nocrypto-0.5.4.tbz downloaded
[ppx_deriving: http] Command started
[ppx_core: http] Command started
[ppx_core.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_core-v0.9.0.tar.gz downloaded
[ppx_driver: http] Command started
[ppx_derivers: http] Command started
[ppx_derivers.1.0] https://github.com/diml/ppx_derivers/archive/1.0.tar.gz downloaded
[ppx_enumerate: http] Command started
[ppx_enumerate: http] Command started
[ppx_enumerate.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_enumerate-v0.9.0.tar.gz downloaded
[ppx_fields_conv: http] Command started
[ppx_driver: http] Command started
[ppx_driver.v0.9.1] https://github.com/janestreet/ppx_driver/archive/v0.9.1.tar.gz downloaded
[ppx_hash: http] Command started
[ppx_deriving: http] Command started
[ppx_fields_conv: http] Command started
[ppx_deriving.4.2] https://github.com/whitequark/ppx_deriving/archive/v4.2.tar.gz downloaded
[ppx_js_style: http] Command started
[ppx_fields_conv.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_fields_conv-v0.9.0.tar.gz downloaded
[ppx_metaquot: http] Command started
[ppx_hash: http] Command started
[ppx_hash.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_hash-v0.9.0.tar.gz downloaded
[ppx_optcomp: http] Command started
[ppx_js_style: http] Command started
[ppx_js_style.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_js_style-v0.9.0.tar.gz downloaded
[ppx_sexp_conv: http] Command started
[ppx_metaquot: http] Command started
[ppx_metaquot.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_metaquot-v0.9.0.tar.gz downloaded
[ppx_tools: http] Command started
[ppx_optcomp: http] Command started
[ppx_optcomp.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_optcomp-v0.9.0.tar.gz downloaded
[ppx_tools_versioned: http] Command started
[ppx_sexp_conv: http] Command started
[ppx_sexp_conv.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_sexp_conv-v0.9.0.tar.gz downloaded
[ppx_traverse_builtins: http] Command started
[ppx_traverse_builtins: http] Command started
[ppx_traverse_builtins.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_traverse_builtins-v0.9.0.tar.gz downloaded
[ppx_type_conv: http] Command started
[ppx_tools: http] Command started
[ppx_tools.5.0] https://github.com/ocaml-ppx/ppx_tools/tarball/f70ca1d07d565989a0041e312e8efc00ff2ad87e downloaded
[prometheus: http] Command started
[ppx_type_conv: http] Command started
[ppx_type_conv.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_type_conv-v0.9.0.tar.gz downloaded
[prometheus-app: http] Command started
[ppx_tools_versioned: http] Command started
[ppx_tools_versioned.5.0.1] https://github.com/let-def/ppx_tools_versioned/archive/5.0.1.tar.gz downloaded
[protocol-9p: http] Command started
[prometheus: http] Command started
[prometheus.0.4] https://github.com/mirage/prometheus/releases/download/v0.4/prometheus-0.4.tbz downloaded
[re: http] Command started
[prometheus-app: http] Command started
[prometheus-app.0.4] https://github.com/mirage/prometheus/releases/download/v0.4/prometheus-0.4.tbz downloaded
[react: http] Command started
[react: http] Command started
[react.1.2.1] http://erratique.ch/software/react/releases/react-1.2.1.tbz downloaded
[result: http] Command started
[protocol-9p: http] Command started
[protocol-9p.0.11.3] https://github.com/mirage/ocaml-9p/releases/download/v0.11.3/protocol-9p-0.11.3.tbz downloaded
[rresult: http] Command started
[rresult: http] Command started
[rresult.0.5.0] http://erratique.ch/software/rresult/releases/rresult-0.5.0.tbz downloaded
[sexplib: http] Command started
[result: http] Command started
[result.1.2] https://github.com/janestreet/result/archive/1.2.tar.gz downloaded
[stdio: http] Command started
[stdio: http] Command started
[stdio.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/stdio-v0.9.0.tar.gz downloaded
[stringext: http] Command started
[sexplib: http] Command started
[sexplib.v0.9.2] https://github.com/janestreet/sexplib/archive/v0.9.2.tar.gz downloaded
[topkg: http] Command started
[topkg: http] Command started
[topkg.0.9.0] http://erratique.ch/software/topkg/releases/topkg-0.9.0.tbz downloaded
[uchar: http] Command started
[stringext: http] Command started
[stringext.1.5.0] https://github.com/rgrinberg/stringext/archive/1.5.0.zip downloaded
[uri: http] Command started
[re: http] Command started
[re.1.7.1] https://github.com/ocaml/ocaml-re/archive/1.7.1.tar.gz downloaded
[uutf: http] Command started
[uutf: http] Command started
[uutf.1.0.1] http://erratique.ch/software/uutf/releases/uutf-1.0.1.tbz downloaded
[win-error: http] Command started
[uchar: http] Command started
[uchar.0.0.2] https://github.com/ocaml/uchar/releases/download/v0.0.2/uchar-0.0.2.tbz downloaded
[win-eventlog: http] Command started
[uri: http] Command started
[uri.1.9.4] https://github.com/mirage/ocaml-uri/releases/download/v1.9.4/uri-1.9.4.tbz downloaded
[yojson: http] Command started
[win-eventlog: http] Command started
[win-eventlog.0.1] https://github.com/djs55/ocaml-win-eventlog/archive/v0.1.tar.gz downloaded
[zarith: http] Command started
[win-error: http] Command started
[win-error.0.2] https://github.com/djs55/ocaml-win-error/archive/v0.2.tar.gz downloaded
[zed: http] Command started
[yojson: http] Command started
[yojson.1.4.0] https://github.com/mjambon/yojson/archive/v1.4.0.tar.gz downloaded
[zarith: http] Command started
[zarith.1.6] https://github.com/ocaml/Zarith/archive/release-1.6.tar.gz downloaded
[zed: http] Command started
[zed.1.5] https://github.com/diml/zed/archive/1.5.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> installed base-num.base
[conf-gmp: sh] Command started
[conf-libev: sh] Command started
[conf-m4: sh echo | m4] Command started
[conf-perl: perl] Command started
-> installed conf-m4.1
[conf-which: which which] Command started
-> installed conf-perl.1
-> installed mirage-no-solo5.1
-> installed mirage-no-xen.1
-> installed num.0
[ocamlfind: ./configure] Command started
-> installed conf-gmp.1
[result: make] Command started
-> installed conf-which.1
[uchar: ocaml] Command started
-> installed conf-libev.4-11
-> installed result.1.2
[uchar: ocaml] Command started
[ocamlfind: make all] Command started
-> installed uchar.0.0.2
[ocamlfind: make opt] Command started
[ocamlfind: make install] Command started
[ocamlfind: install 0755] Command started
-> installed ocamlfind.1.7.3
-> installed base-bytes.base
[jbuilder: ocaml bootstrap.ml] Command started
[menhir: make Makefile] Command started
[ocamlgraph: touch] Command started
[ppx_tools: make all] Command started
[ocamlgraph: ./configure] Command started
[ocamlgraph: make] Command started
[ppx_tools: make install] Command started
-> installed ppx_tools.5.0
[re: ocaml setup.ml] Command started
[re: ocaml setup.ml] Command started
[jbuilder: ./boot.exe 4] Command started
[ocamlgraph: make install-findlib] Command started
-> installed ocamlgraph.1.8.7
[topkg: ocaml build] Command started
-> installed jbuilder.1.0+beta13
[base64: jbuilder build] Command started
-> installed base64.2.2.0
[cppo: jbuilder build] Command started
[re: ocaml setup.ml] Command started
-> installed cppo.1.6.0
[camomile: ./configure] Command started
[camomile: make] Command started
-> installed re.1.7.1
[cppo_ocamlbuild: jbuilder build] Command started
-> installed cppo_ocamlbuild.1.6.0
[easy-format: jbuilder build] Command started
-> installed easy-format.1.3.0
[biniou: jbuilder build] Command started
-> installed biniou.1.2.0
[magic-mime: jbuilder build] Command started
-> installed topkg.0.9.0
[asetmap: ocaml build] Command started
-> installed asetmap.0.8.1
[astring: ocaml build] Command started
-> installed magic-mime.1.1.0
[cmdliner: ocaml build] Command started
-> installed astring.0.8.3
[duration: ocaml build] Command started
-> installed duration.0.1.0
[fpath: ocaml build] Command started
-> installed cmdliner.1.0.2
[decompress: ocaml build] Command started
-> installed fpath.0.7.2
[fmt: ocaml build] Command started
-> installed fmt.0.8.4
[alcotest: jbuilder build] Command started
-> installed alcotest.0.8.1
[mirage-device: jbuilder build] Command started
-> installed mirage-device.1.1.0
[mirage-clock: jbuilder build] Command started
-> installed mirage-clock.1.3.0
[mirage-flow: jbuilder build] Command started
-> installed decompress.0.6
[mirage-kv: jbuilder build] Command started
-> installed mirage-flow.1.3.0
[mirage-channel: jbuilder build] Command started
-> installed mirage-kv.1.1.1
[mirage-time: jbuilder build] Command started
-> installed mirage-channel.3.1.0
[mtime: ocaml build] Command started
-> installed mirage-time.1.1.0
[ocaml-compiler-libs: jbuilder build] Command started
-> installed ocaml-compiler-libs.v0.9.0
[ocaml-migrate-parsetree: jbuilder build] Command started
[menhir: make Makefile] Command started
-> installed mtime.1.1.0
[ocb-stubblr: ocaml build] Command started
-> installed menhir.20170712
[atd: jbuilder build] Command started
-> installed ocb-stubblr.0.1.1
[cpuid: ocaml build] Command started
-> installed atd.1.12.0
[ocplib-endian: ocaml setup.ml] Command started
-> installed cpuid.0.1.1
[octavius: jbuilder build] Command started
-> installed octavius.1.1.0
[ppx_derivers: jbuilder build] Command started
[ocplib-endian: ocaml setup.ml] Command started
-> installed ppx_derivers.1.0
[ppx_traverse_builtins: jbuilder build] Command started
-> installed ppx_traverse_builtins.v0.9.0
[react: ocaml build] Command started
-> installed ocaml-migrate-parsetree.1.0.4
[ppx_ast: jbuilder build] Command started
-> installed react.1.2.1
[ppx_deriving: ocaml] Command started
[ocplib-endian: ocaml setup.ml] Command started
-> installed ocplib-endian.1.0
[ppx_tools_versioned: make all] Command started
-> installed ppx_ast.v0.9.1
[rresult: ocaml build] Command started
-> installed rresult.0.5.0
[sexplib: jbuilder build] Command started
-> installed ppx_deriving.4.2
[stringext: jbuilder build] Command started
-> installed stringext.1.5.0
[uutf: ocaml build] Command started
-> installed sexplib.v0.9.2
[base: jbuilder build] Command started
-> installed uutf.1.0.1
[cstruct: jbuilder build] Command started
-> installed cstruct.3.1.1
[hex: jbuilder build] Command started
-> installed hex.1.1.1
[jsonm: ocaml build] Command started
[ppx_tools_versioned: make install] Command started
-> installed ppx_tools_versioned.5.0.1
[lwt: ocaml true] Command started
[lwt: jbuilder build] Command started
-> installed jsonm.1.0.1
[mstruct: jbuilder build] Command started
-> installed mstruct.1.3.4
[win-error: make] Command started
[win-error: make install] Command started
[lwt: ocaml] Command started
-> installed lwt.3.1.0
[cstruct-lwt: jbuilder build] Command started
-> installed base.v0.9.3
[inotify: ocaml setup.ml] Command started
[camomile: make install] Command started
-> installed win-error.0.2
[logs: ocaml build] Command started
-> installed cstruct-lwt.3.1.1
[lwt_react: jbuilder build] Command started
-> installed camomile.0.8.5
[mirage-kv-lwt: jbuilder build] Command started
-> installed mirage-kv-lwt.1.1.0
[mirage-time-lwt: jbuilder build] Command started
-> installed lwt_react.1.1.0
[named-pipe: ocaml build] Command started
-> installed mirage-time-lwt.1.1.0
[prometheus: jbuilder build] Command started
-> installed prometheus.0.4
[stdio: jbuilder build] Command started
-> installed logs.0.6.2
[asl: jbuilder build] Command started
[inotify: ocaml setup.ml] Command started
-> installed stdio.v0.9.0
[bos: ocaml build] Command started
-> installed asl.0.11
[mirage-flow-lwt: jbuilder build] Command started
-> installed mirage-flow-lwt.1.4.0
[ppx_core: jbuilder build] Command started
-> installed named-pipe.0.4.0
[win-eventlog: make] Command started
[inotify: ocaml setup.ml] Command started
-> installed bos.0.1.6
[hvsock: jbuilder build] Command started
-> installed inotify.2.3
[irmin-watcher: jbuilder build] Command started
-> installed irmin-watcher.0.3.0
[yojson: jbuilder build] Command started
-> installed hvsock.1.0.1
[zarith: ./configure] Command started
[win-eventlog: make install] Command started
[zarith: make] Command started
-> installed ppx_core.v0.9.0
[ppx_optcomp: jbuilder build] Command started
-> installed yojson.1.4.0
[atdgen: jbuilder build] Command started
-> installed win-eventlog.0.1
[zed: jbuilder build] Command started
-> installed zed.1.5
[lambda-term: jbuilder build] Command started
[zarith: make install] Command started
-> installed zarith.1.6
-> installed atdgen.1.12.0
-> installed ppx_optcomp.v0.9.0
[ppx_driver: jbuilder build] Command started
-> installed ppx_driver.v0.9.1
[fieldslib: jbuilder build] Command started
[ppx_metaquot: jbuilder build] Command started
-> installed lambda-term.1.11
-> installed fieldslib.v0.9.0
-> installed ppx_metaquot.v0.9.0
[ppx_js_style: jbuilder build] Command started
[ppx_type_conv: jbuilder build] Command started
-> installed ppx_type_conv.v0.9.0
[ppx_compare: jbuilder build] Command started
[ppx_enumerate: jbuilder build] Command started
[ppx_fields_conv: jbuilder build] Command started
-> installed ppx_js_style.v0.9.0
[ppx_sexp_conv: jbuilder build] Command started
-> installed ppx_enumerate.v0.9.0
-> installed ppx_compare.v0.9.0
-> installed ppx_fields_conv.v0.9.0
-> installed ppx_sexp_conv.v0.9.0
[ipaddr: jbuilder build] Command started
[nocrypto: ocaml build] Command started
[ppx_hash: jbuilder build] Command started
[uri: jbuilder build] Command started
-> installed ipaddr.2.8.0
-> installed ppx_hash.v0.9.0
[ppx_base: jbuilder build] Command started
-> installed ppx_base.v0.9.0
[configurator: jbuilder build] Command started
-> installed configurator.v0.9.1
[io-page: jbuilder build] Command started
-> installed io-page.2.0.0
[mirage-channel-lwt: jbuilder build] Command started
-> installed mirage-channel-lwt.3.1.0
[protocol-9p: jbuilder build] Command started
-> installed protocol-9p.0.11.3
-> installed nocrypto.0.5.4
-> installed uri.1.9.4
[cohttp: jbuilder build] Command started
[conduit: jbuilder build] Command started
[git: jbuilder build] Command started
[irmin: jbuilder build] Command started
-> installed conduit.1.0.0
[conduit-lwt: jbuilder build] Command started
-> installed cohttp.0.99.0
[cohttp-lwt: jbuilder build] Command started
-> installed git.1.11.2
-> installed irmin.1.3.0
-> installed conduit-lwt.1.0.0
[conduit-lwt-unix: jbuilder build] Command started
-> installed cohttp-lwt.0.99.0
[github: jbuilder build] Command started
-> installed conduit-lwt-unix.1.0.2
[cohttp-lwt-unix: jbuilder build] Command started
-> installed cohttp-lwt-unix.0.99.0
[prometheus-app: jbuilder build] Command started
-> installed prometheus-app.0.4
-> installed github.3.0.1
[github-hooks: jbuilder build] Command started
-> installed github-hooks.0.2.0
Done.

=-=- lwt.3.1.0 installed successfully -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
=> Lwt 4.0.0 will make some breaking changes to packaging in late 2017. See
     https://github.com/ocsigen/lwt/issues/453
 ---> c4da709688f9
Removing intermediate container 48b59ddb2dc5
Step 6/30 : COPY check-libev.ml /tmp/check-libev.ml
 ---> 743c6e94cf0e
Removing intermediate container 329a18598691
Step 7/30 : RUN opam config exec -- ocaml /tmp/check-libev.ml
 ---> Running in 8c50600cba03
 ---> f9e0621470e1
Removing intermediate container 8c50600cba03
Step 8/30 : COPY datakit.opam /home/opam/src/datakit/datakit.opam
 ---> bcfc157fc4b7
Removing intermediate container f36c3bf90990
Step 9/30 : COPY datakit-client.opam /home/opam/src/datakit/datakit-client.opam
 ---> ea647d49c937
Removing intermediate container 0044df8703eb
Step 10/30 : COPY datakit-client-9p.opam /home/opam/src/datakit/datakit-client-9p.opam
 ---> b7cc7cbd6548
Removing intermediate container 645e61f1cb16
Step 11/30 : COPY datakit-client-git.opam /home/opam/src/datakit/datakit-client-git.opam
 ---> dc9fdf6790d9
Removing intermediate container 52aa89cc16b7
Step 12/30 : COPY datakit-server.opam /home/opam/src/datakit/datakit-server.opam
 ---> b84d65e3fc6f
Removing intermediate container 1b1f99e5f858
Step 13/30 : COPY datakit-server-9p.opam /home/opam/src/datakit/datakit-server-9p.opam
 ---> 7a6ca036a6dd
Removing intermediate container 8eb9c94ca0b7
Step 14/30 : COPY datakit-github.opam /home/opam/src/datakit/datakit-github.opam
 ---> 40d931ee23e0
Removing intermediate container da76373698c0
Step 15/30 : COPY datakit-bridge-github.opam /home/opam/src/datakit/datakit-bridge-github.opam
 ---> 6f16ee748991
Removing intermediate container cd9a03d72712
Step 16/30 : RUN opam pin add datakit.dev /home/opam/src/datakit -yn &&     opam pin add datakit-server.dev /home/opam/src/datakit -yn &&     opam pin add datakit-server-9p.dev /home/opam/src/datakit -yn &&     opam pin add datakit-client.dev /home/opam/src/datakit -yn &&     opam pin add datakit-client-9p.dev /home/opam/src/datakit -yn &&     opam pin add datakit-client-git.dev /home/opam/src/datakit -yn &&     opam pin add datakit-github.dev /home/opam/src/datakit -yn &&     opam pin add datakit-bridge-github.dev /home/opam/src/datakit -yn
 ---> Running in 06436b459dd7
datakit is now path-pinned to /home/opam/src/datakit

[datakit: local]
[datakit] /home/opam/src/datakit/ synchronized
[datakit] Installing new package description from /home/opam/src/datakit

datakit-server is now path-pinned to /home/opam/src/datakit

[datakit-server: local]
[datakit-server] /home/opam/src/datakit/ synchronized
[datakit-server] Installing new package description from /home/opam/src/datakit

datakit-server-9p is now path-pinned to /home/opam/src/datakit

[datakit-server-9p: local]
[datakit-server-9p] /home/opam/src/datakit/ synchronized
[datakit-server-9p] Installing new package description from
/home/opam/src/datakit

datakit-client is now path-pinned to /home/opam/src/datakit

[datakit-client: local]
[datakit-client] /home/opam/src/datakit/ synchronized
[datakit-client] Installing new package description from /home/opam/src/datakit

datakit-client-9p is now path-pinned to /home/opam/src/datakit

[datakit-client-9p: local]
[datakit-client-9p] /home/opam/src/datakit/ synchronized
[datakit-client-9p] Installing new package description from
/home/opam/src/datakit

datakit-client-git is now path-pinned to /home/opam/src/datakit

[datakit-client-git: local]
[datakit-client-git] /home/opam/src/datakit/ synchronized
[datakit-client-git] Installing new package description from
/home/opam/src/datakit

datakit-github is now path-pinned to /home/opam/src/datakit

[datakit-github: local]
[datakit-github] /home/opam/src/datakit/ synchronized
[datakit-github] Installing new package description from /home/opam/src/datakit

datakit-bridge-github is now path-pinned to /home/opam/src/datakit

[datakit-bridge-github: local]
[datakit-bridge-github] /home/opam/src/datakit/ synchronized
[datakit-bridge-github] Installing new package description from
/home/opam/src/datakit

 ---> bf8454fa8aa3
Removing intermediate container 06436b459dd7
Step 17/30 : COPY . /home/opam/src/datakit
 ---> 695ece98e194
Removing intermediate container ebe86e2352f2
Step 18/30 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in e29d55414e17
 ---> c2c7c8c4a7e6
Removing intermediate container e29d55414e17
Step 19/30 : RUN cd /home/opam/src/datakit &&     scripts/watermark.sh &&     git status --porcelain
 ---> Running in ecef9b4e4444
 M src/version.ml
 ---> e46896aeb28f
Removing intermediate container ecef9b4e4444
Step 20/30 : RUN opam install datakit
 ---> Running in 66794a592c01

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit: local] Command started
[datakit] /home/opam/src/datakit/ synchronized
The following actions will be performed:
  - install   ocamlmod          0.0.8                           [required by oasis]
  - install   datakit-server    dev*                            [required by datakit-server-9p]
  - remove    cohttp-lwt-unix   0.99.0                          [uses cohttp-lwt]
  - install   ptime             0.8.3                           [required by tls]
  - install   io-page-unix      2.0.0                           [required by protocol-9p-unix]
  - install   ppx_cstruct       3.1.1                           [required by tls]
  - install   asn1-combinators  0.1.3                           [required by x509]
  - install   irmin-mem         1.3.0                           [required by datakit]
  - install   irmin-git         1.3.0                           [required by datakit]
  - install   ocamlify          0.0.1                           [required by oasis]
  - install   datakit-server-9p dev*                            [required by datakit]
  - remove    conduit-lwt-unix  1.0.2                           [uses conduit-lwt]
  - remove    cohttp-lwt        0.99.0                          [conflicts with conduit]
  - install   protocol-9p-unix  0.11.3                          [required by datakit]
  - install   oasis             0.4.10                          [required by x509]
  - remove    conduit-lwt       1.0.0                           [conflicts with conduit]
  - install   x509              0.5.3                           [required by tls]
  - install   tls               0.8.0                           [required by conduit]
  - downgrade conduit           1.0.0 to 0.15.4                 [required by datakit]
  - downgrade cohttp            0.99.0 to 0.22.0                [uses conduit]
  - downgrade prometheus-app    0.4 to 0.3                      [required by datakit]
  - downgrade github            3.0.1 to 2.3.0                  [uses cohttp]
  - install   datakit           dev*            
  - downgrade github-hooks      0.2.0 to 0.1.2                  [uses cohttp]
===== 15 to install | 5 to downgrade | 4 to remove =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[asn1-combinators: http] Command started
[cohttp: http] Command started
[conduit: http] Command started
[conduit: http] Command started
[conduit.0.15.4] https://github.com/mirage/ocaml-conduit/archive/v0.15.4.tar.gz downloaded
[datakit: local] Command started
[datakit.dev] /home/opam/src/datakit/ already up-to-date
[datakit-server: local] Command started
[asn1-combinators: http] Command started
[asn1-combinators.0.1.3] https://github.com/mirleft/ocaml-asn1-combinators/releases/download/v0.1.3/asn1-combinators-0.1.3.tbz downloaded
[datakit-server-9p: local] Command started
[datakit-server.dev] /home/opam/src/datakit/ synchronized
[github: http] Command started
[datakit-server-9p.dev] /home/opam/src/datakit/ synchronized
[github-hooks: http] Command started
[cohttp: http] Command started
[cohttp.0.22.0] https://github.com/mirage/ocaml-cohttp/archive/v0.22.0.tar.gz downloaded
[io-page-unix: http] Command started
[github-hooks: http] Command started
[github-hooks.0.1.2] https://github.com/dsheets/ocaml-github-hooks/releases/download/0.1.2/github-hooks-0.1.2.tbz downloaded
[irmin-git: http] Command started
[io-page-unix: http] Command started
[io-page-unix.2.0.0] https://github.com/mirage/io-page/releases/download/2.0.0/io-page-2.0.0.tbz downloaded
[irmin-mem: http] Command started
[github: http] Command started
[github.2.3.0] https://github.com/mirage/ocaml-github/archive/v2.3.0.tar.gz downloaded
[oasis: http] Command started
[oasis: http] Command started
[oasis.0.4.10] https://forge.ocamlcore.org/frs/download.php/1694/oasis-0.4.10.tar.gz downloaded
[ocamlify: http] Command started
[ocamlify: http] Command started
[ocamlify.0.0.1] http://forge.ocamlcore.org/frs/download.php/379/ocamlify-0.0.1.tar.gz downloaded
[ocamlmod: http] Command started
[ocamlmod: http] Command started
[ocamlmod.0.0.8] https://forge.ocamlcore.org/frs/download.php/1544/ocamlmod-0.0.8.tar.gz downloaded
[ppx_cstruct: http] Command started
[irmin-mem: http] Command started
[irmin-mem.1.3.0] https://github.com/mirage/irmin/releases/download/1.3.0/irmin-1.3.0.tbz downloaded
[prometheus-app: http] Command started
[irmin-git: http] Command started
[irmin-git.1.3.0] https://github.com/mirage/irmin/releases/download/1.3.0/irmin-1.3.0.tbz downloaded
[protocol-9p-unix: http] Command started
[prometheus-app: http] Command started
[prometheus-app.0.3] https://github.com/mirage/prometheus/releases/download/v0.3/prometheus-0.3.tbz downloaded
[ptime: http] Command started
[ptime: http] Command started
[ptime.0.8.3] http://erratique.ch/software/ptime/releases/ptime-0.8.3.tbz downloaded
[tls: http] Command started
[ppx_cstruct: http] Command started
[ppx_cstruct.3.1.1] https://github.com/mirage/ocaml-cstruct/releases/download/v3.1.1/cstruct-3.1.1.tbz downloaded
[x509: http] Command started
[protocol-9p-unix: http] Command started
[protocol-9p-unix.0.11.3] https://github.com/mirage/ocaml-9p/releases/download/v0.11.3/protocol-9p-0.11.3.tbz downloaded
[x509: http] Command started
[x509.0.5.3] https://github.com/mirleft/ocaml-x509/archive/0.5.3.tar.gz downloaded
[tls: http] Command started
[tls.0.8.0] https://github.com/mirleft/ocaml-tls/releases/download/0.8.0/tls-0.8.0.tbz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> removed   github-hooks.0.2.0
-> removed   github.3.0.1
-> removed   prometheus-app.0.4
-> removed   cohttp-lwt-unix.0.99.0
-> removed   cohttp-lwt.0.99.0
-> removed   cohttp.0.99.0
-> removed   conduit-lwt-unix.1.0.2
-> removed   conduit-lwt.1.0.0
-> removed   conduit.1.0.0
[asn1-combinators: ocaml build] Command started
[datakit-server: jbuilder build] Command started
[io-page-unix: jbuilder build] Command started
[irmin-git: jbuilder build] Command started
[91m[ERROR] The compilation of datakit-server failed at "jbuilder build -p
        datakit-server -j 4".
[0m[irmin-mem: jbuilder build] Command started
-> installed io-page-unix.2.0.0
[ocamlify: ocaml setup.ml] Command started
-> installed irmin-mem.1.3.0
[ocamlmod: ocaml setup.ml] Command started
[ocamlify: ocaml setup.ml] Command started
-> installed asn1-combinators.0.1.3
[ppx_cstruct: jbuilder build] Command started
[ocamlmod: ocaml setup.ml] Command started
-> installed irmin-git.1.3.0
[protocol-9p-unix: jbuilder build] Command started
[ocamlify: ocaml setup.ml] Command started
-> installed protocol-9p-unix.0.11.3
[ptime: ocaml build] Command started
-> installed ppx_cstruct.3.1.1
-> installed ocamlify.0.0.1
[ocamlmod: ocaml setup.ml] Command started
-> installed ptime.0.8.3
-> installed ocamlmod.0.0.8
[oasis: ocaml setup.ml] Command started
[oasis: ocaml setup.ml] Command started
[oasis: ocaml setup.ml] Command started
-> installed oasis.0.4.10
[x509: ./configure] Command started
[x509: make] Command started
[x509: make install] Command started
-> installed x509.0.5.3
[tls: ocaml build] Command started
-> installed tls.0.8.0
[conduit: ./configure] Command started
[conduit: make] Command started
[conduit: make install] Command started
-> installed conduit.0.15.4
[cohttp: make] Command started
[cohttp: make install] Command started
-> installed cohttp.0.22.0
[github: ocaml setup.ml] Command started
[prometheus-app: jbuilder build] Command started
-> installed prometheus-app.0.3
[github: ocaml setup.ml] Command started
[github: ocaml setup.ml] Command started
-> installed github.2.3.0
[github-hooks: ocaml build] Command started
-> installed github-hooks.0.1.2
[91m
#=== ERROR while installing datakit-server.dev ================================#
# opam-version         1.2.2
# os                   linux
# command              jbuilder build -p datakit-server -j 4
# path                 /home/opam/.opam/system/build/datakit-server.dev
# compiler             system (4.04.0)
# exit-code            1
# env-file             /home/opam/.opam/system/build/datakit-server.dev/datakit-server-7-e0ba4f.env
# stdout-file          /home/opam/.opam/system/build/datakit-server.dev/datakit-server-7-e0ba4f.out
# stderr-file          /home/opam/.opam/system/build/datakit-server.dev/datakit-server-7-e0ba4f.err
### stderr ###
# Multiple rules generated for _build/default/bridge/github/version.o

[0m

=-=- Error report -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
The following actions were aborted
  - install datakit           dev
  - install datakit-server-9p dev
The following actions failed
  - install datakit-server dev
The following changes have been performed
  - remove    cohttp-lwt       0.99.0          
  - remove    cohttp-lwt-unix  0.99.0          
  - remove    conduit-lwt      1.0.0           
  - remove    conduit-lwt-unix 1.0.2           
  - install   asn1-combinators 0.1.3           
  - downgrade cohttp           0.99.0 to 0.22.0
  - downgrade conduit          1.0.0 to 0.15.4 
  - downgrade github           3.0.1 to 2.3.0  
  - downgrade github-hooks     0.2.0 to 0.1.2  
  - install   io-page-unix     2.0.0           
  - install   irmin-git        1.3.0           
  - install   irmin-mem        1.3.0           
  - install   oasis            0.4.10          
  - install   ocamlify         0.0.1           
  - install   ocamlmod         0.0.8           
  - install   ppx_cstruct      3.1.1           
  - downgrade prometheus-app   0.4 to 0.3      
  - install   protocol-9p-unix 0.11.3          
  - install   ptime            0.8.3           
  - install   tls              0.8.0           
  - install   x509             0.5.3           
[91m
The former state can be restored with:
    opam switch import "~/.opam/system/backup/state-20170828142109.export"
[0mThe command '/bin/sh -c opam install datakit' returned a non-zero code: 4
[2017-09-28 14:23.04] Failed: Command "docker" "build" "--pull" "-f" "Dockerfile.github" "." exited with status 4
