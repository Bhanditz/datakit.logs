=== Docker build Dockerfile.github
[2017-06-09 11:24.41] Starting...
Cloning into '/tmp/with_clonedbc8562'...
done.
warning: remote HEAD refers to nonexistent ref, unable to checkout.

HEAD is now at 449c396 github: use dev version of github and github-hooks
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 6.128 MBSending build context to Docker daemon 6.685 MBSending build context to Docker daemon 7.242 MBSending build context to Docker daemon 7.799 MBSending build context to Docker daemon  8.35 MBSending build context to Docker daemon  8.35 MB
Step 1/34 : FROM ocaml/opam-dev@sha256:1dd4440b3e5f182f705cb5a74f9d4e860c2842b45ed72c199de89a894d13f522
sha256:1dd4440b3e5f182f705cb5a74f9d4e860c2842b45ed72c199de89a894d13f522: Pulling from ocaml/opam-dev
Digest: sha256:1dd4440b3e5f182f705cb5a74f9d4e860c2842b45ed72c199de89a894d13f522
Status: Image is up to date for ocaml/opam-dev@sha256:1dd4440b3e5f182f705cb5a74f9d4e860c2842b45ed72c199de89a894d13f522
 ---> f03bf6a81395
Step 2/34 : RUN git -C /home/opam/opam-repository fetch origin &&     git -C /home/opam/opam-repository reset 79046b8ab --hard &&     opam update -u
 ---> Using cache
 ---> 834afef17701
Step 3/34 : ENV OPAMERRLOGLEN 0 OPAMYES 1
 ---> Using cache
 ---> c4322ca77791
Step 4/34 : RUN sudo apk add tzdata aspcud
 ---> Using cache
 ---> b636b99cfd07
Step 5/34 : RUN opam depext -ui lwt inotify alcotest conf-libev lambda-term cmdliner     github protocol-9p rresult prometheus-app asl win-eventlog mtime hex     github-hooks hvsock irmin-watcher git irmin
 ---> Using cache
 ---> 3c49818f6ae5
Step 6/34 : COPY check-libev.ml /tmp/check-libev.ml
 ---> Using cache
 ---> e1bd80b0b228
Step 7/34 : RUN opam config exec -- ocaml /tmp/check-libev.ml
 ---> Using cache
 ---> 113d6030554b
Step 8/34 : RUN opam pin add -n github.dev --dev
 ---> Running in 50e2c49f2726
[github.dev: git]
[github.dev: git]
[github.dev: git]
[github.dev: git]
[github.dev] synchronised from git+https://github.com/mirage/ocaml-github.git
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/github/github.opam from 1.2 to 2.0~beta
[0mgithub is now pinned to git+https://github.com/mirage/ocaml-github.git (version dev)
 ---> 9f85058beeab
Removing intermediate container 50e2c49f2726
Step 9/34 : RUN opam pin add -n github-unix.dev https://github.com/mirage/ocaml-github.git
 ---> Running in ee22a6e842ab
Package github-unix does not exist, create as a NEW package ? [Y/n] y
[github-unix.dev: git]
[github-unix.dev: git]
[github-unix.dev: git]
[github-unix.dev: git]
[github-unix.dev] synchronised from git+https://github.com/mirage/ocaml-github.git
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/github-unix/github-unix.opam from 1.2 to 2.0~beta
[0mgithub-unix is now pinned to git+https://github.com/mirage/ocaml-github.git (version dev)
 ---> 779e9c2eb228
Error removing intermediate container ee22a6e842ab: Driver aufs failed to remove root filesystem ee22a6e842ab6424b2eb0e89dea070414db2bb24a16fcb4aa32414308932be74: rename /var/lib/docker/aufs/mnt/05e09d8adbc3e916a12befa5ec984b4f13f5b5e2640cbc168afc168de5d76190 /var/lib/docker/aufs/mnt/05e09d8adbc3e916a12befa5ec984b4f13f5b5e2640cbc168afc168de5d76190-removing: device or resource busy
Step 10/34 : RUN opam pin add -n github-hooks.dev --dev
 ---> Running in 18ec7088b6c0
[github-hooks.dev: git]
[github-hooks.dev: git]
[github-hooks.dev: git]
[github-hooks.dev: git]
[github-hooks.dev] synchronised from git+https://github.com/dsheets/ocaml-github-hooks.git
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/github-hooks/github-hooks.opam from 1.2 to 2.0~beta
[0mgithub-hooks is now pinned to git+https://github.com/dsheets/ocaml-github-hooks.git (version dev)
 ---> c5fd49e79d82
Error removing intermediate container ee22a6e842ab: No such container: ee22a6e842ab6424b2eb0e89dea070414db2bb24a16fcb4aa32414308932be74
Step 11/34 : RUN opam pin add -n github-hooks-unix.dev https://github.com/dsheets/ocaml-github-hooks.git
 ---> Running in 91a89065c7f5
Package github-hooks-unix does not exist, create as a NEW package ? [Y/n] y
[github-hooks-unix.dev: git]
[github-hooks-unix.dev: git]
[github-hooks-unix.dev: git]
[github-hooks-unix.dev: git]
[github-hooks-unix.dev] synchronised from git+https://github.com/dsheets/ocaml-github-hooks.git
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/github-hooks-unix/github-hooks-unix.opam from 1.2 to 2.0~beta
[0mgithub-hooks-unix is now pinned to git+https://github.com/dsheets/ocaml-github-hooks.git (version dev)
 ---> 9e037e30d71c
Removing intermediate container 18ec7088b6c0
Removing intermediate container 91a89065c7f5
Error removing intermediate container ee22a6e842ab: No such container: ee22a6e842ab6424b2eb0e89dea070414db2bb24a16fcb4aa32414308932be74
Step 12/34 : COPY datakit.opam /home/opam/src/datakit/datakit.opam
 ---> fdf0ed5d80e7
Error removing intermediate container ee22a6e842ab: No such container: ee22a6e842ab6424b2eb0e89dea070414db2bb24a16fcb4aa32414308932be74
Step 13/34 : COPY datakit-client.opam /home/opam/src/datakit/datakit-client.opam
 ---> 0b6263a8c670
Error removing intermediate container ee22a6e842ab: No such container: ee22a6e842ab6424b2eb0e89dea070414db2bb24a16fcb4aa32414308932be74
Step 14/34 : COPY datakit-client-9p.opam /home/opam/src/datakit/datakit-client-9p.opam
 ---> 82ce918962f5
Error removing intermediate container ee22a6e842ab: No such container: ee22a6e842ab6424b2eb0e89dea070414db2bb24a16fcb4aa32414308932be74
Step 15/34 : COPY datakit-client-git.opam /home/opam/src/datakit/datakit-client-git.opam
 ---> e86651e00617
Error removing intermediate container ee22a6e842ab: No such container: ee22a6e842ab6424b2eb0e89dea070414db2bb24a16fcb4aa32414308932be74
Step 16/34 : COPY datakit-server.opam /home/opam/src/datakit/datakit-server.opam
 ---> b894b27abe76
Removing intermediate container 5a2297a9bea6
Removing intermediate container c206e382ce2b
Removing intermediate container 48ed6106c8dc
Removing intermediate container 3c7c76fb32ef
Removing intermediate container ac45eaec68b3
Error removing intermediate container ee22a6e842ab: No such container: ee22a6e842ab6424b2eb0e89dea070414db2bb24a16fcb4aa32414308932be74
Step 17/34 : COPY datakit-server-9p.opam /home/opam/src/datakit/datakit-server-9p.opam
 ---> f0b7331cc4b9
Error removing intermediate container ee22a6e842ab: No such container: ee22a6e842ab6424b2eb0e89dea070414db2bb24a16fcb4aa32414308932be74
Step 18/34 : COPY datakit-github.opam /home/opam/src/datakit/datakit-github.opam
 ---> 5d3ab0592175
Error removing intermediate container ee22a6e842ab: No such container: ee22a6e842ab6424b2eb0e89dea070414db2bb24a16fcb4aa32414308932be74
Step 19/34 : COPY datakit-bridge-github.opam /home/opam/src/datakit/datakit-bridge-github.opam
 ---> ce7c84c9cb09
Error removing intermediate container ee22a6e842ab: No such container: ee22a6e842ab6424b2eb0e89dea070414db2bb24a16fcb4aa32414308932be74
Step 20/34 : RUN opam pin add datakit.dev /home/opam/src/datakit -yn &&     opam pin add datakit-server.dev /home/opam/src/datakit -yn &&     opam pin add datakit-server-9p.dev /home/opam/src/datakit -yn &&     opam pin add datakit-client.dev /home/opam/src/datakit -yn &&     opam pin add datakit-client-9p.dev /home/opam/src/datakit -yn &&     opam pin add datakit-client-git.dev /home/opam/src/datakit -yn &&     opam pin add datakit-github.dev /home/opam/src/datakit -yn &&     opam pin add datakit-bridge-github.dev /home/opam/src/datakit -yn
 ---> Running in 62ac494f8087
[datakit.dev: rsync]
[datakit.dev] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit/datakit.opam from 1.2 to 2.0~beta
[0mdatakit is now pinned to file:///home/opam/src/datakit (version dev)
[datakit-server.dev: rsync]
[datakit-server.dev] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit-server/datakit-server.opam from 1.2 to 2.0~beta
[0mdatakit-server is now pinned to file:///home/opam/src/datakit (version dev)
Package datakit-server-9p does not exist, create as a NEW package ? [Y/n] y
[datakit-server-9p.dev: rsync]
[datakit-server-9p.dev] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit-server-9p/datakit-server-9p.opam from 1.2 to 2.0~beta
[0mdatakit-server-9p is now pinned to file:///home/opam/src/datakit (version dev)
[datakit-client.dev: rsync]
[datakit-client.dev] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit-client/datakit-client.opam from 1.2 to 2.0~beta
[0mdatakit-client is now pinned to file:///home/opam/src/datakit (version dev)
Package datakit-client-9p does not exist, create as a NEW package ? [Y/n] y
[datakit-client-9p.dev: rsync]
[datakit-client-9p.dev] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit-client-9p/datakit-client-9p.opam from 1.2 to 2.0~beta
[0mdatakit-client-9p is now pinned to file:///home/opam/src/datakit (version dev)
Package datakit-client-git does not exist, create as a NEW package ? [Y/n] y
[datakit-client-git.dev: rsync]
[datakit-client-git.dev] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit-client-git/datakit-client-git.opam from 1.2 to 2.0~beta
[0mdatakit-client-git is now pinned to file:///home/opam/src/datakit (version dev)
[datakit-github.dev: rsync]
[datakit-github.dev] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit-github/datakit-github.opam from 1.2 to 2.0~beta
[0mdatakit-github is now pinned to file:///home/opam/src/datakit (version dev)
[datakit-bridge-github.dev: rsync]
[datakit-bridge-github.dev] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit-bridge-github/datakit-bridge-github.opam from 1.2 to 2.0~beta
[0mdatakit-bridge-github is now pinned to file:///home/opam/src/datakit (version dev)
 ---> f77fd699c566
Removing intermediate container fd38294f6136
Removing intermediate container 67c58f8965ea
Error removing intermediate container 62ac494f8087: Driver aufs failed to remove root filesystem 62ac494f8087630db4452ea5e6890a214a971749b54acb5754e17a3c8935c636: rename /var/lib/docker/aufs/mnt/2d5554e08f57995cdb63c95bd016e1e069e17adbd10b186445f2588a2843025c /var/lib/docker/aufs/mnt/2d5554e08f57995cdb63c95bd016e1e069e17adbd10b186445f2588a2843025c-removing: device or resource busy
Step 21/34 : COPY . /home/opam/src/datakit
 ---> 124937c5182a
Error removing intermediate container 62ac494f8087: No such container: 62ac494f8087630db4452ea5e6890a214a971749b54acb5754e17a3c8935c636
Step 22/34 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in 1f1e1c08d8b2
 ---> 0ca69b95570b
Error removing intermediate container ee22a6e842ab: No such container: ee22a6e842ab6424b2eb0e89dea070414db2bb24a16fcb4aa32414308932be74
Step 23/34 : RUN cd /home/opam/src/datakit &&     scripts/watermark.sh &&     git status --porcelain
 ---> Running in 6f3215047b41
 M src/version.ml
 ---> be82d876431f
Removing intermediate container 1f1e1c08d8b2
Error removing intermediate container 62ac494f8087: No such container: 62ac494f8087630db4452ea5e6890a214a971749b54acb5754e17a3c8935c636
Step 24/34 : RUN opam install datakit
 ---> Running in d0184fd4faf8

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit.dev] synchronised from file:///home/opam/src/datakit

The following actions will be performed:
  - install protocol-9p-unix  0.11.0                            [required by datakit]
  - install irmin-git         1.2.0                             [required by datakit]
  - install datakit-server    dev*                              [required by datakit-server-9p]
  - install irmin-mem         1.2.0                             [required by datakit]
  - install datakit-server-9p dev*                              [required by datakit]
  - install datakit           dev*
===== 6 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit.dev] synchronised from file:///home/opam/src/datakit
[irmin-git.1.2.0] found in cache
[datakit-server.dev] synchronised from file:///home/opam/src/datakit
[irmin-mem.1.2.0] found in cache
[datakit-server-9p.dev] synchronised from file:///home/opam/src/datakit
[protocol-9p-unix.0.11.0] found in cache

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> installed datakit-server.dev
-> installed datakit-server-9p.dev
-> installed irmin-git.1.2.0
-> installed irmin-mem.1.2.0
-> installed protocol-9p-unix.0.11.0
-> installed datakit.dev
Done.
# Run eval `opam env` to update the current shell environment
 ---> 16c1667ff2d6
Removing intermediate container 2065fdfe41cd
Removing intermediate container 758a6e832b2d
Removing intermediate container d0184fd4faf8
Error removing intermediate container 62ac494f8087: No such container: 62ac494f8087630db4452ea5e6890a214a971749b54acb5754e17a3c8935c636
Step 25/34 : RUN opam install datakit-bridge-github -ytv
 ---> Running in 48ae7f690438

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/1: [datakit-bridge-github.dev: rsync]
[datakit-bridge-github.dev] synchronised from file:///home/opam/src/datakit

The following actions will be performed:
  - install datakit-client        dev*                          [required by datakit-bridge-github]
  - install git-http              1.11.0                        [required by git-unix]
  - upgrade github                2.3.0 to dev*                 [required by datakit-bridge-github]
  - install datakit-github        dev*                          [required by datakit-bridge-github]
  - install datakit-client-9p     dev*                          [required by datakit-bridge-github]
  - install git-unix              1.11.0                        [required by datakit-client-git]
  - install github-unix           dev*                          [required by datakit-bridge-github]
  - upgrade github-hooks          0.1.2 to dev*                 [required by datakit-bridge-github]
  - install datakit-client-git    dev*                          [required by datakit-bridge-github]
  - install github-hooks-unix     dev*                          [required by datakit-bridge-github]
  - install datakit-bridge-github dev*
===== 9 to install | 2 to upgrade =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/11: [datakit-bridge-github.dev: rsync]
Processing  2/11: [datakit-bridge-github.dev: rsync] [datakit-client.dev: rsync]
Processing  3/11: [datakit-bridge-github.dev: rsync] [datakit-client.dev: rsync] [datakit-client-9p.dev: rsync]
[datakit-bridge-github.dev] synchronised from file:///home/opam/src/datakit
Processing  3/11: [datakit-client.dev: rsync] [datakit-client-9p.dev: rsync]
Processing  4/11: [datakit-client.dev: rsync] [datakit-client-9p.dev: rsync] [datakit-client-git.dev: rsync]
[datakit-client-9p.dev] synchronised from file:///home/opam/src/datakit
Processing  4/11: [datakit-client.dev: rsync] [datakit-client-git.dev: rsync]
Processing  5/11: [datakit-client.dev: rsync] [datakit-client-git.dev: rsync] [datakit-github.dev: rsync]
[datakit-client.dev] synchronised from file:///home/opam/src/datakit
Processing  5/11: [datakit-client-git.dev: rsync] [datakit-github.dev: rsync]
[git-http.1.11.0] found in cache
Processing  6/11: [datakit-client-git.dev: rsync] [datakit-github.dev: rsync]
[datakit-client-git.dev] synchronised from file:///home/opam/src/datakit
Processing  6/11: [datakit-github.dev: rsync]
[git-unix.1.11.0] found in cache
Processing  7/11: [datakit-github.dev: rsync]
Processing  8/11: [datakit-github.dev: rsync] [github.dev: git]
[datakit-github.dev] synchronised from file:///home/opam/src/datakit
Processing  8/11: [github.dev: git]
Processing  9/11: [github.dev: git] [github-hooks.dev: git]
Processing 10/11: [github.dev: git] [github-hooks.dev: git] [github-hooks-unix.dev: git]
[github-hooks-unix.dev] synchronised from git+https://github.com/dsheets/ocaml-github-hooks.git
Processing 10/11: [github.dev: git] [github-hooks.dev: git]
Processing 11/11: [github.dev: git] [github-hooks.dev: git] [github-unix.dev: git]
[github-hooks.dev] synchronised from git+https://github.com/dsheets/ocaml-github-hooks.git
Processing 11/11: [github.dev: git] [github-unix.dev: git]
[github.dev] synchronised from git+https://github.com/mirage/ocaml-github.git
Processing 11/11: [github-unix.dev: git]
[github-unix.dev] synchronised from git+https://github.com/mirage/ocaml-github.git

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/24: [datakit-client: jbuilder build]
+ jbuilder "build" "-p" "datakit-client" "-j" "1" (CWD=/home/opam/.opam/default/.opam-switch/build/datakit-client.dev)
-     ocamldep api/ocaml/datakit_client.depends.ocamldep-output
-     ocamldep api/ocaml/datakit_client.dependsi.ocamldep-output
-       ocamlc api/ocaml/datakit_client.{cmi,cmti}
-       ocamlc api/ocaml/datakit_client.{cmo,cmt}
-     ocamlopt api/ocaml/datakit_client.{cmx,o}
-       ocamlc api/ocaml/datakit_client.cma
-     ocamlopt api/ocaml/datakit_client.{a,cmxa}
-     ocamlopt api/ocaml/datakit_client.cmxs
-> compiled  datakit-client.dev
Processing  2/24: [git-http: jbuilder build]
+ jbuilder "build" "-p" "git-http" "-j" "1" (CWD=/home/opam/.opam/default/.opam-switch/build/git-http.1.11.0)
-     ocamldep src/git-http/git_http.depends.ocamldep-output
-     ocamldep src/git-http/git_http.dependsi.ocamldep-output
-       ocamlc src/git-http/git_http.{cmi,cmti}
-       ocamlc src/git-http/git_http.{cmo,cmt}
-     ocamlopt src/git-http/git_http.{cmx,o}
-       ocamlc src/git-http/git_http.cma
-     ocamlopt src/git-http/git_http.{a,cmxa}
-     ocamlopt src/git-http/git_http.cmxs
-> compiled  git-http.1.11.0
Processing  3/24: [github: jbuilder build]
+ jbuilder "build" "-p" "github" "-j" "1" (CWD=/home/opam/.opam/default/.opam-switch/build/github.dev)
- File "lib_test/jbuild", line 5, characters 11-22:
- Warning: This field is useless without a (public_names ...) field.
-       atdgen lib/github_j.{ml,mli}
-       atdgen lib/github_t.{ml,mli}
-     ocamldep lib/github.depends.ocamldep-output
-     ocamldep lib/github.dependsi.ocamldep-output
-       ocamlc lib/github_t.{cmi,cmti}
-       ocamlc lib/github_t.{cmo,cmt}
-     ocamlopt lib/github_t.{cmx,o}
-       ocamlc lib/github_j.{cmi,cmti}
-       ocamlc lib/github_s.{cmi,cmti}
-       ocamlc lib/github_j.{cmo,cmt}
-     ocamlopt lib/github_j.{cmx,o}
-       ocamlc lib/github_s.{cmo,cmt}
-     ocamlopt lib/github_s.{cmx,o}
-       ocamlc lib/github_core.{cmi,cmti}
-       ocamlc lib/github_core.{cmo,cmt}
-     ocamlopt lib/github_core.{cmx,o}
-       ocamlc lib/github.cma
-     ocamlopt lib/github.{a,cmxa}
-     ocamlopt lib/github.cmxs
-> compiled  github.dev
-> removed   github-hooks.0.1.2
Processing  5/24: [github: ocamlfind remove]
+ ocamlfind "remove" "github"
- Removed /home/opam/.opam/default/lib/github/META
- Removed /home/opam/.opam/default/lib/github
-> removed   github.2.3.0
[91m[WARNING] While removing github.2.3.0: not removing files that changed since:
            - bin/git-upload-release
            - bin/git-sync-releases
            - bin/git-search
            - bin/git-list-releases
            - bin/git-list-issues
            - bin/git-list-events
            - bin/git-jar
            - bin/git-gist
            - bin/git-create-release

[0m-> installed datakit-client.dev
Processing  7/24: [datakit-client-9p: jbuilder build]
+ jbuilder "build" "-p" "datakit-client-9p" "-j" "1" (CWD=/home/opam/.opam/default/.opam-switch/build/datakit-client-9p.dev)
-     ocamldep api/ocaml/9p/mount/mount.depends.ocamldep-output
-     ocamldep api/ocaml/9p/datakit_client_9p.depends.ocamldep-output
-     ocamldep api/ocaml/9p/datakit_client_9p.dependsi.ocamldep-output
-       ocamlc api/ocaml/9p/mount/version.{cmi,cmo,cmt}
-       ocamlc api/ocaml/9p/datakit_client_9p.{cmi,cmti}
-     ocamlopt api/ocaml/9p/mount/version.{cmx,o}
-       ocamlc api/ocaml/9p/mount/mount.{cmi,cmo,cmt}
-       ocamlc api/ocaml/9p/datakit_client_9p.{cmo,cmt}
-     ocamlopt api/ocaml/9p/datakit_client_9p.{cmx,o}
-     ocamlopt api/ocaml/9p/mount/mount.{cmx,o}
-       ocamlc api/ocaml/9p/datakit_client_9p.cma
-     ocamlopt api/ocaml/9p/datakit_client_9p.{a,cmxa}
-     ocamlopt api/ocaml/9p/mount/mount.exe
-     ocamlopt api/ocaml/9p/datakit_client_9p.cmxs
-> compiled  datakit-client-9p.dev
Processing  8/24: [datakit-github: jbuilder build]
+ jbuilder "build" "-p" "datakit-github" "-j" "1" (CWD=/home/opam/.opam/default/.opam-switch/build/datakit-github.dev)
-     ocamldep src/datakit-github/datakit_github.depends.ocamldep-output
-     ocamldep src/datakit-github/datakit_github.dependsi.ocamldep-output
-       ocamlc src/datakit-github/datakit_github.{cmi,cmti}
-       ocamlc src/datakit-github/datakit_github.{cmo,cmt}
-     ocamlopt src/datakit-github/datakit_github.{cmx,o}
-       ocamlc src/datakit-github/datakit_github_conv.{cmi,cmti}
-       ocamlc src/datakit-github/datakit_github_conv.{cmo,cmt}
-     ocamlopt src/datakit-github/datakit_github_conv.{cmx,o}
-       ocamlc src/datakit-github/datakit_github.cma
-     ocamlopt src/datakit-github/datakit_github.{a,cmxa}
-     ocamlopt src/datakit-github/datakit_github.cmxs
-> compiled  datakit-github.dev
-> installed datakit-client-9p.dev
-> installed datakit-github.dev
-> installed git-http.1.11.0
Processing 12/24: [git-unix: jbuilder build]
+ jbuilder "build" "-p" "git-unix" "-j" "1" (CWD=/home/opam/.opam/default/.opam-switch/build/git-unix.1.11.0)
-     ocamldep src/git-unix/ogit/main.depends.ocamldep-output
-     ocamldep src/git-unix/git_unix.depends.ocamldep-output
-     ocamldep src/git-unix/git_unix.dependsi.ocamldep-output
-       ocamlc src/git-unix/git_unix.{cmi,cmti}
-       ocamlc src/git-unix/git_unix.{cmo,cmt}
-     ocamlopt src/git-unix/git_unix.{cmx,o}
-       ocamlc src/git-unix/ogit/main.{cmi,cmo,cmt}
-       ocamlc src/git-unix/git_unix.cma
-     ocamlopt src/git-unix/git_unix.{a,cmxa}
-     ocamlopt src/git-unix/ogit/main.{cmx,o}
-     ocamlopt src/git-unix/git_unix.cmxs
-     ocamlopt src/git-unix/ogit/main.exe
-> compiled  git-unix.1.11.0
-> installed git-unix.1.11.0
Processing 14/24: [datakit-client-git: jbuilder build]
+ jbuilder "build" "-p" "datakit-client-git" "-j" "1" (CWD=/home/opam/.opam/default/.opam-switch/build/datakit-client-git.dev)
-     ocamldep api/ocaml/git/datakit_client_git.depends.ocamldep-output
-     ocamldep api/ocaml/git/datakit_client_git.dependsi.ocamldep-output
-       ocamlc api/ocaml/git/datakit_client_git.{cmi,cmti}
-       ocamlc api/ocaml/git/datakit_client_git.{cmo,cmt}
-     ocamlopt api/ocaml/git/datakit_client_git.{cmx,o}
-       ocamlc api/ocaml/git/datakit_client_git.cma
-     ocamlopt api/ocaml/git/datakit_client_git.{a,cmxa}
-     ocamlopt api/ocaml/git/datakit_client_git.cmxs
-> compiled  datakit-client-git.dev
-> installed datakit-client-git.dev
-> installed github.dev
Processing 17/24: [github-hooks: jbuilder build]
+ jbuilder "build" "-p" "github-hooks" "-j" "1" (CWD=/home/opam/.opam/default/.opam-switch/build/github-hooks.dev)
-     ocamldep src/core/github_hooks.depends.ocamldep-output
-     ocamldep src/core/github_hooks.dependsi.ocamldep-output
-       ocamlc src/core/github_hooks.{cmi,cmti} (exit 2)
- (cd _build/default && /usr/bin/ocamlc.opt -w -40 -g -bin-annot -I /home/opam/.opam/default/lib/atd -I /home/opam/.opam/default/lib/atdgen -I /home/opam/.opam/default/lib/base -I /home/opam/.opam/default/lib/base/caml -I /home/opam/.opam/default/lib/base/shadow_stdlib -I /home/opam/.opam/default/lib/base64 -I /home/opam/.opam/default/lib/biniou -I /home/opam/.opam/default/lib/bytes -I /home/opam/.opam/default/lib/cohttp -I /home/opam/.opam/default/lib/conduit -I /home/opam/.opam/default/lib/cstruct -I /home/opam/.opam/default/lib/easy-format -I /home/opam/.opam/default/lib/fieldslib -I /home/opam/.opam/default/lib/fmt -I /home/opam/.opam/default/lib/github -I /home/opam/.opam/default/lib/hex -I /home/opam/.opam/default/lib/ipaddr -I /home/opam/.opam/default/lib/logs -I /home/opam/.opam/default/lib/lwt -I /home/opam/.opam/default/lib/nocrypto -I /home/opam/.opam/default/lib/ocplib-endian -I /home/opam/.opam/default/lib/re -I /home/opam/.opam/default/lib/result -I /home/opam/.opam/default/lib/sexplib -I /home/opam/.opam/default/lib/sexplib/0 -I /home/opam/.opam/default/lib/stringext -I /home/opam/.opam/default/lib/uchar -I /home/opam/.opam/default/lib/uri -I /home/opam/.opam/default/lib/yojson -I /home/opam/.opam/default/lib/zarith -I /usr/lib/ocaml -no-alias-deps -I src/core -o src/core/github_hooks.cmi -c -intf src/core/github_hooks.mli)
- File "src/core/github_hooks.mli", line 22, characters 15-29:
- Error: Unbound module Github
[91m[ERROR] The compilation of github-hooks failed at "jbuilder build -p github-hooks -j 1".
[0mProcessing 18/24: [github-unix: jbuilder build]
+ jbuilder "build" "-p" "github-unix" "-j" "1" (CWD=/home/opam/.opam/default/.opam-switch/build/github-unix.dev)
- File "lib_test/jbuild", line 5, characters 11-22:
- Warning: This field is useless without a (public_names ...) field.
-     ocamldep jar/create_release.depends.ocamldep-output
-     ocamldep gist/gist.depends.ocamldep-output
-     ocamldep unix/github_unix.dependsi.ocamldep-output
-     ocamldep unix/github_unix.depends.ocamldep-output
-     ocamldep jar/create_release.dependsi.ocamldep-output
-       ocamlc unix/github.{cmi,cmti}
-       ocamlc unix/github_cookie_jar.{cmi,cmti}
-       ocamlc unix/github.{cmo,cmt}
-     ocamlopt unix/github.{cmx,o}
-       ocamlc unix/github_cookie_jar.{cmo,cmt}
-     ocamlopt unix/github_cookie_jar.{cmx,o}
-       ocamlc jar/jar_version.{cmi,cmo,cmt}
-       ocamlc jar/passwd.{cmi,cmo,cmt}
-       ocamlc gist/json.{cmi,cmo,cmt}
-       ocamlc jar/jar_cli.{cmi,cmti}
-       ocamlc unix/github_unix.cma
-     ocamlopt unix/github_unix.{a,cmxa}
-     ocamlopt jar/jar_version.{cmx,o}
-     ocamlopt jar/passwd.{cmx,o}
-       ocamlc jar/jar.{cmi,cmo,cmt}
-     ocamlopt gist/json.{cmx,o}
-       ocamlc gist/gist.{cmi,cmo,cmt}
-     ocamlopt jar/jar_cli.{cmx,o}
-       ocamlc jar/create_release.{cmi,cmo,cmt}
-       ocamlc jar/list_events.{cmi,cmo,cmt}
-       ocamlc jar/list_issues.{cmi,cmo,cmt}
-       ocamlc jar/list_releases.{cmi,cmo,cmt}
-       ocamlc jar/listen_events.{cmi,cmo,cmt}
-       ocamlc jar/search.{cmi,cmo,cmt}
-       ocamlc jar/sync_releases.{cmi,cmo,cmt}
-       ocamlc jar/upload_release.{cmi,cmo,cmt}
-     ocamlopt unix/github_unix.cmxs
-     ocamlopt jar/jar.{cmx,o}
-     ocamlopt gist/gist.{cmx,o}
-     ocamlopt jar/create_release.{cmx,o}
-     ocamlopt jar/list_events.{cmx,o}
-     ocamlopt jar/list_issues.{cmx,o}
-     ocamlopt jar/list_releases.{cmx,o}
-     ocamlopt jar/listen_events.{cmx,o}
-     ocamlopt jar/search.{cmx,o}
-     ocamlopt jar/sync_releases.{cmx,o}
-     ocamlopt jar/upload_release.{cmx,o}
-     ocamlopt jar/jar.exe
-     ocamlopt gist/gist.exe
-     ocamlopt jar/create_release.exe
-     ocamlopt jar/list_events.exe
-     ocamlopt jar/list_issues.exe
-     ocamlopt jar/list_releases.exe
-     ocamlopt jar/listen_events.exe
-     ocamlopt jar/search.exe
-     ocamlopt jar/sync_releases.exe
-     ocamlopt jar/upload_release.exe
-> compiled  github-unix.dev
-> installed github-unix.dev
[91m
#=== ERROR while compiling github-hooks.dev ===================================#
# command              jbuilder build -p github-hooks -j 1
# path                 /home/opam/.opam/default/.opam-switch/build/github-hooks.dev
# exit-code            1
# env-file             /home/opam/.opam/log/github-hooks-7-a63268.env
# output-file          /home/opam/.opam/log/github-hooks-7-a63268.out
### output ###
#     ocamldep src/core/github_hooks.depends.ocamldep-output
#     ocamldep src/core/github_hooks.dependsi.ocamldep-output
#       ocamlc src/core/github_hooks.{cmi,cmti} (exit 2)
# (cd _build/default && /usr/bin/ocamlc.opt -w -40 -g -bin-annot -I /home/opam/.opam/default/lib/atd -I /home/opam/.opam/default/lib/atdgen -I /home/opam/.opam/default/lib/base -I /home/opam/.opam/default/lib/base/caml -I /home/opam/.opam/default/lib/base/shadow_stdlib -I /home/opam/.opam/default/lib/base64 -I /home/opam/.opam/default/lib/biniou -I /home/opam/.opam/default/lib/bytes -I /home/opam/.opam/default/lib/cohttp -I /home/opam/.opam/default/lib/conduit -I /home/opam/.opam/default/lib/cstruct -I /home/opam/.opam/default/lib/easy-format -I /home/opam/.opam/default/lib/fieldslib -I /home/opam/.opam/default/lib/fmt -I /home/opam/.opam/default/lib/github -I /home/opam/.opam/default/lib/hex -I /home/opam/.opam/default/lib/ipaddr -I /home/opam/.opam/default/lib/logs -I /home/opam/.opam/default/lib/lwt -I /home/opam/.opam/default/lib/nocrypto -I /home/opam/.opam/default/lib/ocplib-endian -I /home/opam/.opam/default/lib/re -I /home/opam/.opam/default/lib/result -I /home/opam/.opam/default/lib/sexplib -I /home/opam/.opam/default/lib/sexplib/0 -I /home/opam/.opam/default/lib/stringext -I /home/opam/.opam/default/lib/uchar -I /home/opam/.opam/default/lib/uri -I /home/opam/.opam/default/lib/yojson -I /home/opam/.opam/default/lib/zarith -I /usr/lib/ocaml -no-alias-deps -I src/core -o src/core/github_hooks.cmi -c -intf src/core/github_hooks.mli)
# File "src/core/github_hooks.mli", line 22, characters 15-29:
# Error: Unbound module Github

[0m

=-=- Error report -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
+- The following actions were aborted
| - install datakit-bridge-github dev
| - install github-hooks-unix     dev
+- 
+- The following actions failed
| - build github-hooks dev
+- 
+- The following changes have been performed
| - remove  github-hooks       0.1.2
| - upgrade github             2.3.0 to dev
| - install datakit-client     dev
| - install datakit-client-9p  dev
| - install datakit-client-git dev
| - install datakit-github     dev
| - install git-http           1.11.0
| - install git-unix           1.11.0
| - install github-unix        dev
+- 
# Run eval `opam env` to update the current shell environment
[91m
The former state can be restored with:
    opam switch import "/home/opam/.opam/default/.opam-switch/backup/state-20170609112556.export"
Or you can retry to install your package selection with:
    opam install --restore
'opam install datakit-bridge-github -ytv' failed.
[0mThe command '/bin/sh -c opam install datakit-bridge-github -ytv' returned a non-zero code: 4
[2017-06-09 11:26.34] Failed: Command "docker" "build" "--pull" "-f" "Dockerfile.github" "." exited with status 4
