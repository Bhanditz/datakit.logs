=== Docker build Dockerfile.github
[2018-12-14 21:56.33] Starting...
Cloning into '/tmp/with_clone3a7e5a59'...
done.
HEAD is now at 012d1b2 datakit-ci: add upper-bound < tyxml.4.3.0
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon  5.59 MB
Step 1/22 : FROM ocaml/opam-dev:alpine-3.5_ocaml-4.05.0
alpine-3.5_ocaml-4.05.0: Pulling from ocaml/opam-dev
Digest: sha256:56eabc77608dac440c0907a0d3d3c2fbff0d65141b20dc5296783c21d42310d3
Status: Image is up to date for ocaml/opam-dev:alpine-3.5_ocaml-4.05.0
 ---> 1b9232af4c8c
Step 2/22 : RUN sudo apk add --no-cache tzdata aspcud gmp-dev perl libev-dev m4
 ---> Using cache
 ---> 04e887bc34dd
Step 3/22 : ENV OPAMERRLOGLEN 0 OPAMYES 1
 ---> Using cache
 ---> edf1e303d39f
Step 4/22 : RUN git -C /home/opam/opam-repository fetch origin &&     git -C /home/opam/opam-repository reset 818ebb219 --hard &&     opam update -u
 ---> Using cache
 ---> 1a429c79664c
Step 5/22 : RUN opam install alcotest lwt conf-libev inotify tls
 ---> Using cache
 ---> c6c018a42f9b
Step 6/22 : COPY check-libev.ml /tmp/check-libev.ml
 ---> Using cache
 ---> 88d1ec358eff
Step 7/22 : RUN opam config exec -- ocaml /tmp/check-libev.ml
 ---> Using cache
 ---> 386cb9ebd92e
Step 8/22 : COPY *.opam /home/opam/src/datakit/
 ---> 460846c1c04a
Removing intermediate container bc34a0a5683a
Step 9/22 : RUN opam pin add /home/opam/src/datakit/ -n
 ---> Running in 82deded5b2c6
This will pin the following packages: datakit, datakit-server, datakit-server-9p, datakit-github, datakit-client, datakit-client-git, datakit-client-9p, datakit-ci, datakit-bridge-local-git, datakit-bridge-github. Continue ? [Y/n] y
[datakit.0.12.0: rsync]
[datakit.0.12.0] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/ocaml-base-compiler.4.05.0/.opam-switch/sources/datakit/datakit.opam from 1.2 to 2.0~beta5
[0mdatakit is now pinned to file:///home/opam/src/datakit (version 0.12.0)
[datakit-server.0.12.0: rsync]
[datakit-server.0.12.0] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/ocaml-base-compiler.4.05.0/.opam-switch/sources/datakit-server/datakit-server.opam from 1.2 to 2.0~beta5
[0mdatakit-server is now pinned to file:///home/opam/src/datakit (version 0.12.0)
[datakit-server-9p.0.12.0: rsync]
[datakit-server-9p.0.12.0] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/ocaml-base-compiler.4.05.0/.opam-switch/sources/datakit-server-9p/datakit-server-9p.opam from 1.2 to 2.0~beta5
[0mdatakit-server-9p is now pinned to file:///home/opam/src/datakit (version 0.12.0)
[datakit-github.0.12.0: rsync]
[datakit-github.0.12.0] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/ocaml-base-compiler.4.05.0/.opam-switch/sources/datakit-github/datakit-github.opam from 1.2 to 2.0~beta5
[0mdatakit-github is now pinned to file:///home/opam/src/datakit (version 0.12.0)
[datakit-client.0.12.0: rsync]
[datakit-client.0.12.0] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/ocaml-base-compiler.4.05.0/.opam-switch/sources/datakit-client/datakit-client.opam from 1.2 to 2.0~beta5
[0mdatakit-client is now pinned to file:///home/opam/src/datakit (version 0.12.0)
[datakit-client-git.0.12.0: rsync]
[datakit-client-git.0.12.0] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/ocaml-base-compiler.4.05.0/.opam-switch/sources/datakit-client-git/datakit-client-git.opam from 1.2 to 2.0~beta5
[0mdatakit-client-git is now pinned to file:///home/opam/src/datakit (version 0.12.0)
[datakit-client-9p.0.12.0: rsync]
[datakit-client-9p.0.12.0] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/ocaml-base-compiler.4.05.0/.opam-switch/sources/datakit-client-9p/datakit-client-9p.opam from 1.2 to 2.0~beta5
[0mdatakit-client-9p is now pinned to file:///home/opam/src/datakit (version 0.12.0)
[datakit-ci.0.12.1: rsync]
[datakit-ci.0.12.1] synchronised from file:///home/opam/src/datakit
datakit-ci is now pinned to file:///home/opam/src/datakit (version 0.12.1)
[datakit-bridge-local-git.0.12.0: rsync]
[91m[NOTE] Converting format of /home/opam/.opam/ocaml-base-compiler.4.05.0/.opam-switch/sources/datakit-ci/datakit-ci.opam from 1.2 to 2.0~beta5
[0m[91m[NOTE] Converting format of /home/opam/.opam/ocaml-base-compiler.4.05.0/.opam-switch/sources/datakit-bridge-local-git/datakit-bridge-local-git.opam from 1.2 to 2.0~beta5
[0m[datakit-bridge-local-git.0.12.0] synchronised from file:///home/opam/src/datakit
datakit-bridge-local-git is now pinned to file:///home/opam/src/datakit (version 0.12.0)
[datakit-bridge-github.0.12.0: rsync]
[datakit-bridge-github.0.12.0] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/ocaml-base-compiler.4.05.0/.opam-switch/sources/datakit-bridge-github/datakit-bridge-github.opam from 1.2 to 2.0~beta5
[0mdatakit-bridge-github is now pinned to file:///home/opam/src/datakit (version 0.12.0)
 ---> eedbe90aa605
Removing intermediate container 82deded5b2c6
Step 10/22 : RUN opam install datakit-bridge-github --deps -t
 ---> Running in adab5b5220a3

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-bridge-github.0.12.0] no changes from file:///home/opam/src/datakit

The following actions will be performed:
  - downgrade lwt                4.0.1 to 3.3.0                               For the PPX, please install package lwt_ppx
                                                                              For Lwt_log and Lwt_daemon, please install package lwt_log
  - install   re                 1.7.3                                        
  - install   fieldslib          v0.10.0                                      
  - install   camomile           1.0.1                                        
  - install   rresult            0.5.0                                        
  - install   mirage-flow        1.3.0          [required by mirage-flow-lwt] 
  - install   react              1.2.1                                        
  - install   ipaddr             2.8.0                                        
  - install   mirage-device      1.1.0          [required by mirage-clock]    
  - install   mtime              1.1.0                                        
  - install   stringext          1.5.0                                        
  - install   menhir             20171222                                     
  - install   magic-mime         1.1.0                                        
  - install   win-error          0.2                                          
  - install   decompress         0.7                                          
  - install   fpath              0.7.2                                        
  - install   ocamlgraph         1.8.8                                        
  - install   asetmap            0.8.1                                        
  - install   ocplib-endian      1.0                                          
  - install   hex                1.2.0                                        
  - install   easy-format        1.3.1                                        
  - install   duration           0.1.1                                        
  - install   conf-which         1                                            
  - install   configurator       v0.10.0                                      
  - install   mstruct            1.4.0                                        
  - install   base64             2.2.0                                        
  - install   named-pipe         0.4.0                                        
  - install   logs               0.6.2          [required by mirage-flow-lwt] 
  - install   datakit-client     0.12.0*                                      
  - recompile inotify            2.3            [uses lwt]                    
  - recompile cstruct-lwt        3.2.1          [uses lwt]                    
  - install   ppx_fields_conv    v0.10.0                                      
  - install   mirage-channel     3.1.0                                        
  - install   zed                1.6                                          
  - install   lwt_react          1.1.1                                        
  - install   mirage-time        1.1.0                                        
  - install   mirage-kv          1.1.1          [required by mirage-kv-lwt]   
  - install   mirage-clock       1.3.0          [required by tls]             
  - install   uri                1.9.6                                        
  - install   prometheus         0.5                                          
  - install   atd                1.12.0                                       
  - install   biniou             1.2.0                                        
  - install   io-page            2.0.1                                        
  - install   win-eventlog       0.1                                          
  - install   datakit-server     0.12.0*                                      
  - install   bos                0.2.0                                        
  - install   asl                0.11                                         
  - install   irmin-watcher      0.3.0                                        
  - recompile nocrypto           0.5.4          [uses lwt]                    
  - install   lambda-term        1.12.0                                       
  - install   mirage-time-lwt    1.1.0                                        
  - install   mirage-kv-lwt      1.1.0          [required by tls]             
  - install   mirage-flow-lwt    1.4.0          [required by tls]             
  - install   irmin              1.3.2                                        
  - install   git                1.11.5                                       
  - install   conduit            1.1.0                                        
  - install   cohttp             1.1.0                                        
  - install   yojson             1.4.1                                        
  - install   io-page-unix       2.0.1                                        
  - recompile x509               0.6.1          [uses nocrypto]               
  - install   mirage-channel-lwt 3.1.0                                        
  - install   hvsock             1.0.1                                        
  - install   irmin-mem          1.3.0                                        
  - install   irmin-git          1.3.0                                        
  - install   conduit-lwt        1.1.0                                        
  - install   cohttp-lwt         1.0.2                                        
  - install   atdgen             1.12.0                                       
  - recompile tls                0.9.1          [uses lwt]                    
  - install   protocol-9p        0.12.0                                       
  - install   git-http           1.11.4                                       
  - install   github             3.1.0                                        
  - install   conduit-lwt-unix   1.1.0                                        
  - install   protocol-9p-unix   0.12.0                                       
  - install   datakit-server-9p  0.12.0*                                      
  - install   github-hooks       0.3.0                                        
  - install   cohttp-lwt-unix    1.0.2                                        
  - install   datakit-client-9p  0.12.0*                                      
  - install   prometheus-app     0.5                                          
  - install   github-unix        3.1.0                                        
  - install   git-unix           1.11.5                                       
  - install   datakit            0.12.0*                                      
  - install   github-hooks-unix  0.2.0                                        
  - install   datakit-client-git 0.12.0*                                      
  - install   datakit-github     0.12.0*                                      
===== 78 to install | 5 to recompile | 1 to downgrade =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[asetmap.0.8.1] downloaded from http://erratique.ch/software/asetmap/releases/asetmap-0.8.1.tbz
[asl.0.11] downloaded from https://github.com/mirage/ocaml-asl/releases/download/0.11/asl-0.11.tbz
[atd.1.12.0] downloaded from https://github.com/mjambon/atd/archive/v1.12.0.tar.gz
[atdgen.1.12.0] downloaded from https://github.com/mjambon/atd/archive/v1.12.0.tar.gz
[bos.0.2.0] downloaded from http://erratique.ch/software/bos/releases/bos-0.2.0.tbz
[base64.2.2.0] downloaded from https://github.com/mirage/ocaml-base64/releases/download/v2.2.0/base64-2.2.0.tbz
[biniou.1.2.0] downloaded from https://github.com/mjambon/biniou/archive/v1.2.0.tar.gz
[cohttp.1.1.0] downloaded from https://github.com/mirage/ocaml-cohttp/releases/download/v1.1.0/cohttp-1.1.0.tbz
[cohttp-lwt.1.0.2] downloaded from https://github.com/mirage/ocaml-cohttp/releases/download/v1.0.2/cohttp-1.0.2.tbz
[cohttp-lwt-unix.1.0.2] downloaded from https://github.com/mirage/ocaml-cohttp/releases/download/v1.0.2/cohttp-1.0.2.tbz
[conduit.1.1.0] downloaded from https://github.com/mirage/ocaml-conduit/releases/download/v1.1.0/conduit-1.1.0.tbz
[conduit-lwt-unix.1.1.0] found in cache
[configurator.v0.10.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.10/files/configurator-v0.10.0.tar.gz
[conduit-lwt.1.1.0] downloaded from https://github.com/mirage/ocaml-conduit/releases/download/v1.1.0/conduit-1.1.0.tbz
[cstruct-lwt.3.2.1] found in cache
[duration.0.1.1] downloaded from https://github.com/hannesm/duration/releases/download/0.1.1/duration-0.1.1.tbz
[decompress.0.7] downloaded from https://github.com/mirage/decompress/releases/download/v0.7/decompress-0.7.tbz
[camomile.1.0.1] downloaded from https://github.com/yoriyuki/Camomile/releases/download/1.0.1/camomile-1.0.1.tbz
[fieldslib.v0.10.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.10/files/fieldslib-v0.10.0.tar.gz
[fpath.0.7.2] downloaded from http://erratique.ch/software/fpath/releases/fpath-0.7.2.tbz
[easy-format.1.3.1] downloaded from https://github.com/mjambon/easy-format/archive/v1.3.1.tar.gz
[git.1.11.5] downloaded from https://github.com/mirage/ocaml-git/releases/download/1.11.5/git-1.11.5.tbz
[git-unix.1.11.5] found in cache
[git-http.1.11.4] downloaded from https://github.com/mirage/ocaml-git/releases/download/1.11.4/git-1.11.4.tbz
[github.3.1.0] downloaded from https://github.com/mirage/ocaml-github/releases/download/3.1.0/github-3.1.0.tbz
[github-hooks.0.3.0] downloaded from https://github.com/dsheets/ocaml-github-hooks/releases/download/0.3.0/github-hooks-0.3.0.tbz
[github-unix.3.1.0] found in cache
[github-hooks-unix.0.2.0] downloaded from https://github.com/dsheets/ocaml-github-hooks/releases/download/0.2.0/github-hooks-0.2.0.tbz
[inotify.2.3] found in cache
[hex.1.2.0] downloaded from https://github.com/mirage/ocaml-hex/releases/download/v1.2.0/hex-1.2.0.tbz
[hvsock.1.0.1] downloaded from https://github.com/mirage/ocaml-hvsock/releases/download/1.0.1/hvsock-1.0.1.tbz
[io-page.2.0.1] downloaded from https://github.com/mirage/io-page/releases/download/2.0.1/io-page-2.0.1.tbz
[io-page-unix.2.0.1] downloaded from https://github.com/mirage/io-page/releases/download/2.0.1/io-page-2.0.1.tbz
[ipaddr.2.8.0] downloaded from https://github.com/mirage/ocaml-ipaddr/releases/download/2.8.0/ipaddr-2.8.0.tbz
[irmin.1.3.2] downloaded from https://github.com/mirage/irmin/releases/download/1.3.2/irmin-1.3.2.tbz
[irmin-git.1.3.0] downloaded from https://github.com/mirage/irmin/releases/download/1.3.0/irmin-1.3.0.tbz
[irmin-mem.1.3.0] downloaded from https://github.com/mirage/irmin/releases/download/1.3.0/irmin-1.3.0.tbz
[logs.0.6.2] downloaded from http://erratique.ch/software/logs/releases/logs-0.6.2.tbz
[irmin-watcher.0.3.0] downloaded from https://github.com/mirage/irmin-watcher/releases/download/0.3.0/irmin-watcher-0.3.0.tbz
[lambda-term.1.12.0] downloaded from https://github.com/diml/lambda-term/releases/download/1.12.0/lambda-term-1.12.0.tbz
[lwt.3.3.0] downloaded from https://github.com/ocsigen/lwt/archive/3.3.0.tar.gz
[lwt_react.1.1.1] downloaded from https://github.com/ocsigen/lwt/archive/4.0.0.tar.gz
[menhir.20171222] downloaded from http://gallium.inria.fr/~fpottier/menhir/menhir-20171222.tar.gz
[magic-mime.1.1.0] downloaded from https://github.com/mirage/ocaml-magic-mime/releases/download/v1.1.0/magic-mime-1.1.0.tbz
[mirage-channel.3.1.0] downloaded from https://github.com/mirage/mirage-channel/releases/download/v3.1.0/mirage-channel-3.1.0.tbz
[mirage-channel-lwt.3.1.0] downloaded from https://github.com/mirage/mirage-channel/releases/download/v3.1.0/mirage-channel-3.1.0.tbz
[mirage-clock.1.3.0] downloaded from https://github.com/mirage/mirage-clock/releases/download/v1.3.0/mirage-clock-1.3.0.tbz
[mirage-device.1.1.0] downloaded from https://github.com/mirage/mirage-device/releases/download/v1.1.0/mirage-device-1.1.0.tbz
[mirage-flow.1.3.0] downloaded from https://github.com/mirage/mirage-flow/releases/download/v1.3.0/mirage-flow-1.3.0.tbz
[mirage-flow-lwt.1.4.0] downloaded from https://github.com/mirage/mirage-flow/releases/download/v1.4.0/mirage-flow-1.4.0.tbz
[mirage-kv.1.1.1] downloaded from https://github.com/mirage/mirage-kv/releases/download/v1.1.1/mirage-kv-1.1.1.tbz
[mirage-kv-lwt.1.1.0] downloaded from https://github.com/mirage/mirage-kv/releases/download/v1.1.0/mirage-kv-1.1.0.tbz
[mirage-time.1.1.0] downloaded from https://github.com/mirage/mirage-time/releases/download/v1.1.0/mirage-time-1.1.0.tbz
[mtime.1.1.0] downloaded from http://erratique.ch/software/mtime/releases/mtime-1.1.0.tbz
[mstruct.1.4.0] downloaded from https://github.com/mirage/ocaml-mstruct/releases/download/v1.4.0/mstruct-1.4.0.tbz
[mirage-time-lwt.1.1.0] downloaded from https://github.com/mirage/mirage-time/releases/download/v1.1.0/mirage-time-1.1.0.tbz
[nocrypto.0.5.4] found in cache
[ocamlgraph.1.8.8] downloaded from http://ocamlgraph.lri.fr/download/ocamlgraph-1.8.8.tar.gz
[named-pipe.0.4.0] downloaded from https://github.com/mirage/ocaml-named-pipe/releases/download/0.4.0/named-pipe-0.4.0.tbz
[ppx_fields_conv.v0.10.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.10/files/ppx_fields_conv-v0.10.0.tar.gz
[ocplib-endian.1.0] downloaded from https://github.com/OCamlPro/ocplib-endian/archive/1.0.tar.gz
[prometheus.0.5] downloaded from https://github.com/mirage/prometheus/releases/download/v0.5/prometheus-0.5.tbz
[prometheus-app.0.5] downloaded from https://github.com/mirage/prometheus/releases/download/v0.5/prometheus-0.5.tbz
[protocol-9p.0.12.0] downloaded from https://github.com/mirage/ocaml-9p/releases/download/v0.12.0/protocol-9p-0.12.0.tbz
[react.1.2.1] downloaded from http://erratique.ch/software/react/releases/react-1.2.1.tbz
[rresult.0.5.0] downloaded from http://erratique.ch/software/rresult/releases/rresult-0.5.0.tbz
[protocol-9p-unix.0.12.0] downloaded from https://github.com/mirage/ocaml-9p/releases/download/v0.12.0/protocol-9p-0.12.0.tbz
[tls.0.9.1] found in cache
[re.1.7.3] downloaded from https://github.com/ocaml/ocaml-re/releases/download/1.7.3/re-1.7.3.tbz
[stringext.1.5.0] downloaded from https://github.com/rgrinberg/stringext/archive/1.5.0.zip
[win-error.0.2] downloaded from https://github.com/djs55/ocaml-win-error/archive/v0.2.tar.gz
[x509.0.6.1] found in cache
[uri.1.9.6] downloaded from https://github.com/mirage/ocaml-uri/releases/download/v1.9.6/uri-1.9.6.tbz
[win-eventlog.0.1] downloaded from https://github.com/djs55/ocaml-win-eventlog/archive/v0.1.tar.gz
[yojson.1.4.1] downloaded from https://github.com/mjambon/yojson/archive/v1.4.1.tar.gz
[zed.1.6] downloaded from https://github.com/diml/zed/releases/download/1.6/zed-1.6.tbz

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> removed   inotify.2.3
-> removed   tls.0.9.1
-> removed   x509.0.6.1
-> removed   nocrypto.0.5.4
-> removed   cstruct-lwt.3.2.1
-> removed   lwt.4.0.1
-> installed asetmap.0.8.1
-> installed base64.2.2.0
-> installed camomile.1.0.1
-> installed conf-which.1
-> installed configurator.v0.10.0
-> installed decompress.0.7
-> installed duration.0.1.1
-> installed easy-format.1.3.1
-> installed biniou.1.2.0
-> installed fieldslib.v0.10.0
-> installed fpath.0.7.2
-> installed hex.1.2.0
-> installed io-page.2.0.1
-> installed io-page-unix.2.0.1
-> installed ipaddr.2.8.0
-> installed lwt.3.3.0
-> installed cstruct-lwt.3.2.1
-> installed datakit-client.0.12.0
-> installed inotify.2.3
-> installed logs.0.6.2
-> installed asl.0.11
-> installed irmin-watcher.0.3.0
-> installed magic-mime.1.1.0
-> installed menhir.20171222
-> installed atd.1.12.0
-> installed mirage-device.1.1.0
-> installed mirage-clock.1.3.0
-> installed mirage-flow.1.3.0
-> installed mirage-channel.3.1.0
-> installed mirage-flow-lwt.1.4.0
-> installed mirage-channel-lwt.3.1.0
-> installed mirage-kv.1.1.1
-> installed mirage-kv-lwt.1.1.0
-> installed mirage-time.1.1.0
-> installed mirage-time-lwt.1.1.0
-> installed mstruct.1.4.0
-> installed mtime.1.1.0
-> installed named-pipe.0.4.0
-> installed nocrypto.0.5.4
-> installed ocamlgraph.1.8.8
-> installed ocplib-endian.1.0
-> installed ppx_fields_conv.v0.10.0
-> installed re.1.7.3
-> installed prometheus.0.5
-> installed react.1.2.1
-> installed lwt_react.1.1.1
-> installed rresult.0.5.0
-> installed bos.0.2.0
-> installed datakit-server.0.12.0
-> installed hvsock.1.0.1
-> installed stringext.1.5.0
-> installed uri.1.9.6
-> installed cohttp.1.1.0
-> installed cohttp-lwt.1.0.2
-> installed conduit.1.1.0
-> installed conduit-lwt.1.1.0
-> installed git.1.11.5
-> installed git-http.1.11.4
-> installed irmin.1.3.2
-> installed irmin-git.1.3.0
-> installed irmin-mem.1.3.0
-> installed win-error.0.2
-> installed protocol-9p.0.12.0
-> installed datakit-server-9p.0.12.0
-> installed protocol-9p-unix.0.12.0
-> installed datakit-client-9p.0.12.0
-> installed win-eventlog.0.1
-> installed x509.0.6.1
-> installed tls.0.9.1
-> installed conduit-lwt-unix.1.1.0
-> installed cohttp-lwt-unix.1.0.2
-> installed git-unix.1.11.5
-> installed datakit-client-git.0.12.0
-> installed datakit-github.0.12.0
-> installed prometheus-app.0.5
-> installed datakit.0.12.0
-> installed yojson.1.4.1
-> installed atdgen.1.12.0
-> installed github.3.1.0
-> installed github-hooks.0.3.0
-> installed zed.1.6
-> installed lambda-term.1.12.0
-> installed github-unix.3.1.0
-> installed github-hooks-unix.0.2.0
Done.
# Run eval $(opam env) to update the current shell environment
 ---> 19419eed3888
Removing intermediate container adab5b5220a3
Step 11/22 : COPY . /home/opam/src/datakit
 ---> 30be05238b05
Removing intermediate container 80dce6d1c874
Step 12/22 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in 6a022718e4f7
 ---> cda1000a4888
Removing intermediate container 6a022718e4f7
Step 13/22 : RUN opam update --dev && opam upgrade
 ---> Running in a275ebbf3c2c

=-=- Synchronising development packages -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-bridge-github.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-bridge-local-git.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-ci.0.12.1] synchronised from file:///home/opam/src/datakit
[datakit-client.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-client-9p.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-client-git.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-github.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-server.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-server-9p.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit] Conflicting update of the metadata from file:///home/opam/src/datakit.
Override files in /home/opam/.opam/ocaml-base-compiler.4.05.0/.opam-switch/overlay/datakit (there will be a backup) ? [Y/n] y
User metadata backed up in /home/opam/.opam/backup/datakit.bak
[datakit-bridge-github] Conflicting update of the metadata from file:///home/opam/src/datakit.
Override files in /home/opam/.opam/ocaml-base-compiler.4.05.0/.opam-switch/overlay/datakit-bridge-github (there will be a backup) ? [Y/n] y
User metadata backed up in /home/opam/.opam/backup/datakit-bridge-github.bak
[datakit-bridge-local-git] Installing new package description from upstream file:///home/opam/src/datakit
[datakit-ci] Conflicting update of the metadata from file:///home/opam/src/datakit.
Override files in /home/opam/.opam/ocaml-base-compiler.4.05.0/.opam-switch/overlay/datakit-ci (there will be a backup) ? [Y/n] y
User metadata backed up in /home/opam/.opam/backup/datakit-ci.bak
[datakit-client] Installing new package description from upstream file:///home/opam/src/datakit
[datakit-client-9p] Installing new package description from upstream file:///home/opam/src/datakit
[datakit-client-git] Installing new package description from upstream file:///home/opam/src/datakit
[datakit-github] Installing new package description from upstream file:///home/opam/src/datakit
[datakit-server] Installing new package description from upstream file:///home/opam/src/datakit
[datakit-server-9p] Installing new package description from upstream file:///home/opam/src/datakit
Now run 'opam upgrade' to apply any package updates.
The following actions will be performed:
  - recompile datakit-server     0.12.0* [upstream changes]
  - recompile datakit-client     0.12.0* [upstream changes]
  - recompile datakit-server-9p  0.12.0* [upstream changes]
  - recompile datakit-client-git 0.12.0* [upstream changes]
  - recompile datakit-client-9p  0.12.0* [upstream changes]
  - recompile datakit            0.12.0* [upstream changes]
  - recompile datakit-github     0.12.0* [upstream changes]
===== 7 to recompile =====

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> removed   datakit-github.0.12.0
-> removed   datakit-client-9p.0.12.0
-> removed   datakit-client-git.0.12.0
-> removed   datakit-client.0.12.0
-> removed   datakit.0.12.0
-> removed   datakit-server-9p.0.12.0
-> removed   datakit-server.0.12.0
-> installed datakit-client.0.12.0
-> installed datakit-client-9p.0.12.0
-> installed datakit-client-git.0.12.0
-> installed datakit-github.0.12.0
-> installed datakit-server.0.12.0
-> installed datakit-server-9p.0.12.0
-> installed datakit.0.12.0
Done.
# Run eval $(opam env) to update the current shell environment
 ---> f07562afc49c
Removing intermediate container a275ebbf3c2c
Step 14/22 : RUN opam install datakit-bridge-github -ytv
 ---> Running in c19a992f5f58

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/1: [datakit-bridge-github.0.12.0: rsync]
[datakit-bridge-github.0.12.0] no changes from file:///home/opam/src/datakit

The following actions will be performed:
  - install datakit-bridge-github 0.12.0* 

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/2: [datakit-bridge-github: jbuilder build]
+ /home/opam/.opam/ocaml-base-compiler.4.05.0/bin/jbuilder "build" "-p" "datakit-bridge-github" "-j" "1" (CWD=/home/opam/.opam/ocaml-base-compiler.4.05.0/.opam-switch/build/datakit-bridge-github.0.12.0)
-     ocamlopt bridge/github/.datakit_bridge_github.objs/datakit_github_api.{cmx,o} (exit 2)
- (cd _build/default && /home/opam/.opam/ocaml-base-compiler.4.05.0/bin/ocamlopt.opt -w -40 -g -I bridge/github/.datakit_bridge_github.objs -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/asetmap -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/asn1-combinators -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/astring -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/atd -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/atdgen -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/base -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/base/caml -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/base/shadow_stdlib -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/base64 -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/biniou -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/bytes -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/cohttp -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/cohttp-lwt -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/cohttp-lwt-unix -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/conduit -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/conduit-lwt -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/conduit-lwt-unix -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/cstruct -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/cstruct-lwt -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/datakit-client -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/datakit-github -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/easy-format -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/fieldslib -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/fmt -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/github -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/github-hooks -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/github-hooks-unix -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/github-unix -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/hex -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/ipaddr -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/ipaddr/unix -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/logs -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/lwt -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/magic-mime -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/nocrypto -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/ocaml/threads -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/ptime -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/ptime/os -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/re -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/re/posix -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/result -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/rresult -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/sexplib -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/sexplib/0 -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/stringext -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/tls -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/uchar -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/uri -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/uri/services -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/x509 -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/yojson -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/zarith -no-alias-deps -o bridge/github/.datakit_bridge_github.objs/datakit_github_api.cmx -c -impl bridge/github/datakit_github_api.ml)
- File "bridge/github/datakit_github_api.ml", line 163, characters 28-47:
- Error: This expression has type Github_t.status_state
-        but an expression was expected of type
-          [< `Error | `Failure | `Pending | `Success | `Unknown of string ]
-        Types for tag `Unknown are incompatible


=-=- Error report -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
+- The following actions failed
| - build datakit-bridge-github 0.12.0
+- 
- No changes have been performed
[91m[ERROR] The compilation of datakit-bridge-github failed at "/home/opam/.opam/ocaml-base-compiler.4.05.0/bin/jbuilder build -p datakit-bridge-github -j 1".

#=== ERROR while compiling datakit-bridge-github.0.12.0 =======================#
# context              2.0.0~beta5 | linux/x86_64 | ocaml-base-compiler.4.05.0 | pinned(file:///home/opam/src/datakit)
# path                 ~/.opam/ocaml-base-compiler.4.05.0/.opam-switch/build/datakit-bridge-github.0.12.0
# command              ~/.opam/ocaml-base-compiler.4.05.0/bin/jbuilder build -p datakit-bridge-github -j 1
# exit-code            1
# env-file             ~/.opam/log/datakit-bridge-github-7-5f1023.env
# output-file          ~/.opam/log/datakit-bridge-github-7-5f1023.out
### output ###
#     ocamlopt bridge/github/.datakit_bridge_github.objs/datakit_github_api.{cmx,o} (exit 2)
# (cd _build/default && /home/opam/.opam/ocaml-base-compiler.4.05.0/bin/ocamlopt.opt -w -40 -g -I bridge/github/.datakit_bridge_github.objs -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/asetmap -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/asn1-combinators -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/astring -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/atd -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/atdgen -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/base -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/base/caml -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/base/shadow_stdlib -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/base64 -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/biniou -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/bytes -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/cohttp -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/cohttp-lwt -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/cohttp-lwt-unix -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/conduit -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/conduit-lwt -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/conduit-lwt-unix -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/cstruct -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/cstruct-lwt -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/datakit-client -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/datakit-github -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/easy-format -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/fieldslib -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/fmt -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/github -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/github-hooks -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/github-hooks-unix -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/github-unix -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/hex -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/ipaddr -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/ipaddr/unix -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/logs -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/lwt -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/magic-mime -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/nocrypto -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/ocaml/threads -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/ptime -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/ptime/os -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/re -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/re/posix -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/result -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/rresult -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/sexplib -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/sexplib/0 -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/stringext -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/tls -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/uchar -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/uri -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/uri/services -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/x509 -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/yojson -I /home/opam/.opam/ocaml-base-compiler.4.05.0/lib/zarith -no-alias-deps -o bridge/github/.datakit_bridge_github.objs/datakit_github_api.cmx -c -impl bridge/github/datakit_github_api.ml)
# File "bridge/github/datakit_github_api.ml", line 163, characters 28-47:
# Error: This expression has type Github_t.status_state
#        but an expression was expected of type
#          [< `Error | `Failure | `Pending | `Success | `Unknown of string ]
#        Types for tag `Unknown are incompatible

[0m# Run eval $(opam env) to update the current shell environment
[91m'opam install datakit-bridge-github -ytv' failed.
[0mThe command '/bin/sh -c opam install datakit-bridge-github -ytv' returned a non-zero code: 31
[2018-12-14 22:01.52] Failed: Command "docker" "build" "--pull" "-f" "Dockerfile.github" "." exited with status 31
