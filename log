=== Run docker-build-ci on commit c37882af0803871bed12477ba45f9af6d90b74c7
[2017-01-04 14:47.28] Starting...
Cloning into '/tmp/with_clone405eb7'...
done.
HEAD is now at c37882a Merge pull request #428 from avsm/term-wait
[2017-01-04 14:47.29] Running "docker" "build" "--pull" "-f" "Dockerfile.ci" "."...
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.283 MB
Step 1 : FROM ocaml/opam:alpine-3.4_ocaml-4.03.0
alpine-3.4_ocaml-4.03.0: Pulling from ocaml/opam
Digest: sha256:b926d9564043d4d36e512fb6e3f1e48d98fcb1affc7457d1718d2347b405e15d
Status: Image is up to date for ocaml/opam:alpine-3.4_ocaml-4.03.0
 ---> 97ecaea54c14
Step 2 : RUN sudo apk add tzdata
 ---> Using cache
 ---> cdb28aa6365d
Step 3 : RUN cd /home/opam/opam-repository &&     git pull && opam update -y
 ---> Using cache
 ---> 065e82d40598
Step 4 : RUN opam depext -ui cohttp yojson ssl tyxml fmt rresult logs lwt conf-libev react camlp4     tls pbkdf ppx_sexp_conv webmachine session asetmap
 ---> Using cache
 ---> 859b778f2414
Step 5 : RUN opam pin add datakit-client https://github.com/docker/datakit.git
 ---> Using cache
 ---> 22972be72b11
Step 6 : RUN opam pin add session "https://github.com/talex5/ocaml-session.git#redis"
 ---> Using cache
 ---> 02e0a2005921
Step 7 : RUN opam pin add github --dev
 ---> Using cache
 ---> 449dfc17ec34
Step 8 : RUN opam pin add datakit-github https://github.com/docker/datakit.git
 ---> Using cache
 ---> e1544bc8f0ed
Step 9 : ADD . /home/opam/datakit
 ---> 300cbdd9ad5d
Removing intermediate container ed57aed16a1a
Step 10 : RUN opam pin add -k git datakit-ci /home/opam/datakit
 ---> Running in 19807ee1a744
Package datakit-ci does not exist, create as a NEW package ? [Y/n] y
[91m[NOTE] Pinning in mixed mode: OPAM will use tracked files in the current
       working tree from /home/opam/datakit. If this is not what you want, pin
       to a given branch (e.g. /home/opam/datakit#HEAD)
[0mdatakit-ci is now git-pinned to /home/opam/datakit

[datakit-ci: git]
[datakit-ci: git]
[datakit-ci] /home/opam/datakit updated
[datakit-ci] Installing new package description from /home/opam/datakit

datakit-ci needs to be installed.
The following actions will be performed:
  - install   uutf                0.9.4                         [required by tyxml]
  - install   uuidm               0.9.6                         [required by redis]
  - install   crunch              1.4.1                         [required by datakit-ci]
  - install   multipart-form-data 0.1.0                         [required by datakit-ci]
  - upgrade   tyxml               3.1.1 to 4.0.1                [required by datakit-ci]
       For tyxml's ppx, please install tyxml-ppx.
  - install   redis               0.3.3                         [required by datakit-ci]
  - recompile session             0.2.0*                        [uses redis]
  - install   datakit-ci          *             
===== 6 to install | 1 to recompile | 1 to upgrade =====
Do you want to continue ? [Y/n] y

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[crunch: http] Command started
[datakit-ci: git] Command started
[multipart-form-data: http] Command started
[datakit-ci: git] Command started
[datakit-ci] /home/opam/datakit already up-to-date
[redis: http] Command started
[multipart-form-data: http] Command started
[multipart-form-data.0.1.0] https://github.com/cryptosense/multipart-form-data/releases/download/v0.1.0/multipart-form-data-0.1.0.tbz downloaded
[session: git] Command started
[session: git] Command started
[crunch: http] Command started
[crunch.1.4.1] https://github.com/mirage/ocaml-crunch/archive/v1.4.1.tar.gz downloaded
[tyxml: http] Command started
[redis: http] Command started
[redis.0.3.3] https://github.com/0xffea/ocaml-redis/archive/0.3.3.tar.gz downloaded
[uuidm: http] Command started
[uuidm: http] Command started
[uuidm.0.9.6] http://erratique.ch/software/uuidm/releases/uuidm-0.9.6.tbz downloaded
[uutf: http] Command started
[session: git] Command started
[session: git] Command started
[uutf: http] Command started
[uutf.0.9.4] http://erratique.ch/software/uutf/releases/uutf-0.9.4.tbz downloaded
[session] https://github.com/talex5/ocaml-session.git#redis already up-to-date
[tyxml: http] Command started
[tyxml.4.0.1] https://github.com/ocsigen/tyxml/archive/4.0.1.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[session: ocamlfind remove] Command started
[tyxml: ocamlfind remove] Command started
[crunch: ocaml setup.ml] Command started
[multipart-form-data: ocaml build] Command started
-> removed   session.0.2.0
[uuidm: ocaml build] Command started
-> removed   tyxml.3.1.1
[uutf: ocaml] Command started
[uutf: ocaml] Command started
-> installed multipart-form-data.0.1.0
-> installed uuidm.0.9.6
[redis: ./configure] Command started
-> installed uutf.0.9.4
[tyxml: ocaml setup.ml] Command started
[crunch: ocaml setup.ml] Command started
[redis: make] Command started
[tyxml: ocaml setup.ml] Command started
[crunch: ocaml setup.ml] Command started
-> installed crunch.1.4.1
[redis: make install] Command started
-> installed redis.0.3.3
[session: ocaml setup.ml] Command started
[session: ocaml setup.ml] Command started
[tyxml: ocaml setup.ml] Command started
[session: ocaml setup.ml] Command started
-> installed tyxml.4.0.1
-> installed session.0.2.0
[datakit-ci: ocaml build] Command started
-> installed datakit-ci.~unknown
Done.
 ---> 682cfbf22adc
Removing intermediate container 19807ee1a744
Step 11 : VOLUME /secrets
 ---> Running in 12cd30440cb3
 ---> 923e6487aa08
Removing intermediate container 12cd30440cb3
Successfully built 923e6487aa08
[2017-01-04 14:48.41] Success
