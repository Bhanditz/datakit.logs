=== Docker build Dockerfile.client
[2017-11-20 11:01.47] Starting...
Cloning into '/tmp/with_clone257eb17f'...
done.
warning: remote HEAD refers to nonexistent ref, unable to checkout.

HEAD is now at e579862 Simplify Dockerfiles using new features from opam2
[2017-11-20 11:02.17] Rewrite Dockerfile's first line to:
FROM ocaml/opam:alpine_ocaml-4.03.0
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 6.128 MBSending build context to Docker daemon 6.685 MBSending build context to Docker daemon 7.242 MBSending build context to Docker daemon 7.799 MBSending build context to Docker daemon 8.356 MBSending build context to Docker daemon 8.913 MBSending build context to Docker daemon 9.059 MB
Step 1/16 : FROM ocaml/opam:alpine_ocaml-4.03.0
 ---> 2a6e40273e97
Step 2/16 : RUN sudo apk add --no-cache tzdata aspcud gmp-dev perl libev-dev m4
 ---> Using cache
 ---> 1f1e2ac9cc89
Step 3/16 : RUN git -C /home/opam/opam-repository fetch origin &&     git -C /home/opam/opam-repository reset beba7fea --hard &&     opam update -u
 ---> Running in 8326943f48dc
[91mFrom git://github.com/ocaml/opam-repository
   95d690dc7..c40506603  master     -> origin/master
 * [new branch]          2.0.0      -> origin/2.0.0
[0m[91m * [new branch]          revert-10486-camomile.0.8.6 -> origin/revert-10486-camomile.0.8.6
[0m[91m * [new tag]             1.2.0      -> 1.2.0
[0m[91mChecking out files:  33% (8609/25388)   [0m[91mChecking out files:  34% (8632/25388)   [0m[91mChecking out files:  35% (8886/25388)   [0m[91mChecking out files:  36% (9140/25388)   [0m[91mChecking out files:  37% (9394/25388)   [0m[91mChecking out files:  38% (9648/25388)   [0m[91mChecking out files:  39% (9902/25388)   [0m[91mChecking out files:  40% (10156/25388)   [0m[91mChecking out files:  41% (10410/25388)   [0m[91mChecking out files:  42% (10663/25388)   [0m[91mChecking out files:  43% (10917/25388)   [0m[91mChecking out files:  44% (11171/25388)   [0m[91mChecking out files:  45% (11425/25388)   [0m[91mChecking out files:  46% (11679/25388)   [0m[91mChecking out files:  47% (11933/25388)   [0m[91mChecking out files:  48% (12187/25388)   [0m[91mChecking out files:  49% (12441/25388)   [0m[91mChecking out files:  50% (12694/25388)   [0m[91mChecking out files:  51% (12948/25388)   [0m[91mChecking out files:  52% (13202/25388)   [0m[91mChecking out files:  53% (13456/25388)   [0m[91mChecking out files:  54% (13710/25388)   [0m[91mChecking out files:  55% (13964/25388)   [0m[91mChecking out files:  56% (14218/25388)   [0m[91mChecking out files:  57% (14472/25388)   [0m[91mChecking out files:  58% (14726/25388)   [0m[91mChecking out files:  59% (14979/25388)   [0m[91mChecking out files:  60% (15233/25388)   [0m[91mChecking out files:  61% (15487/25388)   [0m[91mChecking out files:  62% (15741/25388)   [0m[91mChecking out files:  63% (15995/25388)   [0m[91mChecking out files:  64% (16249/25388)   [0m[91mChecking out files:  65% (16503/25388)   [0m[91mChecking out files:  66% (16757/25388)   [0m[91mChecking out files:  67% (17010/25388)   [0m[91mChecking out files:  68% (17264/25388)   [0m[91mChecking out files:  69% (17518/25388)   [0m[91mChecking out files:  70% (17772/25388)   [0m[91mChecking out files:  71% (18026/25388)   [0m[91mChecking out files:  72% (18280/25388)   [0m[91mChecking out files:  72% (18386/25388)   [0m[91mChecking out files:  73% (18534/25388)   [0m[91mChecking out files:  74% (18788/25388)   [0m[91mChecking out files:  75% (19041/25388)   [0m[91mChecking out files:  76% (19295/25388)   [0m[91mChecking out files:  77% (19549/25388)   [0m[91mChecking out files:  78% (19803/25388)   [0m[91mChecking out files:  79% (20057/25388)   [0m[91mChecking out files:  80% (20311/25388)   [0m[91mChecking out files:  81% (20565/25388)   [0m[91mChecking out files:  82% (20819/25388)   [0m[91mChecking out files:  83% (21073/25388)   [0m[91mChecking out files:  84% (21326/25388)   [0m[91mChecking out files:  85% (21580/25388)   [0m[91mChecking out files:  86% (21834/25388)   [0m[91mChecking out files:  87% (22088/25388)   [0m[91mChecking out files:  88% (22342/25388)   [0m[91mChecking out files:  89% (22596/25388)   [0m[91mChecking out files:  90% (22850/25388)   [0m[91mChecking out files:  91% (23104/25388)   [0m[91mChecking out files:  92% (23357/25388)   [0m[91mChecking out files:  93% (23611/25388)   [0m[91mChecking out files:  94% (23865/25388)   [0m[91mChecking out files:  95% (24119/25388)   [0m[91mChecking out files:  96% (24373/25388)   [0m[91mChecking out files:  97% (24627/25388)   [0m[91mChecking out files:  98% (24881/25388)   [0m[91mChecking out files:  99% (25135/25388)   [0m[91mChecking out files: 100% (25388/25388)   Checking out files: 100% (25388/25388), done.
[0mHEAD is now at beba7fea8 Merge pull request #10764 from yomimono/safe-string-ocurl

=-=- Updating package repositories =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[default: local] Command started
[default: local] Command started
[default: local] Command started
[default] /home/opam/opam-repository synchronized

The following actions will be performed:
  - upgrade ocamlbuild 0.11.0 to 0.12.0
  - upgrade depext     1.0.4 to 1.0.5  
===== 2 to upgrade =====
Do you want to continue ? [Y/n] y

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[depext: http] Command started
[ocamlbuild: http] Command started
[ocamlbuild: http] Command started
[ocamlbuild.0.12.0] https://github.com/ocaml/ocamlbuild/archive/0.12.0.tar.gz downloaded
[depext: http] Command started
[depext.1.0.5] https://github.com/ocaml/opam-depext/releases/download/v1.0.5/opam-depext-full-1.0.5.tbz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> removed   depext.1.0.4
-> removed   ocamlbuild.0.11.0
[depext: make] Command started
[ocamlbuild: make configure.make] Command started
[ocamlbuild: make check-if-preinstalled] Command started
-> installed depext.1.0.5
-> installed ocamlbuild.0.12.0
Done.
 ---> 1e74e48d1c0b
Removing intermediate container 8326943f48dc
Step 4/16 : ENV OPAMERRLOGLEN 0 OPAMYES 1
 ---> Running in 64de61317268
 ---> d6491f36b85b
Removing intermediate container 64de61317268
Step 5/16 : RUN opam install alcotest lwt conf-libev inotify
 ---> Running in 5558c08f4ac7
The following actions will be performed:
  - install conf-m4                 1                           [required by ocamlfind]
  - install result                  1.2                         [required by alcotest, lwt]
  - install uchar                   0.0.2                       [required by fmt]
  - install conf-libev              4-11      
  - install ocamlfind               1.7.3                       [required by inotify, lwt]
  - install topkg                   0.9.1                       [required by cmdliner, astring, fmt]
  - install jbuilder                1.0+beta16                  [required by alcotest, lwt]
  - install base-bytes              base                        [required by inotify]
  - install cmdliner                1.0.2                       [required by alcotest]
  - install astring                 0.8.3                       [required by alcotest]
  - install ocaml-migrate-parsetree 1.0.7                       [required by lwt]
  - install cppo                    1.6.0                       [required by lwt]
  - install fmt                     0.8.4                       [required by alcotest]
  - install ppx_tools_versioned     5.0.1                       [required by lwt]
  - install alcotest                0.8.1     
  - install lwt                     3.1.0     
  - install inotify                 2.3       
===== 17 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[alcotest: http] Command started
[astring: http] Command started
[cmdliner: http] Command started
[astring: http] Command started
[astring.0.8.3] http://erratique.ch/software/astring/releases/astring-0.8.3.tbz downloaded
[cppo: http] Command started
[cmdliner: http] Command started
[cmdliner.1.0.2] http://erratique.ch/software/cmdliner/releases/cmdliner-1.0.2.tbz downloaded
[fmt: http] Command started
[fmt: http] Command started
[fmt.0.8.4] http://erratique.ch/software/fmt/releases/fmt-0.8.4.tbz downloaded
[inotify: http] Command started
[cppo: http] Command started
[cppo.1.6.0] https://github.com/mjambon/cppo/archive/v1.6.0.tar.gz downloaded
[jbuilder: http] Command started
[alcotest: http] Command started
[alcotest.0.8.1] https://github.com/mirage/alcotest/releases/download/0.8.1/alcotest-0.8.1.tbz downloaded
[lwt: http] Command started
[inotify: http] Command started
[inotify.2.3] https://github.com/whitequark/ocaml-inotify/archive/v2.3.tar.gz downloaded
[ocaml-migrate-parsetree: http] Command started
[lwt: http] Command started
[lwt.3.1.0] https://github.com/ocsigen/lwt/archive/3.1.0.tar.gz downloaded
[ocamlfind: http] Command started
[ocaml-migrate-parsetree: http] Command started
[ocaml-migrate-parsetree.1.0.7] https://github.com/ocaml-ppx/ocaml-migrate-parsetree/archive/v1.0.7.tar.gz downloaded
[ppx_tools_versioned: http] Command started
[ocamlfind: http] Command started
[ocamlfind.1.7.3] http://download.camlcity.org/download/findlib-1.7.3.tar.gz downloaded
[result: http] Command started
[jbuilder: http] Command started
[jbuilder.1.0+beta16] https://github.com/janestreet/jbuilder/releases/download/1.0+beta16/jbuilder-1.0.beta16.tbz downloaded
[topkg: http] Command started
[topkg: http] Command started
[topkg.0.9.1] http://erratique.ch/software/topkg/releases/topkg-0.9.1.tbz downloaded
[uchar: http] Command started
[result: http] Command started
[result.1.2] https://github.com/janestreet/result/archive/1.2.tar.gz downloaded
[ppx_tools_versioned: http] Command started
[ppx_tools_versioned.5.0.1] https://github.com/let-def/ppx_tools_versioned/archive/5.0.1.tar.gz downloaded
[uchar: http] Command started
[uchar.0.0.2] https://github.com/ocaml/uchar/releases/download/v0.0.2/uchar-0.0.2.tbz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[conf-libev: sh] Command started
[conf-m4: sh echo | m4] Command started
[result: make] Command started
[uchar: ocaml] Command started
-> installed conf-m4.1
[ocamlfind: ./configure] Command started
[uchar: ocaml] Command started
-> installed conf-libev.4-11
-> installed result.1.2
-> installed uchar.0.0.2
[ocamlfind: make all] Command started
[ocamlfind: make opt] Command started
[ocamlfind: make install] Command started
-> installed ocamlfind.1.7.3
-> installed base-bytes.base
[jbuilder: ocaml bootstrap.ml] Command started
[topkg: ocaml build] Command started
[jbuilder: ./boot.exe 4] Command started
-> installed topkg.0.9.1
[astring: ocaml build] Command started
[cmdliner: ocaml build] Command started
-> installed astring.0.8.3
-> installed cmdliner.1.0.2
[fmt: ocaml build] Command started
-> installed fmt.0.8.4
-> installed jbuilder.1.0+beta16
[alcotest: jbuilder build] Command started
[cppo: jbuilder build] Command started
[ocaml-migrate-parsetree: jbuilder build] Command started
-> installed alcotest.0.8.1
-> installed cppo.1.6.0
-> installed ocaml-migrate-parsetree.1.0.7
[ppx_tools_versioned: make all] Command started
[ppx_tools_versioned: make install] Command started
-> installed ppx_tools_versioned.5.0.1
[lwt: ocaml true] Command started
[lwt: jbuilder build] Command started
[lwt: ocaml] Command started
-> installed lwt.3.1.0
[inotify: ocaml setup.ml] Command started
[inotify: ocaml setup.ml] Command started
[inotify: ocaml setup.ml] Command started
-> installed inotify.2.3
Done.

=-=- lwt.3.1.0 installed successfully -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
=> Lwt 4.0.0 will make some breaking changes to packaging in late 2017. See
     https://github.com/ocsigen/lwt/issues/453
 ---> 8a3ec51167eb
Removing intermediate container 5558c08f4ac7
Step 6/16 : COPY check-libev.ml /tmp/check-libev.ml
 ---> aa77a5bce54e
Removing intermediate container b03bd8412989
Step 7/16 : RUN opam config exec -- ocaml /tmp/check-libev.ml
 ---> Running in 5a4d67ab1513
 ---> ede9afaa0bd4
Removing intermediate container 5a4d67ab1513
Step 8/16 : COPY *.opam /home/opam/src/datakit/
 ---> 68fa2e9a608f
Removing intermediate container 4254be275084
Step 9/16 : RUN opam pin add /home/opam/src/datakit/ -n
 ---> Running in c7cebd279950
[91mopam: No valid package description found at path
      /home/opam/src/datakit/.
      Please supply at least a package name (e.g. `opam pin add NAME PATH')
[0mThe command '/bin/sh -c opam pin add /home/opam/src/datakit/ -n' returned a non-zero code: 1
[2017-11-20 11:04.04] Failed: Command "docker" "build" "-f" "Dockerfile.client" "." exited with status 1
