=== Docker build Dockerfile.github
[2019-01-17 20:13.30] Starting...
Cloning into '/tmp/with_clone2afbca9e'...
done.
HEAD is now at afc0f98 fix Dockerfile from lines to be alpine and opam2 only
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 5.703 MB
Step 1/22 : FROM ocaml/opam2:alpine
alpine: Pulling from ocaml/opam2
Digest: sha256:997ac6313af61f6bed98d9ffb25347dd77027724af9fd141d87edbcd94029f57
Status: Image is up to date for ocaml/opam2:alpine
 ---> 5f577d329d68
Step 2/22 : RUN sudo apk add --no-cache tzdata aspcud gmp-dev perl libev-dev m4
 ---> Using cache
 ---> 17d53af3f968
Step 3/22 : ENV OPAMERRLOGLEN 0 OPAMYES 1
 ---> Using cache
 ---> 85680701b55a
Step 4/22 : RUN git -C /home/opam/opam-repository fetch origin &&     git -C /home/opam/opam-repository reset da99aec5e0ecc83bd86926b620eff45b99c82c26 --hard &&     opam update -u
 ---> Using cache
 ---> 4212343800b4
Step 5/22 : RUN opam install alcotest lwt conf-libev inotify tls
 ---> Running in 99f5d1032e27
The following actions will be performed:
  - install conf-gmp                1          [required by zarith]
  - install mirage-no-xen           1          [required by nocrypto]
  - install dune                    1.6.3      [required by ocaml-migrate-parsetree, ppxlib]
  - install mirage-no-solo5         1          [required by nocrypto]
  - install conf-m4                 1          [required by ocamlfind]
  - install cmdliner                1.0.3      [required by alcotest]
  - install conf-perl               1          [required by zarith]
  - install conf-libev              4-11
  - install ocamlbuild              0.12.0     [required by inotify, tls]
  - install jbuilder                transition [required by alcotest, lwt]
  - install ocamlfind               1.8.0      [required by lwt, inotify, tls]
  - install uchar                   0.0.2      [required by fmt]
  - install sexplib0                v0.11.0    [required by sexplib]
  - install result                  1.3        [required by lwt, alcotest, tls]
  - install ppx_derivers            1.0        [required by ppx_deriving]
  - install ocaml-compiler-libs     v0.11.0    [required by ppxlib]
  - install cppo                    1.6.5      [required by lwt]
  - install zarith                  1.7        [required by nocrypto]
  - install ppx_tools               5.1+4.06.0 [required by ppx_deriving]
  - install num                     1.1        [required by sexplib]
  - install base-bytes              base       [required by inotify]
  - install parsexp                 v0.11.0    [required by sexplib]
  - install base                    v0.11.1    [required by ppx_sexp_conv]
  - install topkg                   1.0.0      [required by tls]
  - install ocaml-migrate-parsetree 1.2.0      [required by ppx_cstruct]
  - install lwt                     4.1.0                                                    For the PPX, please install package lwt_ppx
                                                                                             For Lwt_log and Lwt_daemon, please install package lwt_log
  - install cppo_ocamlbuild         1.6.0      [required by ppx_deriving]
  - install sexplib                 v0.11.0    [required by tls]
  - install stdio                   v0.11.0    [required by ppxlib]
  - install uuidm                   0.9.6      [required by alcotest]
  - install ptime                   0.8.4      [required by tls]
  - install fmt                     0.8.5      [required by alcotest]
  - install astring                 0.8.3      [required by alcotest]
  - install ppx_tools_versioned     5.2.1      [required by ppx_cstruct]
  - install inotify                 2.3
  - install ppx_deriving            4.2.1      [required by tls]
  - install cstruct                 3.2.1      [required by tls]
  - install ppxlib                  0.5.0      [required by ppx_sexp_conv]
  - install ocb-stubblr             0.1.1-1    [required by nocrypto]
  - install alcotest                0.8.4
  - install ppx_cstruct             3.2.1      [required by tls]
  - install cstruct-lwt             3.2.1      [required by nocrypto]
  - install asn1-combinators        0.2.0      [required by x509]
  - install ppx_sexp_conv           v0.11.2    [required by tls]
  - install cpuid                   0.1.1      [required by nocrypto]
  - install nocrypto                0.5.4-1    [required by tls]
  - install x509                    0.6.2      [required by tls]
  - install tls                     0.9.3
===== 48 to install =====

<><> Gathering sources ><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[astring.0.8.3] downloaded from http://erratique.ch/software/astring/releases/astring-0.8.3.tbz
[alcotest.0.8.4] downloaded from https://github.com/mirage/alcotest/releases/download/0.8.4/alcotest-0.8.4.tbz
[asn1-combinators.0.2.0] downloaded from https://github.com/mirleft/ocaml-asn1-combinators/releases/download/v0.2.0/asn1-combinators-0.2.0.tbz
[cmdliner.1.0.3] downloaded from http://erratique.ch/software/cmdliner/releases/cmdliner-1.0.3.tbz
[base.v0.11.1] downloaded from https://github.com/janestreet/base/releases/download/v0.11.1/base-v0.11.1.tbz
[cppo.1.6.5] downloaded from https://github.com/mjambon/cppo/archive/v1.6.5.tar.gz
[cppo_ocamlbuild.1.6.0] downloaded from https://github.com/mjambon/cppo/archive/v1.6.0.tar.gz
[cpuid.0.1.1] downloaded from https://github.com/pqwy/cpuid/releases/download/v0.1.1/cpuid-0.1.1.tbz
[cstruct.3.2.1] downloaded from https://github.com/mirage/ocaml-cstruct/releases/download/v3.2.1/cstruct-3.2.1.tbz
[cstruct-lwt.3.2.1] downloaded from https://github.com/mirage/ocaml-cstruct/releases/download/v3.2.1/cstruct-3.2.1.tbz
[fmt.0.8.5] downloaded from http://erratique.ch/software/fmt/releases/fmt-0.8.5.tbz
[dune.1.6.3] downloaded from https://github.com/ocaml/dune/releases/download/1.6.3/dune-1.6.3.tbz
[inotify.2.3] downloaded from https://github.com/whitequark/ocaml-inotify/archive/v2.3.tar.gz
[lwt.4.1.0] downloaded from https://github.com/ocsigen/lwt/archive/4.1.0.tar.gz
[ocaml-compiler-libs.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/ocaml-compiler-libs-v0.11.0.tar.gz
[num.1.1] downloaded from https://github.com/ocaml/num/archive/v1.1.tar.gz
[nocrypto.0.5.4-1] downloaded from https://github.com/mirleft/ocaml-nocrypto/releases/download/v0.5.4/nocrypto-0.5.4.tbz
[ocaml-migrate-parsetree.1.2.0] downloaded from https://github.com/ocaml-ppx/ocaml-migrate-parsetree/releases/download/v1.2.0/ocaml-migrate-parsetree-v1.2.0.tbz
[ocamlfind.1.8.0] downloaded from http://download.camlcity.org/download/findlib-1.8.0.tar.gz
[ocamlbuild.0.12.0] downloaded from https://github.com/ocaml/ocamlbuild/archive/0.12.0.tar.gz
[ppx_cstruct.3.2.1] found in cache
[ocb-stubblr.0.1.1-1] downloaded from https://github.com/pqwy/ocb-stubblr/releases/download/v0.1.1/ocb-stubblr-0.1.1.tbz
[parsexp.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/parsexp-v0.11.0.tar.gz
[ppx_derivers.1.0] downloaded from https://github.com/ocaml-ppx/ppx_derivers/archive/1.0.tar.gz
[ppx_sexp_conv.v0.11.2] downloaded from https://github.com/janestreet/ppx_sexp_conv/archive/v0.11.2.tar.gz
[ppx_deriving.4.2.1] downloaded from https://github.com/ocaml-ppx/ppx_deriving/archive/v4.2.1.tar.gz
[ppx_tools.5.1+4.06.0] downloaded from https://github.com/ocaml-ppx/ppx_tools/archive/5.1+4.06.0.tar.gz
[ptime.0.8.4] downloaded from http://erratique.ch/software/ptime/releases/ptime-0.8.4.tbz
[ppx_tools_versioned.5.2.1] downloaded from https://github.com/ocaml-ppx/ppx_tools_versioned/archive/5.2.1.tar.gz
[ppxlib.0.5.0] downloaded from https://github.com/ocaml-ppx/ppxlib/releases/download/0.5.0/ppxlib-0.5.0.tbz
[result.1.3] downloaded from https://github.com/janestreet/result/releases/download/1.3/result-1.3.tbz
[sexplib.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/sexplib-v0.11.0.tar.gz
[stdio.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/stdio-v0.11.0.tar.gz
[sexplib0.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/sexplib0-v0.11.0.tar.gz
[topkg.1.0.0] downloaded from http://erratique.ch/software/topkg/releases/topkg-1.0.0.tbz
[uuidm.0.9.6] downloaded from http://erratique.ch/software/uuidm/releases/uuidm-0.9.6.tbz
[uchar.0.0.2] downloaded from https://github.com/ocaml/uchar/releases/download/v0.0.2/uchar-0.0.2.tbz
[tls.0.9.3] downloaded from https://github.com/mirleft/ocaml-tls/releases/download/0.9.3/tls-0.9.3.tbz
[x509.0.6.2] downloaded from https://github.com/mirleft/ocaml-x509/releases/download/0.6.2/x509-0.6.2.tbz
[zarith.1.7] downloaded from https://github.com/ocaml/Zarith/archive/release-1.7.tar.gz

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> installed mirage-no-solo5.1
-> installed mirage-no-xen.1
-> installed conf-gmp.1
-> installed conf-libev.4-11
-> installed conf-m4.1
-> installed conf-perl.1
-> installed cmdliner.1.0.3
-> installed ocamlfind.1.8.0
-> installed base-bytes.base
-> installed ppx_tools.5.1+4.06.0
-> installed num.1.1
-> installed ocamlbuild.0.12.0
-> installed zarith.1.7
-> installed uchar.0.0.2
-> installed dune.1.6.3
-> installed jbuilder.transition
-> installed ppx_derivers.1.0
-> installed result.1.3
-> installed cppo.1.6.5
-> installed ocaml-compiler-libs.v0.11.0
-> installed sexplib0.v0.11.0
-> installed cppo_ocamlbuild.1.6.0
-> installed parsexp.v0.11.0
-> installed ocaml-migrate-parsetree.1.2.0
-> installed topkg.1.0.0
-> installed lwt.4.1.0
-> installed base.v0.11.1
-> installed sexplib.v0.11.0
-> installed ppx_deriving.4.2.1
-> installed ppx_tools_versioned.5.2.1
-> installed astring.0.8.3
-> installed fmt.0.8.5
-> installed ptime.0.8.4
-> installed uuidm.0.9.6
-> installed stdio.v0.11.0
-> installed cstruct.3.2.1
-> installed alcotest.0.8.4
-> installed cstruct-lwt.3.2.1
-> installed inotify.2.3
-> installed asn1-combinators.0.2.0
-> installed ocb-stubblr.0.1.1-1
-> installed ppx_cstruct.3.2.1
-> installed cpuid.0.1.1
-> installed ppxlib.0.5.0
-> installed ppx_sexp_conv.v0.11.2
-> installed nocrypto.0.5.4-1
-> installed x509.0.6.2
-> installed tls.0.9.3
Done.

<><> jbuilder.transition installed successfully <><><><><><><><><><><><><><><><>
=> Jbuilder has been renamed and the jbuilder package is now a transition package. Use the dune package instead.
# Run eval $(opam env) to update the current shell environment
 ---> 995a2815074f
Removing intermediate container 99f5d1032e27
Step 6/22 : COPY check-libev.ml /tmp/check-libev.ml
 ---> dd7b9c5edf6a
Error removing intermediate container 63eba59a9a73: driver "aufs" failed to remove root filesystem for 63eba59a9a73600178d6bb70a178f108559a5f477db65f4e8e0f74b59eb2f031: could not remove diff path for id 26daa8288d0f7f228b9b1b77fd2eae004372cc75d4ca64a8e4f5b423d199d79a: error preparing atomic delete: rename /var/lib/docker/aufs/diff/26daa8288d0f7f228b9b1b77fd2eae004372cc75d4ca64a8e4f5b423d199d79a /var/lib/docker/aufs/diff/26daa8288d0f7f228b9b1b77fd2eae004372cc75d4ca64a8e4f5b423d199d79a-removing: device or resource busy
Step 7/22 : RUN opam exec -- ocaml /tmp/check-libev.ml
 ---> Running in eb1ff7f163f1
 ---> fc9f500e18f3
Error removing intermediate container eb1ff7f163f1: driver "aufs" failed to remove root filesystem for eb1ff7f163f10458fb548f8796d874588d931590d5084808a036ccb6aa3ca764: could not remove diff path for id 8b2b143b806a4d2a72d1b6343e8133849d108fd9e5cc9c29755f5987d960e468: error preparing atomic delete: rename /var/lib/docker/aufs/diff/8b2b143b806a4d2a72d1b6343e8133849d108fd9e5cc9c29755f5987d960e468 /var/lib/docker/aufs/diff/8b2b143b806a4d2a72d1b6343e8133849d108fd9e5cc9c29755f5987d960e468-removing: device or resource busy
Step 8/22 : COPY *.opam /home/opam/src/datakit/
 ---> 9bb735d924a9
Removing intermediate container 63eba59a9a73
Removing intermediate container eb1ff7f163f1
Removing intermediate container 37df13c6ae7f
Step 9/22 : RUN opam pin add /home/opam/src/datakit/ -n
 ---> Running in 36d62e247089
This will pin the following packages: datakit, datakit-server, datakit-server-9p, datakit-github, datakit-client, datakit-client-git, datakit-client-9p, datakit-ci, datakit-bridge-local-git, datakit-bridge-github. Continue? [Y/n] y
[datakit.0.12.0: rsync]
[datakit.0.12.0] synchronised from file:///home/opam/src/datakit
datakit is now pinned to file:///home/opam/src/datakit (version 0.12.0)
[datakit-server.0.12.0: rsync]
[datakit-server.0.12.0] synchronised from file:///home/opam/src/datakit
datakit-server is now pinned to file:///home/opam/src/datakit (version 0.12.0)
[datakit-server-9p.0.12.0: rsync]
[datakit-server-9p.0.12.0] synchronised from file:///home/opam/src/datakit
datakit-server-9p is now pinned to file:///home/opam/src/datakit (version 0.12.0)
[datakit-github.0.12.0: rsync]
[datakit-github.0.12.0] synchronised from file:///home/opam/src/datakit
datakit-github is now pinned to file:///home/opam/src/datakit (version 0.12.0)
[datakit-client.0.12.0: rsync]
[datakit-client.0.12.0] synchronised from file:///home/opam/src/datakit
datakit-client is now pinned to file:///home/opam/src/datakit (version 0.12.0)
[datakit-client-git.0.12.0: rsync]
[datakit-client-git.0.12.0] synchronised from file:///home/opam/src/datakit
datakit-client-git is now pinned to file:///home/opam/src/datakit (version 0.12.0)
[datakit-client-9p.0.12.0: rsync]
[datakit-client-9p.0.12.0] synchronised from file:///home/opam/src/datakit
datakit-client-9p is now pinned to file:///home/opam/src/datakit (version 0.12.0)
[datakit-ci.0.12.1: rsync]
[datakit-ci.0.12.1] synchronised from file:///home/opam/src/datakit
datakit-ci is now pinned to file:///home/opam/src/datakit (version 0.12.1)
[datakit-bridge-local-git.0.12.0: rsync]
[datakit-bridge-local-git.0.12.0] synchronised from file:///home/opam/src/datakit
datakit-bridge-local-git is now pinned to file:///home/opam/src/datakit (version 0.12.0)
[datakit-bridge-github.0.12.0: rsync]
[datakit-bridge-github.0.12.0] synchronised from file:///home/opam/src/datakit
datakit-bridge-github is now pinned to file:///home/opam/src/datakit (version 0.12.0)
 ---> e28e8c07d3fc
Removing intermediate container 36d62e247089
Step 10/22 : RUN opam install datakit-bridge-github --deps -t
 ---> Running in 4dc46be21ff0

<><> Synchronising pinned packages ><><><><><><><><><><><><><><><><><><><><><><>
[datakit-bridge-github.0.12.0] no changes from file:///home/opam/src/datakit

The following actions will be performed:
  - install   macaddr            3.0.0
  - install   uutf               1.0.1
  - install   base64             2.3.0
  - install   seq                base
  - install   camomile           1.0.1
  - install   configurator       v0.11.0
  - install   react              1.2.1
  - install   win-error          0.3
  - install   mirage-device      1.1.0
  - install   mtime              1.1.0
  - install   named-pipe         0.4.0
  - install   datakit-client     0.12.0*
  - install   stringext          1.5.0
  - install   fieldslib          v0.11.0
  - install   magic-mime         1.1.1
  - install   decompress         0.7
  - install   rresult            0.6.0
  - install   ocamlgraph         1.8.8
  - install   logs               0.6.2
  - install   asetmap            0.8.1
  - install   ocplib-endian      1.0
  - install   hex                1.2.0
  - install   easy-format        1.3.1
  - install   duration           0.1.1
  - install   lwt_log            1.1.0
  - install   menhir             20181113
  - install   conf-which         1
  - install   mirage-flow        1.5.0
  - install   mstruct            1.4.0
  - install   ipaddr             3.0.0
  - install   jsonm              1.0.1
  - install   re                 1.8.0
  - install   io-page            2.0.1
  - install   zed                1.6
  - install   lwt_react          1.1.1
  - install   mirage-time        1.1.0
  - install   mirage-kv          1.1.1
  - install   mirage-clock       2.0.0
  - install   ppx_fields_conv    v0.11.0
  - install   win-eventlog       0.2
  - install   irmin-watcher      0.4.0
  - install   datakit-server     0.12.0*
  - install   asl                0.11
  - install   atd                2.0.0
  - install   biniou             1.2.0
  - install   mirage-channel     3.1.0
  - install   uri                2.1.0
  - install   prometheus         0.5
  - install   io-page-unix       2.0.1
  - install   lambda-term        1.13
  - install   mirage-time-lwt    1.1.0
  - install   mirage-kv-lwt      1.1.0
  - install   mirage-flow-lwt    1.5.0
  - install   yojson             1.5.0
  - install   irmin              1.4.0
  - install   git                1.11.5
  - install   conduit            1.4.0
  - install   cohttp             1.2.0
  - install   mirage-channel-lwt 3.1.0
  - install   hvsock             1.0.2
  - recompile tls                0.9.3
  - install   atdgen-runtime     2.0.0
  - install   irmin-mem          1.3.0
  - install   irmin-git          1.3.0
  - install   conduit-lwt        1.4.0
  - install   cohttp-lwt         1.2.0
  - install   protocol-9p        0.12.1
  - install   atdgen             2.0.0
  - install   conduit-lwt-unix   1.4.0
  - install   git-http           1.11.4
  - install   protocol-9p-unix   0.12.1
  - install   datakit-server-9p  0.12.0*
  - install   github             4.0.0
  - install   cohttp-lwt-unix    1.2.0
  - install   datakit-client-9p  0.12.0*
  - install   github-hooks       0.4.0
  - install   prometheus-app     0.5
  - install   github-unix        4.0.0
  - install   git-unix           1.11.5
  - install   datakit            0.12.0*
  - install   github-hooks-unix  0.4.0
  - install   datakit-client-git 0.12.0*
  - install   datakit-github     0.12.0*
===== 82 to install | 1 to recompile =====

<><> Gathering sources ><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[asetmap.0.8.1] downloaded from http://erratique.ch/software/asetmap/releases/asetmap-0.8.1.tbz
[asl.0.11] downloaded from https://github.com/mirage/ocaml-asl/releases/download/0.11/asl-0.11.tbz
[atd.2.0.0] downloaded from https://github.com/mjambon/atd/releases/download/2.0.0/atd-2.0.0.tbz
[atdgen.2.0.0] downloaded from https://github.com/mjambon/atd/releases/download/2.0.0/atd-2.0.0.tbz
[atdgen-runtime.2.0.0] downloaded from https://github.com/mjambon/atd/releases/download/2.0.0/atd-2.0.0.tbz
[base64.2.3.0] downloaded from https://github.com/mirage/ocaml-base64/releases/download/v2.3.0/base64-v2.3.0.tbz
[biniou.1.2.0] downloaded from https://github.com/mjambon/biniou/archive/v1.2.0.tar.gz
[cohttp.1.2.0] downloaded from https://github.com/mirage/ocaml-cohttp/releases/download/v1.2.0/cohttp-v1.2.0.tbz
[cohttp-lwt-unix.1.2.0] found in cache
[cohttp-lwt.1.2.0] downloaded from https://github.com/mirage/ocaml-cohttp/releases/download/v1.2.0/cohttp-v1.2.0.tbz
[camomile.1.0.1] downloaded from https://github.com/yoriyuki/Camomile/releases/download/1.0.1/camomile-1.0.1.tbz
[conduit.1.4.0] downloaded from https://github.com/mirage/ocaml-conduit/releases/download/v1.4.0/conduit-v1.4.0.tbz
[conduit-lwt.1.4.0] downloaded from https://github.com/mirage/ocaml-conduit/releases/download/v1.4.0/conduit-v1.4.0.tbz
[conduit-lwt-unix.1.4.0] found in cache
[configurator.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/configurator-v0.11.0.tar.gz
[decompress.0.7] downloaded from https://github.com/mirage/decompress/releases/download/v0.7/decompress-0.7.tbz
[duration.0.1.1] downloaded from https://github.com/hannesm/duration/releases/download/0.1.1/duration-0.1.1.tbz
[easy-format.1.3.1] downloaded from https://github.com/mjambon/easy-format/archive/v1.3.1.tar.gz
[fieldslib.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/fieldslib-v0.11.0.tar.gz
[git.1.11.5] downloaded from https://github.com/mirage/ocaml-git/releases/download/1.11.5/git-1.11.5.tbz
[git-http.1.11.4] downloaded from https://github.com/mirage/ocaml-git/releases/download/1.11.4/git-1.11.4.tbz
[git-unix.1.11.5] downloaded from https://github.com/mirage/ocaml-git/releases/download/1.11.5/git-1.11.5.tbz
[github.4.0.0] downloaded from https://github.com/mirage/ocaml-github/releases/download/4.0.0/github-4.0.0.tbz
[github-unix.4.0.0] found in cache
[github-hooks.0.4.0] downloaded from https://github.com/dsheets/ocaml-github-hooks/releases/download/0.4.0/github-hooks-0.4.0.tbz
[github-hooks-unix.0.4.0] downloaded from https://github.com/dsheets/ocaml-github-hooks/releases/download/0.4.0/github-hooks-0.4.0.tbz
[hex.1.2.0] downloaded from https://github.com/mirage/ocaml-hex/releases/download/v1.2.0/hex-1.2.0.tbz
[io-page.2.0.1] downloaded from https://github.com/mirage/io-page/releases/download/2.0.1/io-page-2.0.1.tbz
[hvsock.1.0.2] downloaded from https://github.com/mirage/ocaml-hvsock/archive/1.0.2.tar.gz
[io-page-unix.2.0.1] downloaded from https://github.com/mirage/io-page/releases/download/2.0.1/io-page-2.0.1.tbz
[ipaddr.3.0.0] downloaded from https://github.com/mirage/ocaml-ipaddr/releases/download/3.0.0/ipaddr-3.0.0.tbz
[irmin.1.4.0] downloaded from https://github.com/mirage/irmin/releases/download/1.4.0/irmin-1.4.0.tbz
[irmin-git.1.3.0] downloaded from https://github.com/mirage/irmin/releases/download/1.3.0/irmin-1.3.0.tbz
[jsonm.1.0.1] downloaded from http://erratique.ch/software/jsonm/releases/jsonm-1.0.1.tbz
[irmin-mem.1.3.0] downloaded from https://github.com/mirage/irmin/releases/download/1.3.0/irmin-1.3.0.tbz
[irmin-watcher.0.4.0] downloaded from https://github.com/mirage/irmin-watcher/releases/download/0.4.0/irmin-watcher-0.4.0.tbz
[logs.0.6.2] downloaded from http://erratique.ch/software/logs/releases/logs-0.6.2.tbz
[lwt_log.1.1.0] downloaded from https://github.com/aantron/lwt_log/archive/1.1.0.tar.gz
[lambda-term.1.13] downloaded from https://github.com/diml/lambda-term/releases/download/1.13/lambda-term-1.13.tbz
[macaddr.3.0.0] found in cache
[lwt_react.1.1.1] downloaded from https://github.com/ocsigen/lwt/archive/4.0.0.tar.gz
[menhir.20181113] downloaded from https://gitlab.inria.fr/fpottier/menhir/repository/20181113/archive.tar.gz
[magic-mime.1.1.1] downloaded from https://github.com/mirage/ocaml-magic-mime/releases/download/v1.1.1/magic-mime-v1.1.1.tbz
[mirage-channel.3.1.0] downloaded from https://github.com/mirage/mirage-channel/releases/download/v3.1.0/mirage-channel-3.1.0.tbz
[mirage-channel-lwt.3.1.0] downloaded from https://github.com/mirage/mirage-channel/releases/download/v3.1.0/mirage-channel-3.1.0.tbz
[mirage-clock.2.0.0] downloaded from https://github.com/mirage/mirage-clock/releases/download/v2.0.0/mirage-clock-v2.0.0.tbz
[mirage-flow.1.5.0] downloaded from https://github.com/mirage/mirage-flow/releases/download/v1.5.0/mirage-flow-1.5.0.tbz
[mirage-device.1.1.0] downloaded from https://github.com/mirage/mirage-device/releases/download/v1.1.0/mirage-device-1.1.0.tbz
[mirage-flow-lwt.1.5.0] downloaded from https://github.com/mirage/mirage-flow/releases/download/v1.5.0/mirage-flow-1.5.0.tbz
[mirage-kv.1.1.1] downloaded from https://github.com/mirage/mirage-kv/releases/download/v1.1.1/mirage-kv-1.1.1.tbz
[mirage-kv-lwt.1.1.0] downloaded from https://github.com/mirage/mirage-kv/releases/download/v1.1.0/mirage-kv-1.1.0.tbz
[mirage-time.1.1.0] downloaded from https://github.com/mirage/mirage-time/releases/download/v1.1.0/mirage-time-1.1.0.tbz
[mtime.1.1.0] downloaded from http://erratique.ch/software/mtime/releases/mtime-1.1.0.tbz
[mirage-time-lwt.1.1.0] downloaded from https://github.com/mirage/mirage-time/releases/download/v1.1.0/mirage-time-1.1.0.tbz
[ocamlgraph.1.8.8] downloaded from http://ocamlgraph.lri.fr/download/ocamlgraph-1.8.8.tar.gz
[mstruct.1.4.0] downloaded from https://github.com/mirage/ocaml-mstruct/releases/download/v1.4.0/mstruct-1.4.0.tbz
[named-pipe.0.4.0] downloaded from https://github.com/mirage/ocaml-named-pipe/releases/download/0.4.0/named-pipe-0.4.0.tbz
[ppx_fields_conv.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/ppx_fields_conv-v0.11.0.tar.gz
[ocplib-endian.1.0] downloaded from https://github.com/OCamlPro/ocplib-endian/archive/1.0.tar.gz
[prometheus.0.5] downloaded from https://github.com/mirage/prometheus/releases/download/v0.5/prometheus-0.5.tbz
[prometheus-app.0.5] downloaded from https://github.com/mirage/prometheus/releases/download/v0.5/prometheus-0.5.tbz
[protocol-9p.0.12.1] downloaded from https://github.com/mirage/ocaml-9p/archive/0.12.1.tar.gz
[protocol-9p-unix.0.12.1] downloaded from https://github.com/mirage/ocaml-9p/archive/0.12.1.tar.gz
[react.1.2.1] downloaded from http://erratique.ch/software/react/releases/react-1.2.1.tbz
[rresult.0.6.0] downloaded from http://erratique.ch/software/rresult/releases/rresult-0.6.0.tbz
[tls.0.9.3] found in cache
[re.1.8.0] downloaded from https://github.com/ocaml/ocaml-re/releases/download/1.8.0/re-1.8.0.tbz
[uutf.1.0.1] downloaded from http://erratique.ch/software/uutf/releases/uutf-1.0.1.tbz
[stringext.1.5.0] downloaded from https://github.com/rgrinberg/stringext/archive/1.5.0.zip
[win-error.0.3] downloaded from https://github.com/djs55/ocaml-win-error/archive/0.3.tar.gz
[win-eventlog.0.2] downloaded from https://github.com/djs55/ocaml-win-eventlog/archive/v0.2.tar.gz
[uri.2.1.0] downloaded from https://github.com/mirage/ocaml-uri/releases/download/v2.1.0/uri-v2.1.0.tbz
[yojson.1.5.0] downloaded from https://github.com/ocaml-community/yojson/releases/download/1.5.0/yojson-1.5.0.tbz
[zed.1.6] downloaded from https://github.com/diml/zed/releases/download/1.6/zed-1.6.tbz

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> installed seq.base
-> installed asetmap.0.8.1
-> installed conf-which.1
-> installed configurator.v0.11.0
-> installed datakit-client.0.12.0
-> installed decompress.0.7
-> installed duration.0.1.1
-> installed easy-format.1.3.1
-> installed fieldslib.v0.11.0
-> installed hex.1.2.0
-> installed logs.0.6.2
-> installed lwt_log.1.1.0
-> installed macaddr.3.0.0
-> installed magic-mime.1.1.1
-> installed mirage-device.1.1.0
-> removed   tls.0.9.3
-> installed mirage-flow.1.5.0
-> installed mstruct.1.4.0
-> installed mtime.1.1.0
-> installed named-pipe.0.4.0
-> installed react.1.2.1
-> installed rresult.0.6.0
-> installed stringext.1.5.0
-> installed uutf.1.0.1
-> installed win-error.0.3
-> installed re.1.8.0
-> installed base64.2.3.0
-> installed camomile.1.0.1
-> installed menhir.20181113
-> installed asl.0.11
-> installed biniou.1.2.0
-> installed datakit-server.0.12.0
-> installed io-page.2.0.1
-> installed ipaddr.3.0.0
-> installed irmin-watcher.0.4.0
-> installed jsonm.1.0.1
-> installed lwt_react.1.1.1
-> installed mirage-channel.3.1.0
-> installed mirage-clock.2.0.0
-> installed mirage-kv.1.1.1
-> installed mirage-time.1.1.0
-> installed ocplib-endian.1.0
-> installed atd.2.0.0
-> installed io-page-unix.2.0.1
-> installed mirage-flow-lwt.1.5.0
-> installed mirage-kv-lwt.1.1.0
-> installed mirage-time-lwt.1.1.0
-> installed ocamlgraph.1.8.8
-> installed mirage-channel-lwt.3.1.0
-> installed ppx_fields_conv.v0.11.0
-> installed prometheus.0.5
-> installed uri.2.1.0
-> installed win-eventlog.0.2
-> installed yojson.1.5.0
-> installed zed.1.6
-> installed tls.0.9.3
-> installed hvsock.1.0.2
-> installed protocol-9p.0.12.1
-> installed cohttp.1.2.0
-> installed conduit.1.4.0
-> installed git.1.11.5
-> installed irmin.1.4.0
-> installed atdgen-runtime.2.0.0
-> installed lambda-term.1.13
-> installed datakit-server-9p.0.12.0
-> installed protocol-9p-unix.0.12.1
-> installed cohttp-lwt.1.2.0
-> installed conduit-lwt.1.4.0
-> installed irmin-git.1.3.0
-> installed irmin-mem.1.3.0
-> installed atdgen.2.0.0
-> installed datakit-client-9p.0.12.0
-> installed git-http.1.11.4
-> installed conduit-lwt-unix.1.4.0
-> installed cohttp-lwt-unix.1.2.0
-> installed github.4.0.0
-> installed prometheus-app.0.5
-> installed git-unix.1.11.5
-> installed github-hooks.0.4.0
-> installed datakit.0.12.0
-> installed datakit-client-git.0.12.0
-> installed datakit-github.0.12.0
-> installed github-unix.4.0.0
-> installed github-hooks-unix.0.4.0
Done.
# Run eval $(opam env) to update the current shell environment
 ---> e90a8bbc9495
Removing intermediate container 4dc46be21ff0
Step 11/22 : COPY . /home/opam/src/datakit
 ---> ed51434f86fb
Removing intermediate container b69515579e9e
Step 12/22 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in 7be309bfba23
 ---> 7a0150231ce6
Removing intermediate container 7be309bfba23
Step 13/22 : RUN opam update --dev && opam upgrade
 ---> Running in 509689e76cda

<><> Synchronising development packages <><><><><><><><><><><><><><><><><><><><>
[datakit.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-bridge-github.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-bridge-local-git.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-ci.0.12.1] synchronised from file:///home/opam/src/datakit
[datakit-client.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-client-9p.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-client-git.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-github.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-server.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-server-9p.0.12.0] synchronised from file:///home/opam/src/datakit
Now run 'opam upgrade' to apply any package updates.
The following actions will be performed:
  - recompile datakit-server     0.12.0* [upstream changes]
  - recompile datakit-client     0.12.0* [upstream changes]
  - recompile datakit-server-9p  0.12.0* [upstream changes]
  - recompile datakit-client-git 0.12.0* [upstream changes]
  - recompile datakit-client-9p  0.12.0* [upstream changes]
  - recompile datakit            0.12.0* [upstream changes]
  - recompile datakit-github     0.12.0* [upstream changes]
===== 7 to recompile =====

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> removed   datakit-github.0.12.0
-> removed   datakit-client-9p.0.12.0
-> removed   datakit-client-git.0.12.0
-> removed   datakit-client.0.12.0
-> installed datakit-client.0.12.0
-> removed   datakit.0.12.0
-> removed   datakit-server-9p.0.12.0
-> removed   datakit-server.0.12.0
-> installed datakit-server.0.12.0
-> installed datakit-client-9p.0.12.0
-> installed datakit-client-git.0.12.0
-> installed datakit-server-9p.0.12.0
-> installed datakit-github.0.12.0
-> installed datakit.0.12.0
Done.
# Run eval $(opam env) to update the current shell environment
 ---> 01e5c3cfc2c7
Removing intermediate container 509689e76cda
Step 14/22 : RUN opam install datakit-bridge-github -ytv
 ---> Running in f5a31306918d

<><> Synchronising pinned packages ><><><><><><><><><><><><><><><><><><><><><><>
Processing  1/1: [datakit-bridge-github.0.12.0: rsync]
[datakit-bridge-github.0.12.0] no changes from file:///home/opam/src/datakit

The following actions will be performed:
  - install datakit-bridge-github 0.12.0*

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
Processing  1/2: [datakit-bridge-github: dune build]
+ /home/opam/.opam/4.07/bin/dune "build" "-p" "datakit-bridge-github" "-j" "127" (CWD=/home/opam/.opam/4.07/.opam-switch/build/datakit-bridge-github.0.12.0)
Processing  1/2: [datakit-bridge-github: dune runtest]
+ /home/opam/.opam/4.07/bin/dune "runtest" "tests/datakit-bridge-github" (CWD=/home/opam/.opam/4.07/.opam-switch/build/datakit-bridge-github.0.12.0)
-         test alias tests/datakit-bridge-github/runtest
- /bin/sh: tput: not found
- stty: 'standard input': Not a tty
- Testing datakit-github.
- This run has ID `4E9BABEA-ED06-4BC4-A1BC-E6906274FC20`.
- [33m ...[m                [36mgithub-9p[m          0   Transaction.[32m[OK][m                [36mgithub-9p[m          0   Transaction.
- [33m ...[m                [36mgithub-9p[m          1   Watch.[32m[OK][m                [36mgithub-9p[m          1   Watch.
- [33m ...[m                [36mgithub-9p[m          2   Make dirs.[32m[OK][m                [36mgithub-9p[m          2   Make dirs.
- [33m ...[m                [36mgithub-9p[m          3   Truncate.[32m[OK][m                [36mgithub-9p[m          3   Truncate.
- [33m ...[m                [36mgithub-9p[m          4   Parents.[32m[OK][m                [36mgithub-9p[m          4   Parents.
- [33m ...[m                [36mgithub-9p[m          5   Merge.[32m[OK][m                [36mgithub-9p[m          5   Merge.
- [33m ...[m                [36mgithub-9p[m          6   Diff.[32m[OK][m                [36mgithub-9p[m          6   Diff.
- [33m ...[m                [36mgithub-9p[m          7   Merge_metadata.[32m[OK][m                [36mgithub-9p[m          7   Merge_metadata.
- [33m ...[m                [36mgithub-9p[m          8   Merge empty.[32m[OK][m                [36mgithub-9p[m          8   Merge empty.
- [33m ...[m                [36mgithub-9p[m          9   Conflicts.[32m[OK][m                [36mgithub-9p[m          9   Conflicts.
- [33m ...[m                [36mgithub-9p[m         10   Large write.[32m[OK][m                [36mgithub-9p[m         10   Large write.
- [33m ...[m                [36mgithub-9p[m         11   Remove.[32m[OK][m                [36mgithub-9p[m         11   Remove.
- [33m ...[m                [36mgithub-9p[m         12   Remotes.[33m[SKIP][m              [36mgithub-9p[m         12   Remotes.
- [33m ...[m                [36mgithub-9p[m         13   Create_or_replace.[33m[SKIP][m              [36mgithub-9p[m         13   Create_or_replace.
- [33m ...[m                [36mgithub[m             0   basic-snapshot.[32m[OK][m                [36mgithub[m             0   basic-snapshot.
- [33m ...[m                [36mgithub[m             1   snapshot.[32m[OK][m                [36mgithub[m             1   snapshot.
- [33m ...[m                [36mgithub[m             2   capabilities.[32m[OK][m                [36mgithub[m             2   capabilities.
- [33m ...[m                [36mgithub[m             3   cleanup.[32m[OK][m                [36mgithub[m             3   cleanup.
- [33m ...[m                [36mgithub[m             4   events.[32m[OK][m                [36mgithub[m             4   events.
- [33m ...[m                [36mgithub[m             5   updates.[32m[OK][m                [36mgithub[m             5   updates.
- [33m ...[m                [36mgithub[m             6   startup.[32m[OK][m                [36mgithub[m             6   startup.
- [33m ...[m                [36mgithub[m             7   random-github.[32m[OK][m                [36mgithub[m             7   random-github.
- [33m ...[m                [36mgithub[m             8   random-github-*.[33m[SKIP][m              [36mgithub[m             8   random-github-*.
- [33m ...[m                [36mgithub[m             9   random-datakit.[32m[OK][m                [36mgithub[m             9   random-datakit.
- [33m ...[m                [36mgithub[m            10   random-datakit-*.[33m[SKIP][m              [36mgithub[m            10   random-datakit-*.
- The full test results are available in `/home/opam/.opam/4.07/.opam-switch/build/datakit-bridge-github.0.12.0/_build/default/tests/datakit-bridge-github/_build/_tests/4E9BABEA-ED06-4BC4-A1BC-E6906274FC20`.
- [32mTest Successful[m in 3.980s. 21 tests run.
-> compiled  datakit-bridge-github.0.12.0
-> installed datakit-bridge-github.0.12.0
Done.
# Run eval $(opam env) to update the current shell environment
 ---> c740685ab71d
Removing intermediate container f5a31306918d
Step 15/22 : RUN sudo cp $(opam config exec -- which datakit-bridge-github) /usr/bin/
 ---> Running in 01b0ee08a2bd
 ---> 07f7e6649d73
Removing intermediate container 01b0ee08a2bd
Step 16/22 : FROM alpine:3.8
3.8: Pulling from library/alpine
Digest: sha256:46e71df1e5191ab8b8034c5189e325258ec44ea739bba1e5645cff83c9048ff1
Status: Image is up to date for alpine:3.8
 ---> 3f53bb00af94
Step 17/22 : RUN apk add --no-cache libev gmp tzdata ca-certificates
 ---> Using cache
 ---> 07189332bdef
Step 18/22 : EXPOSE 5640
 ---> Running in 1fb2329478a3
 ---> 558d2ad20e0e
Removing intermediate container 1fb2329478a3
Step 19/22 : EXPOSE 5641
 ---> Running in 8c9686ec0390
 ---> cec8efc6d028
Removing intermediate container 8c9686ec0390
Step 20/22 : ENTRYPOINT /usr/bin/datakit-bridge-github
 ---> Running in 35b7b51c9c92
 ---> c08549e6224c
Removing intermediate container 35b7b51c9c92
Step 21/22 : CMD --listen=tcp://0.0.0.0:5641 -v --datakit=tcp:127.0.0.1:5640
 ---> Running in 7b35422c473e
 ---> b1fe8ee9d8ce
Removing intermediate container 7b35422c473e
Step 22/22 : COPY --from=0 /usr/bin/datakit-bridge-github /usr/bin/datakit-bridge-github
 ---> cf5eeb81181a
Removing intermediate container ebffb95299c4
Successfully built cf5eeb81181a
[2019-01-17 20:18.41] Success
