=== Docker build Dockerfile.client
[2017-06-08 17:45.04] Starting...
Cloning into '/tmp/with_clone9b2f250'...
done.
warning: remote HEAD refers to nonexistent ref, unable to checkout.

HEAD is now at a8265e1 github: rename PR.owner into PR.user to be consistent with Comment.user
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 6.128 MBSending build context to Docker daemon 6.685 MBSending build context to Docker daemon 7.242 MBSending build context to Docker daemon 7.799 MBSending build context to Docker daemon 8.246 MB
Step 1/22 : FROM ocaml/opam-dev@sha256:1dd4440b3e5f182f705cb5a74f9d4e860c2842b45ed72c199de89a894d13f522
sha256:1dd4440b3e5f182f705cb5a74f9d4e860c2842b45ed72c199de89a894d13f522: Pulling from ocaml/opam-dev
Digest: sha256:1dd4440b3e5f182f705cb5a74f9d4e860c2842b45ed72c199de89a894d13f522
Status: Image is up to date for ocaml/opam-dev@sha256:1dd4440b3e5f182f705cb5a74f9d4e860c2842b45ed72c199de89a894d13f522
 ---> f03bf6a81395
Step 2/22 : RUN git -C /home/opam/opam-repository fetch origin &&     git -C /home/opam/opam-repository reset 79046b8ab --hard &&     opam update -u
 ---> Using cache
 ---> 834afef17701
Step 3/22 : ENV OPAMERRLOGLEN 0 OPAMYES 1
 ---> Using cache
 ---> c4322ca77791
Step 4/22 : RUN opam depext -ui lwt alcotest conf-libev
 ---> Using cache
 ---> 5c991a3ba24f
Step 5/22 : COPY datakit-client.opam /home/opam/src/datakit/datakit-client.opam
 ---> Using cache
 ---> f0d5c855fe57
Step 6/22 : RUN opam pin add datakit-client.dev /home/opam/src/datakit -n
 ---> Using cache
 ---> 0f130e6e81d2
Step 7/22 : COPY datakit-client-9p.opam /home/opam/src/datakit/datakit-client-9p.opam
 ---> Using cache
 ---> 8db18318211a
Step 8/22 : RUN opam pin add datakit-client-9p.dev /home/opam/src/datakit -n
 ---> Using cache
 ---> b044cd75c356
Step 9/22 : COPY datakit-client-git.opam /home/opam/src/datakit/datakit-client-git.opam
 ---> Using cache
 ---> 3596063febc5
Step 10/22 : RUN opam pin add datakit-client-git.dev /home/opam/src/datakit -n
 ---> Using cache
 ---> 2f018858436c
Step 11/22 : RUN opam depext datakit-client datakit-client-9p datakit-client-git inotify
 ---> Using cache
 ---> 1a05f7329314
Step 12/22 : RUN opam install datakit-client --deps
 ---> Using cache
 ---> d38b752085dc
Step 13/22 : RUN opam install irmin-git irmin-watcher git-unix inotify     astring logs fmt cstruct protocol-9p-unix cmdliner     irmin-mem irmin-git alcotest
 ---> Using cache
 ---> 50663c0d4dee
Step 14/22 : RUN opam depext camlzip && opam install ounit camlzip fpath conf-which qcheck     fileutils bos qtest
 ---> Using cache
 ---> 324c9e1029eb
Step 15/22 : COPY . /home/opam/src/datakit
 ---> d351b2d4c796
Error removing intermediate container 6b8ce4de6a49: Driver aufs failed to remove root filesystem 6b8ce4de6a49fa5fc27f4082137bcb54b92d31be7428795953884a2ca2d3ed43: rename /var/lib/docker/aufs/mnt/3369f29c65ea3f6781e75d4272505f9ce891443d4c71e4899c8b9079176462c1 /var/lib/docker/aufs/mnt/3369f29c65ea3f6781e75d4272505f9ce891443d4c71e4899c8b9079176462c1-removing: device or resource busy
Step 16/22 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in 87cef1bcd390
 ---> 709894f0b029
Error removing intermediate container 6b8ce4de6a49: No such container: 6b8ce4de6a49fa5fc27f4082137bcb54b92d31be7428795953884a2ca2d3ed43
Step 17/22 : RUN opam update datakit-client datakit-client-9p datakit-client-git
 ---> Running in 9ee41b74d121

=-=- Synchronizing development packages -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client.dev] synchronised from file:///home/opam/src/datakit
[datakit-client-git.dev] synchronised from file:///home/opam/src/datakit
[datakit-client-9p.dev] synchronised from file:///home/opam/src/datakit
Now run 'opam upgrade' to apply any package updates.
 ---> 804690b42afb
Error removing intermediate container 9ee41b74d121: Driver aufs failed to remove root filesystem 9ee41b74d121e227e19d0c2e2401814eb9c7eb015a6c7e7820950a3d44e16843: rename /var/lib/docker/aufs/mnt/e72b1bad8e90bc3e0f0efad57371f36765e04f447e31c2f49cad2522156c46ec /var/lib/docker/aufs/mnt/e72b1bad8e90bc3e0f0efad57371f36765e04f447e31c2f49cad2522156c46ec-removing: device or resource busy
Step 18/22 : RUN opam install datakit-client.dev -vv -t
 ---> Running in 49ab255a04fa

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/1: [datakit-client.dev: rsync]
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--exclude" "_opam*" "--delete" "--delete-excluded" "/home/opam/src/datakit/" "/home/opam/.opam/default/.opam-switch/sources/datakit-client"
- sending incremental file list
- 
- sent 9,036 bytes  received 52 bytes  18,176.00 bytes/sec
- total size is 1,337,989  speedup is 147.23
[datakit-client.dev] no changes from file:///home/opam/src/datakit

+ uname "-m"
- x86_64
+ ocamlc "-vnum"
- 4.04.0
The following actions will be performed:
  - install datakit-client dev*
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--exclude" "_opam*" "--delete" "--delete-excluded" "/home/opam/src/datakit/" "/home/opam/.opam/default/.opam-switch/sources/datakit-client"
- sending incremental file list
- ./
- .dockerignore
- .gitattributes
- .gitignore
- 9p.md
- CHANGES.md
- CONTRIBUTING.md
- Dockerfile
- Dockerfile.bridge-local-git
- Dockerfile.ci
- Dockerfile.client
- Dockerfile.github
- LICENSE.md
- MAINTAINERS
- Makefile
- README.md
- appveyor.yml
- check-libev.ml
- circle.yml
- datakit-bridge-github.descr
- datakit-bridge-github.opam
- datakit-bridge-local-git.descr
- datakit-bridge-local-git.opam
- datakit-ci.descr
- datakit-ci.opam
- datakit-client-9p.opam
- datakit-client-git.opam
- datakit-client.descr
- datakit-client.opam
- datakit-github.descr
- datakit-github.opam
- datakit-server-9p.opam
- datakit-server.descr
- datakit-server.opam
- datakit.opam
- api/
- api/go-datakit/
- api/go-datakit/client.go
- api/go-datakit/client_test.go
- api/go-datakit/config.go
- api/go-datakit/config_test.go
- api/go-datakit/doc.go
- api/go-datakit/snapshot.go
- api/go-datakit/snapshot_test.go
- api/go-datakit/transaction.go
- api/go-datakit/transaction_test.go
- api/go-datakit/watch.go
- api/ocaml/
- api/ocaml/datakit_client.ml
- api/ocaml/datakit_client.mli
- api/ocaml/jbuild
- api/ocaml/9p/
- api/ocaml/9p/datakit_client_9p.ml
- api/ocaml/9p/datakit_client_9p.mli
- api/ocaml/9p/jbuild
- api/ocaml/9p/mount/
- api/ocaml/9p/mount/jbuild
- api/ocaml/9p/mount/mount.ml
- api/ocaml/git/
- api/ocaml/git/datakit_client_git.ml
- api/ocaml/git/datakit_client_git.mli
- api/ocaml/git/jbuild
- bridge/
- bridge/github/
- bridge/github/README.md
- bridge/github/datakit_github_api.ml
- bridge/github/datakit_github_api.mli
- bridge/github/datakit_github_state.ml
- bridge/github/datakit_github_state.mli
- bridge/github/datakit_github_sync.ml
- bridge/github/datakit_github_sync.mli
- bridge/github/jbuild
- bridge/github/main.ml
- bridge/github/main.mli
- bridge/local/
- bridge/local/Makefile
- bridge/local/README.md
- bridge/local/jbuild
- bridge/local/main.ml
- bridge/local/main.mli
- bridge/local/sync.ml
- bridge/local/sync.mli
- ci/
- ci/Makefile
- ci/README.md
- ci/self-ci/
- ci/self-ci/.dockerignore
- ci/self-ci/.gitignore
- ci/self-ci/Dockerfile
- ci/self-ci/Makefile
- ci/self-ci/README.md
- ci/self-ci/_tags
- ci/self-ci/datakit-ci.yml
- ci/self-ci/docker-compose.yml
- ci/self-ci/selfCI.ml
- ci/self-ci/selfCI.mli
- ci/skeleton/
- ci/skeleton/.gitignore
- ci/skeleton/Dockerfile
- ci/skeleton/Makefile
- ci/skeleton/_tags
- ci/skeleton/exampleCI.ml
- ci/src/
- ci/src/cI_ACL.ml
- ci/src/cI_ACL.mli
- ci/src/cI_cache.ml
- ci/src/cI_cache.mli
- ci/src/cI_char_stream.ml
- ci/src/cI_char_stream.mli
- ci/src/cI_config.ml
- ci/src/cI_config.mli
- ci/src/cI_docker.ml
- ci/src/cI_docker.mli
- ci/src/cI_engine.ml
- ci/src/cI_engine.mli
- ci/src/cI_escape_parser.ml
- ci/src/cI_escape_parser.mli
- ci/src/cI_eval.ml
- ci/src/cI_eval.mli
- ci/src/cI_form.ml
- ci/src/cI_form.mli
- ci/src/cI_git.ml
- ci/src/cI_git.mli
- ci/src/cI_history.ml
- ci/src/cI_history.mli
- ci/src/cI_live_log.ml
- ci/src/cI_live_log.mli
- ci/src/cI_log_reporter.ml
- ci/src/cI_log_reporter.mli
- ci/src/cI_main.ml
- ci/src/cI_main.mli
- ci/src/cI_monitored_pool.ml
- ci/src/cI_monitored_pool.mli
- ci/src/cI_output.ml
- ci/src/cI_output.mli
- ci/src/cI_process.ml
- ci/src/cI_process.mli
- ci/src/cI_result.ml
- ci/src/cI_result.mli
- ci/src/cI_s.ml
- ci/src/cI_secrets.ml
- ci/src/cI_secrets.mli
- ci/src/cI_static.mli
- ci/src/cI_target.ml
- ci/src/cI_target.mli
- ci/src/cI_term.ml
- ci/src/cI_term.mli
- ci/src/cI_utils.ml
- ci/src/cI_utils.mli
- ci/src/cI_web.ml
- ci/src/cI_web.mli
- ci/src/cI_web_templates.ml
- ci/src/cI_web_templates.mli
- ci/src/cI_web_utils.ml
- ci/src/cI_web_utils.mli
- ci/src/datakit_ci.ml
- ci/src/datakit_ci.mli
- ci/src/jbuild
- ci/static/
- ci/static/css/
- ci/static/css/bootstrap.min.css
- ci/static/css/style.css
- ci/static/fonts/
- ci/static/fonts/glyphicons-halflings-regular.eot
- ci/static/fonts/glyphicons-halflings-regular.svg
- ci/static/fonts/glyphicons-halflings-regular.ttf
- ci/static/fonts/glyphicons-halflings-regular.woff
- ci/static/fonts/glyphicons-halflings-regular.woff2
- ci/static/images/
- ci/static/images/favicon.png
- ci/static/js/
- ci/static/js/bootstrap.min.js
- ci/static/js/ci.js
- ci/tests/
- ci/tests/_tags
- ci/tests/exampleCI.ml
- ci/tests/jbuild
- ci/tests/test_ci.ml
- ci/tests/test_ci.mli
- ci/tests/test_utils.ml
- doc/
- doc/api.odocl
- examples/
- examples/ocaml-client/
- examples/ocaml-client/Makefile
- examples/ocaml-client/_tags
- examples/ocaml-client/example.ml
- pkg/
- pkg/META
- pkg/META.ci
- pkg/META.client
- pkg/META.github
- pkg/META.server
- pkg/pkg.ml
- reports/
- reports/2017-04-23.md
- reports/2017-04-30.md
- reports/2017-05-07.md
- reports/2017-05-14.md
- reports/2017-05-28.md
- reports/2017-06-04.md
- scripts/
- scripts/check-dylib.sh
- scripts/git-dumb-server
- scripts/start-client.sh
- scripts/start-datakit-gh-bridge.sh
- scripts/start-datakit.sh
- scripts/test-pr.sh
- scripts/watermark.sh
- src/
- src/version.ml
- src/datakit-conduit/
- src/datakit-conduit/datakit_conduit.ml
- src/datakit-conduit/datakit_conduit.mli
- src/datakit-conduit/jbuild
- src/datakit-github/
- src/datakit-github/datakit_github.ml
- src/datakit-github/datakit_github.mli
- src/datakit-github/datakit_github_conv.ml
- src/datakit-github/datakit_github_conv.mli
- src/datakit-github/jbuild
- src/datakit-io/
- src/datakit-io/datakit_io.ml
- src/datakit-io/datakit_io.mli
- src/datakit-io/jbuild
- src/datakit-log/
- src/datakit-log/datakit_log.ml
- src/datakit-log/datakit_log.mli
- src/datakit-log/jbuild
- src/datakit-server-9p/
- src/datakit-server-9p/fs9p.ml
- src/datakit-server-9p/fs9p.mli
- src/datakit-server-9p/fs9p_error.ml
- src/datakit-server-9p/fs9p_error.mli
- src/datakit-server-9p/jbuild
- src/datakit-server/
- src/datakit-server/jbuild
- src/datakit-server/vfs.ml
- src/datakit-server/vfs.mli
- src/datakit/
- src/datakit/blob.ml
- src/datakit/blob.mli
- src/datakit/branch.ml
- src/datakit/branch.mli
- src/datakit/datakit.ml
- src/datakit/datakit.mli
- src/datakit/dir.ml
- src/datakit/dir.mli
- src/datakit/jbuild
- src/datakit/merge.ml
- src/datakit/merge.mli
- src/datakit/metadata.ml
- src/datakit/metadata.mli
- src/datakit/path.ml
- src/datakit/path.mli
- src/datakit/remote.ml
- src/datakit/remote.mli
- src/datakit/store.ml
- src/datakit/store.mli
- src/datakit/bin/
- src/datakit/bin/autopush.ml
- src/datakit/bin/jbuild
- src/datakit/bin/main.ml
- tests/
- tests/common/
- tests/common/jbuild
- tests/common/test_client.ml
- tests/common/test_client.mli
- tests/common/test_utils.ml
- tests/datakit-9p/
- tests/datakit-9p/jbuild
- tests/datakit-9p/test.ml
- tests/datakit-9p/test.mli
- tests/datakit-bridge-github/
- tests/datakit-bridge-github/jbuild
- tests/datakit-bridge-github/test.ml
- tests/datakit-bridge-github/test.mli
- tests/datakit-git/
- tests/datakit-git/jbuild
- tests/datakit-git/test.ml
- tests/datakit-git/test.mli
- tests/datakit/
- tests/datakit/jbuild
- tests/datakit/test.ml
- tests/datakit/test.mli
- 
- sent 1,357,780 bytes  received 4,907 bytes  2,725,374.00 bytes/sec
- total size is 1,337,989  speedup is 0.98
[datakit-client.dev] synchronised from file:///home/opam/src/datakit

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/2: [datakit-client: jbuilder build]
+ jbuilder "build" "-p" "datakit-client" "-j" "1" (CWD=/home/opam/.opam/default/.opam-switch/build/datakit-client.dev)
- File "ci/src/jbuild", line 12, characters 15-94:
- Error: Unknown constructor per_module


=-=- Error report -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[91m[ERROR] The compilation of datakit-client failed at "jbuilder build -p datakit-client -j 1".

#=== ERROR while compiling datakit-client.dev =================================#
# command              jbuilder build -p datakit-client -j 1
# path                 /home/opam/.opam/default/.opam-switch/build/datakit-client.dev
# exit-code            1
# env-file             /home/opam/.opam/log/datakit-client-7-6d07ae.env
# output-file          /home/opam/.opam/log/datakit-client-7-6d07ae.out
### output ###
# File "ci/src/jbuild", line 12, characters 15-94:
# Error: Unknown constructor per_module

[0m+- The following actions failed
| - build datakit-client dev
+- 
- No changes have been performed
# Run eval `opam env` to update the current shell environment
[91m'opam install datakit-client.dev -vv -t' failed.
[0mThe command '/bin/sh -c opam install datakit-client.dev -vv -t' returned a non-zero code: 4
[2017-06-08 17:45.45] Failed: Command "docker" "build" "--pull" "-f" "Dockerfile.client" "." exited with status 4
