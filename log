=== Docker build Dockerfile.github
[2017-04-24 22:03.30] Starting...
Cloning into '/tmp/with_clone1c5a41e5'...
done.
warning: remote HEAD refers to nonexistent ref, unable to checkout.

HEAD is now at d3f92a7 TMP: use upstream version of ocaml-9p to work with MirageOS 3
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 4.835 MB
Step 1/30 : FROM ocaml/opam-dev@sha256:337fd0f78b182a12da3f66d9d5ca075dbb79df414fc01d6a0aee99ffeb35552a
sha256:337fd0f78b182a12da3f66d9d5ca075dbb79df414fc01d6a0aee99ffeb35552a: Pulling from ocaml/opam-dev
Digest: sha256:337fd0f78b182a12da3f66d9d5ca075dbb79df414fc01d6a0aee99ffeb35552a
Status: Image is up to date for ocaml/opam-dev@sha256:337fd0f78b182a12da3f66d9d5ca075dbb79df414fc01d6a0aee99ffeb35552a
 ---> 9107a2254d1d
Step 2/30 : ENV OPAMERRLOGLEN 0 OPAMYES 1
 ---> Using cache
 ---> 90b67f82c489
Step 3/30 : RUN sudo apk add tzdata aspcud
 ---> Using cache
 ---> 1a4e4ce8b7ee
Step 4/30 : RUN opam pin add hvsock --dev -n
 ---> Using cache
 ---> 4340c8b8c8d2
Step 5/30 : RUN opam pin add irmin.1.1.0 --dev -n
 ---> Using cache
 ---> 09446d6bf2c4
Step 6/30 : RUN opam pin add irmin-git.1.1.0 --dev -n
 ---> Using cache
 ---> b63086ba3f5b
Step 7/30 : RUN opam pin add github --dev -n
 ---> Using cache
 ---> b26f286abe01
Step 8/30 : RUN opam depext -ui lwt inotify alcotest conf-libev lambda-term cmdliner github protocol-9p rresult prometheus-app asl win-eventlog mtime hex github-hooks hvsock camlzip irmin-watcher datakit-server git irmin
 ---> Using cache
 ---> 392d30ebf75c
Step 9/30 : COPY check-libev.ml /tmp/check-libev.ml
 ---> Using cache
 ---> b203c2c12ef3
Step 10/30 : RUN opam config exec -- ocaml /tmp/check-libev.ml
 ---> Using cache
 ---> c2876424a060
Step 11/30 : COPY datakit.opam /home/opam/src/datakit/datakit.opam
 ---> 0702ffa6c01f
Error removing intermediate container 02f46a2a23f1: Driver aufs failed to remove root filesystem 02f46a2a23f1ef318c9f09bcb0236c5de15dfc0d1e1b8077670d137ae4fc246a: rename /var/lib/docker/aufs/mnt/56f1d426b9f8071d48ed138c10f594a29bf33a621bfc23bca4e2e6cefc7b24d9 /var/lib/docker/aufs/mnt/56f1d426b9f8071d48ed138c10f594a29bf33a621bfc23bca4e2e6cefc7b24d9-removing: device or resource busy
Step 12/30 : COPY datakit-client.opam /home/opam/src/datakit/datakit-client.opam
 ---> 05d380590aee
Error removing intermediate container 02f46a2a23f1: No such container: 02f46a2a23f1ef318c9f09bcb0236c5de15dfc0d1e1b8077670d137ae4fc246a
Step 13/30 : COPY datakit-server.opam /home/opam/src/datakit/datakit-server.opam
 ---> bcf7a04701ee
Error removing intermediate container 02f46a2a23f1: No such container: 02f46a2a23f1ef318c9f09bcb0236c5de15dfc0d1e1b8077670d137ae4fc246a
Step 14/30 : COPY datakit-github.opam /home/opam/src/datakit/datakit-github.opam
 ---> 7e71c5e7e12e
Error removing intermediate container 02f46a2a23f1: No such container: 02f46a2a23f1ef318c9f09bcb0236c5de15dfc0d1e1b8077670d137ae4fc246a
Step 15/30 : COPY datakit-bridge-github.opam /home/opam/src/datakit/datakit-bridge-github.opam
 ---> b5e978a4eed2
Error removing intermediate container 02f46a2a23f1: No such container: 02f46a2a23f1ef318c9f09bcb0236c5de15dfc0d1e1b8077670d137ae4fc246a
Step 16/30 : RUN opam pin add datakit.dev /home/opam/src/datakit -yn &&     opam pin add datakit-server.dev /home/opam/src/datakit -yn &&     opam pin add datakit-client.dev /home/opam/src/datakit -yn &&     opam pin add datakit-github.dev /home/opam/src/datakit -yn &&     opam pin add datakit-bridge-github.dev /home/opam/src/datakit -yn
 ---> Running in 2a58579d7430
[datakit.dev: rsync]
[datakit.dev] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit/datakit.opam from 1.2 to 2.0~beta
[0mdatakit is now pinned to file:///home/opam/src/datakit (version dev)
[datakit-server.dev: rsync]
[datakit-server.dev] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit-server/datakit-server.opam from 1.2 to 2.0~beta
[0mdatakit-server is now pinned to file:///home/opam/src/datakit (version dev)
[datakit-client.dev: rsync]
[datakit-client.dev] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit-client/datakit-client.opam from 1.2 to 2.0~beta
[0mdatakit-client is now pinned to file:///home/opam/src/datakit (version dev)
[datakit-github.dev: rsync]
[datakit-github.dev] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit-github/datakit-github.opam from 1.2 to 2.0~beta
[0mdatakit-github is now pinned to file:///home/opam/src/datakit (version dev)
[datakit-bridge-github.dev: rsync]
[datakit-bridge-github.dev] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit-bridge-github/datakit-bridge-github.opam from 1.2 to 2.0~beta
[0mdatakit-bridge-github is now pinned to file:///home/opam/src/datakit (version dev)
 ---> a35a3db1c1a2
Error removing intermediate container 02f46a2a23f1: No such container: 02f46a2a23f1ef318c9f09bcb0236c5de15dfc0d1e1b8077670d137ae4fc246a
Step 17/30 : COPY . /home/opam/src/datakit
 ---> c577de5ee3b2
Removing intermediate container d409aeea18cc
Removing intermediate container e599bd27bba1
Removing intermediate container 51f392233b41
Removing intermediate container f780bd805f1a
Removing intermediate container 2a58579d7430
Removing intermediate container f73b87bbb458
Error removing intermediate container 02f46a2a23f1: No such container: 02f46a2a23f1ef318c9f09bcb0236c5de15dfc0d1e1b8077670d137ae4fc246a
Step 18/30 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in 6fcb9fb2e440
 ---> 40297b34c5e3
Error removing intermediate container 02f46a2a23f1: No such container: 02f46a2a23f1ef318c9f09bcb0236c5de15dfc0d1e1b8077670d137ae4fc246a
Step 19/30 : RUN cd /home/opam/src/datakit &&     scripts/watermark.sh &&     git status --porcelain
 ---> Running in a9b1b5a85250
 M src/version.ml
 ---> 29affd27cc8b
Error removing intermediate container 02f46a2a23f1: No such container: 02f46a2a23f1ef318c9f09bcb0236c5de15dfc0d1e1b8077670d137ae4fc246a
Step 20/30 : RUN opam install datakit
 ---> Running in b81e78fde704

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit.dev] synchronised from file:///home/opam/src/datakit

The following actions will be performed:
  - install irmin-git 1.1.0*                                    [required by datakit]
  - install datakit   dev*
===== 2 to install =====
[datakit.dev] synchronised from file:///home/opam/src/datakit
[irmin-git.1.1.0] synchronised from git+https://github.com/mirage/irmin.git

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> installed irmin-git.1.1.0


=-=- Error report -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
+- The following actions failed
| - build datakit dev
+- 
+- The following changes have been performed
| - install irmin-git 1.1.0
+- 
[91m[ERROR] The compilation of datakit failed at "ocaml pkg/pkg.ml build --pinned true --tests false".

#=== ERROR while compiling datakit.dev ========================================#
# command              ocaml pkg/pkg.ml build --pinned true --tests false
# path                 /home/opam/.opam/default/.opam-switch/build/datakit.dev
# exit-code            1
# env-file             /home/opam/.opam/log/datakit-7-8b8a2d.env
# output-file          /home/opam/.opam/log/datakit-7-8b8a2d.out
### output ###
# ocamlfind ocamlopt unix.cmxa -I /home/opam/.opam/default/lib/ocamlbuild /home/opam/.opam/default/lib/ocamlbuild/ocamlbuildlib.cmxa -linkpkg myocamlbuild.ml /home/opam/.opam/default/lib/ocamlbuild/ocamlbuild.cmx -o myocamlbuild
# ocamlfind ocamldep -package prometheus-app.unix -package 'irmin datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/ivfs.ml > src/datakit/ivfs.ml.depends
# ocamlfind ocamldep -package prometheus-app.unix -package 'irmin datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/ivfs.mli > src/datakit/ivfs.mli.depends
# ocamlfind ocamldep -package prometheus-app.unix -package 'irmin datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/ivfs_tree.mli > src/datakit/ivfs_tree.mli.depends
# ocamlfind ocamldep -package prometheus-app.unix -package 'irmin datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/ivfs_blob.mli > src/datakit/ivfs_blob.mli.depends
# ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_blob.cmi src/datakit/ivfs_blob.mli
# ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_tree.cmi src/datakit/ivfs_tree.mli
# ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs.cmi src/datakit/ivfs.mli
# ocamlfind ocamldep -package prometheus-app.unix -package 'irmin datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/ivfs_blob.ml > src/datakit/ivfs_blob.ml.depends
# ocamlfind ocamldep -package prometheus-app.unix -package 'irmin datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/ivfs_merge.ml > src/datakit/ivfs_merge.ml.depends
# ocamlfind ocamldep -package prometheus-app.unix -package 'irmin datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/ivfs_merge.mli > src/datakit/ivfs_merge.mli.depends
# ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_merge.cmi src/datakit/ivfs_merge.mli
# ocamlfind ocamlopt -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_blob.cmx src/datakit/ivfs_blob.ml
# ocamlfind ocamldep -package prometheus-app.unix -package 'irmin datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/ivfs_tree.ml > src/datakit/ivfs_tree.ml.depends
# ocamlfind ocamlopt -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_tree.cmx src/datakit/ivfs_tree.ml
# ocamlfind ocamldep -package prometheus-app.unix -package 'irmin datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/ivfs_remote.ml > src/datakit/ivfs_remote.ml.depends
# ocamlfind ocamldep -package prometheus-app.unix -package 'irmin datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/ivfs_remote.mli > src/datakit/ivfs_remote.mli.depends
# ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_remote.cmi src/datakit/ivfs_remote.mli
# ocamlfind ocamldep -package prometheus-app.unix -package 'irmin datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/ivfs_rw.ml > src/datakit/ivfs_rw.ml.depends
# ocamlfind ocamldep -package prometheus-app.unix -package 'irmin datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/ivfs_rw.mli > src/datakit/ivfs_rw.mli.depends
# ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_rw.cmi src/datakit/ivfs_rw.mli
# ocamlfind ocamlopt -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_merge.cmx src/datakit/ivfs_merge.ml
# ocamlfind ocamlopt -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_remote.cmx src/datakit/ivfs_remote.ml
# ocamlfind ocamlopt -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_rw.cmx src/datakit/ivfs_rw.ml
# ocamlfind ocamlopt -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs.cmx src/datakit/ivfs.ml
# ocamlfind ocamlopt -a -package prometheus-app.unix -package 'irmin datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -I src/datakit src/datakit/ivfs_blob.cmx src/datakit/ivfs_tree.cmx src/datakit/ivfs_merge.cmx src/datakit/ivfs_remote.cmx src/datakit/ivfs_rw.cmx src/datakit/ivfs.cmx -o src/datakit/ivfs.cmxa
# ocamlfind ocamlopt -shared -linkall -package prometheus-app.unix -package 'irmin datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -I src/datakit src/datakit/ivfs.cmxa -o src/datakit/ivfs.cmxs
# ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs.cmo src/datakit/ivfs.ml
# ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_tree.cmo src/datakit/ivfs_tree.ml
# ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_remote.cmo src/datakit/ivfs_remote.ml
# ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_blob.cmo src/datakit/ivfs_blob.ml
# ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_merge.cmo src/datakit/ivfs_merge.ml
# ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_rw.cmo src/datakit/ivfs_rw.ml
# ocamlfind ocamlc -a -package prometheus-app.unix -package 'irmin datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -I src/datakit src/datakit/ivfs_blob.cmo src/datakit/ivfs_tree.cmo src/datakit/ivfs_merge.cmo src/datakit/ivfs_remote.cmo src/datakit/ivfs_rw.cmo src/datakit/ivfs.cmo -o src/datakit/ivfs.cma
# ocamlfind ocamldep -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'protocol-9p.unix camlzip' -package irmin-watcher -package 'git irmin irmin-git irmin-watcher' -package 'cmdliner fmt.cli fmt.tty logs.fmt asetmap' -package prometheus-app.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/main.ml > src/datakit/main.ml.depends
# ocamlfind ocamldep -package prometheus-app.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/autopush.ml > src/datakit/autopush.ml.depends
# ocamlfind ocamldep -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit_conduit.mli > src/datakit_conduit.mli.depends
# ocamlfind ocamldep -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git irmin-git' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit_io.mli > src/datakit_io.mli.depends
# ocamlfind ocamldep -package 'asl win-eventlog cmdliner logs.cli mtime.os prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit_log.mli > src/datakit_log.mli.depends
# ocamlfind ocamldep -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/version.ml > src/version.ml.depends
# ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/autopush.cmo src/datakit/autopush.ml
# ocamlfind ocamlc -c -g -bin-annot -safe-string -thread -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src -I src/datakit -o src/datakit_conduit.cmi src/datakit_conduit.mli
# ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git irmin-git' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src -I src/datakit -o src/datakit_io.cmi src/datakit_io.mli
# ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'asl win-eventlog cmdliner logs.cli mtime.os prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src -I src/datakit -o src/datakit_log.cmi src/datakit_log.mli
# ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src -I src/datakit -o src/version.cmo src/version.ml
# ocamlfind ocamlc -c -g -bin-annot -safe-string -thread -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'protocol-9p.unix camlzip' -package irmin-watcher -package 'git irmin irmin-git irmin-watcher' -package 'cmdliner fmt.cli fmt.tty logs.fmt asetmap' -package prometheus-app.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/main.cmo src/datakit/main.ml
# ocamlfind ocamldep -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit_conduit.ml > src/datakit_conduit.ml.depends
# ocamlfind ocamldep -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git irmin-git' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit_io.ml > src/datakit_io.ml.depends
# ocamlfind ocamldep -package 'asl win-eventlog cmdliner logs.cli mtime.os prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit_log.ml > src/datakit_log.ml.depends
# ocamlfind ocamlopt -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/autopush.cmx src/datakit/autopush.ml
# ocamlfind ocamlopt -c -g -bin-annot -safe-string -thread -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src -I src/datakit -o src/datakit_conduit.cmx src/datakit_conduit.ml
# + ocamlfind ocamlopt -c -g -bin-annot -safe-string -thread -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src -I src/datakit -o src/datakit_conduit.cmx src/datakit_conduit.ml
# File "src/datakit_conduit.ml", line 6, characters 32-52:
# Error: Signature mismatch:
#        ...
#        The value `error_message' is required but not provided
#        File "types/V1.mli", line 123, characters 2-36: Expected declaration
# Command exited with code 2.
# pkg.ml: [ERROR] cmd ['ocamlbuild' '-use-ocamlfind' '-classic-display' '-tag' 'debug'
#      '-build-dir' '_build' '-Is' 'src,src/datakit' '-package'
#      'datakit-server.vfs,datakit-server.fs9p' 'CHANGES.md' 'LICENSE.md'
#      'README.md' 'pkg/META' 'datakit.opam' 'src/datakit/ivfs.a'
#      'src/datakit/ivfs.cmxs' 'src/datakit/ivfs.cmxa' 'src/datakit/ivfs.cma'
#      'src/datakit/ivfs_rw.cmx' 'src/datakit/ivfs_rw.cmi'
#      'src/datakit/ivfs_rw.mli' 'src/datakit/ivfs_merge.cmx'
#      'src/datakit/ivfs_merge.cmi' 'src/datakit/ivfs_merge.mli'
#      'src/datakit/ivfs_blob.cmx' 'src/datakit/ivfs_blob.cmi'
#      'src/datakit/ivfs_blob.mli' 'src/datakit/ivfs_remote.cmx'
#      'src/datakit/ivfs_remote.cmi' 'src/datakit/ivfs_remote.mli'
#      'src/datakit/ivfs_tree.cmx' 'src/datakit/ivfs_tree.cmi'
#      'src/datakit/ivfs_tree.mli' 'src/datakit/ivfs.cmx'
#      'src/datakit/ivfs.cmi' 'src/datakit/ivfs.mli' 'src/datakit/main.native'
#      'src/datakit-client/mount.native']: exited with 10

[0m# Run eval `opam env` to update the current shell environment
[91m
The former state can be restored with:
    opam switch import "/home/opam/.opam/default/.opam-switch/backup/state-20170424220349.export"
[0mThe command '/bin/sh -c opam install datakit' returned a non-zero code: 4
[2017-04-24 22:04.07] Failed: Command "docker" "build" "--pull" "-f" "Dockerfile.github" "." exited with status 4
