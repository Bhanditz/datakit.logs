=== Run docker-build-github on commit 85c34d79db9761565480b7643b57ef6b3301f88f
[2016-11-04 14:28.09] Starting...
Cloning into '/tmp/with_clone1a84898b'...
done.
HEAD is now at 85c34d7 datakit-ci does not depend on the `dockerfile` package
[2016-11-04 14:28.09] Running "docker" "build" "--pull" "-f" "Dockerfile.github" "."...
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon  3.81 MB
Step 1 : FROM docker/datakit:server
server: Pulling from docker/datakit
3690ec4760f9: Already exists
45dbe04a7c93: Already exists
517d61f1e301: Already exists
1e0c9b3dd687: Already exists
9485401d1356: Pulling fs layer
df71f1b15191: Pulling fs layer
14760fa2cfd6: Pulling fs layer
9bed746167d0: Pulling fs layer
fbdc42875683: Pulling fs layer
c0345bd8a6e4: Pulling fs layer
738f11893d24: Pulling fs layer
e8c44dd93cb2: Pulling fs layer
fc8434f5f045: Pulling fs layer
c0345bd8a6e4: Waiting
738f11893d24: Waiting
e8c44dd93cb2: Waiting
fc8434f5f045: Waiting
9bed746167d0: Waiting
fbdc42875683: Waiting
14760fa2cfd6: Verifying Checksum
14760fa2cfd6: Download complete
df71f1b15191: Verifying Checksum
df71f1b15191: Download complete
fbdc42875683: Verifying Checksum
fbdc42875683: Download complete
c0345bd8a6e4: Verifying Checksum
c0345bd8a6e4: Download complete
738f11893d24: Verifying Checksum
738f11893d24: Download complete
9485401d1356: Verifying Checksum
9485401d1356: Download complete
e8c44dd93cb2: Download complete
9bed746167d0: Verifying Checksum
9bed746167d0: Download complete
fc8434f5f045: Verifying Checksum
fc8434f5f045: Download complete
9485401d1356: Pull complete
df71f1b15191: Pull complete
14760fa2cfd6: Pull complete
9bed746167d0: Pull complete
fbdc42875683: Pull complete
c0345bd8a6e4: Pull complete
738f11893d24: Pull complete
e8c44dd93cb2: Pull complete
fc8434f5f045: Pull complete
Digest: sha256:1d5ceb962f9af2179246b49a96018ae474b7ce0606e1422032e5da8e18279b38
Status: Downloaded newer image for docker/datakit:server
 ---> f8b1711bc246
Step 2 : COPY datakit-github.opam /home/opam/src/datakit/datakit-github.opam
 ---> 16b9250a3dbd
Removing intermediate container fccab47c6685
Step 3 : RUN opam pin add github.dev https://github.com/samoht/ocaml-github.git#push-event-head-commit -n
 ---> Running in 1918155cd130
github is now git-pinned to https://github.com/samoht/ocaml-github.git#push-event-head-commit

[github: git]
[github: git]
[github: git]
[github: git]
[github: git]
[github: git]
[github] https://github.com/samoht/ocaml-github.git#push-event-head-commit updated

 ---> 24c8c2785070
Removing intermediate container 1918155cd130
Step 4 : RUN opam pin add datakit-client.dev /home/opam/src/datakit -n
 ---> Running in f0f72e8bd64d
datakit-client is now path-pinned to /home/opam/src/datakit

[datakit-client: local]
[datakit-client] /home/opam/src/datakit/ synchronized
[datakit-client] Installing new package description from /home/opam/src/datakit

 ---> ea944b113f59
Removing intermediate container f0f72e8bd64d
Step 5 : RUN opam pin add datakit-github.dev /home/opam/src/datakit -n
 ---> Running in 036333322dfe
Package datakit-github does not exist, create as a NEW package ? [Y/n] y
datakit-github is now path-pinned to /home/opam/src/datakit

[datakit-github: local]
[datakit-github] /home/opam/src/datakit/ synchronized
[datakit-github] Installing new package description from /home/opam/src/datakit

 ---> e23c9fdacde6
Removing intermediate container 036333322dfe
Step 6 : RUN opam depext datakit-github && opam install datakit-github --deps
 ---> Running in c3a0a6fbfe2b
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - gmp-dev
#  - linux-headers
#  - m4
#  - ncurses-dev
#  - openssl-dev
#  - perl
#  - pkgconfig
m4
ncurses-dev
pkgconfig
# The following new OS packages need to be installed: gmp-dev linux-headers openssl-dev perl
The following command needs to be run through "sudo":
    apk add gmp-dev linux-headers openssl-dev perl
(1/6) Installing libgmpxx (6.1.0-r0)
(2/6) Installing gmp-dev (6.1.0-r0)
(3/6) Installing linux-headers (4.4.6-r1)
(4/6) Installing zlib-dev (1.2.8-r2)
(5/6) Installing openssl-dev (1.0.2j-r0)
(6/6) Installing perl (5.22.2-r0)
Executing busybox-1.24.2-r11.trigger
OK: 492 MiB in 92 packages
# OS packages installation successful

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-github: local] Command started
[datakit-github] /home/opam/src/datakit/ already up-to-date
The following actions will be performed:
  - install conf-perl        1        
  - install magic-mime       1.0.0    
  - install menhir           20160825 
  - install easy-format      1.2.0    
  - install asl              0.10     
  - install conf-gmp         1        
  - install ocamlify         0.0.1    
  - install mtime            0.8.3    
  - install ocamlmod         0.0.8    
  - install datakit-client   dev*     
  - install fieldslib        113.33.03
  - install base64           2.1.2    
  - install conf-which       1        
  - install mirage-no-xen    1        
  - install mirage-flow      1.1.0    
  - install hex              1.0.0    
  - install win-eventlog     0.1      
  - install atd              1.2.0    
  - install zarith           1.4.1    
  - install oasis            0.4.7    
  - install ppx_fields_conv  113.33.03
  - install biniou           1.0.12   
  - install hvsock           0.10.0   
  - install asn1-combinators 0.1.2    
  - install nocrypto         0.5.3    
  - install yojson           1.3.3    
  - install x509             0.5.3    
  - install atdgen           1.10.0   
  - install tls              0.7.1    
  - install conduit          0.13.0   
  - install cohttp           0.21.0   
  - install github           dev*     
  - install github-hooks     0.1.1    
===== 33 to install =====
Do you want to continue ? [Y/n] y

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[asl: http] Command started
[asn1-combinators: http] Command started
[atd: http] Command started
[atd: http] Command started
[atd.1.2.0] https://github.com/mjambon/atd/archive/v1.2.0.tar.gz downloaded
[atdgen: http] Command started
[asl: http] Command started
[asl.0.10] https://github.com/mirage/ocaml-asl/archive/v0.10.tar.gz downloaded
[base64: http] Command started
[asn1-combinators: http] Command started
[asn1-combinators.0.1.2] https://github.com/mirleft/ocaml-asn1-combinators/archive/0.1.2.tar.gz downloaded
[biniou: http] Command started
[base64: http] Command started
[base64.2.1.2] https://github.com/mirage/ocaml-base64/releases/download/v2.1.2/base64-2.1.2.tbz downloaded
[cohttp: http] Command started
[biniou: http] Command started
[biniou.1.0.12] https://github.com/mjambon/biniou/archive/v1.0.12.tar.gz downloaded
[conduit: http] Command started
[atdgen: http] Command started
[atdgen.1.10.0] https://github.com/mjambon/atdgen/archive/v1.10.0.tar.gz downloaded
[datakit-client: local] Command started
[datakit-client.dev] /home/opam/src/datakit/ already up-to-date
[easy-format: http] Command started
[cohttp: http] Command started
[cohttp.0.21.0] https://github.com/mirage/ocaml-cohttp/archive/v0.21.0.tar.gz downloaded
[fieldslib: http] Command started
[easy-format: http] Command started
[easy-format.1.2.0] https://github.com/mjambon/easy-format/archive/v1.2.0.tar.gz downloaded
[github: git] Command started
[github: git] Command started
[conduit: http] Command started
[conduit.0.13.0] https://github.com/mirage/ocaml-conduit/archive/v0.13.0.tar.gz downloaded
[github-hooks: http] Command started
[github: git] Command started
[github: git] Command started
[github] https://github.com/samoht/ocaml-github.git#push-event-head-commit already up-to-date
[hex: http] Command started
[fieldslib: http] Command started
[fieldslib.113.33.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/fieldslib-113.33.03.tar.gz downloaded
[hvsock: http] Command started
[github-hooks: http] Command started
[github-hooks.0.1.1] https://github.com/dsheets/ocaml-github-hooks/releases/download/0.1.1/github-hooks-0.1.1.tbz downloaded
[magic-mime: http] Command started
[hvsock: http] Command started
[hvsock.0.10.0] https://github.com/djs55/ocaml-hvsock/archive/v0.10.0.tar.gz downloaded
[menhir: http] Command started
[hex: http] Command started
[hex.1.0.0] https://github.com/mirage/ocaml-hex/archive/1.0.0.tar.gz downloaded
[mirage-flow: http] Command started
[menhir: http] Command started
[menhir.20160825] http://gallium.inria.fr/~fpottier/menhir/menhir-20160825.tar.gz downloaded
[mtime: http] Command started
[mtime: http] Command started
[mtime.0.8.3] http://erratique.ch/software/mtime/releases/mtime-0.8.3.tbz downloaded
[nocrypto: http] Command started
[magic-mime: http] Command started
[magic-mime.1.0.0] https://github.com/mirage/ocaml-magic-mime/archive/v1.0.0.tar.gz downloaded
[oasis: http] Command started
[oasis: http] Command started
[oasis.0.4.7] https://forge.ocamlcore.org/frs/download.php/1635/oasis-0.4.7.tar.gz downloaded
[ocamlify: http] Command started
[ocamlify: http] Command started
[ocamlify.0.0.1] http://forge.ocamlcore.org/frs/download.php/379/ocamlify-0.0.1.tar.gz downloaded
[ocamlmod: http] Command started
[ocamlmod: http] Command started
[ocamlmod.0.0.8] https://forge.ocamlcore.org/frs/download.php/1544/ocamlmod-0.0.8.tar.gz downloaded
[ppx_fields_conv: http] Command started
[mirage-flow: http] Command started
[mirage-flow.1.1.0] https://github.com/mirage/mirage-flow/archive/v1.1.0.tar.gz downloaded
[tls: http] Command started
[ppx_fields_conv: http] Command started
[ppx_fields_conv.113.33.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_fields_conv-113.33.03.tar.gz downloaded
[win-eventlog: http] Command started
[win-eventlog: http] Command started
[win-eventlog.0.1] https://github.com/djs55/ocaml-win-eventlog/archive/v0.1.tar.gz downloaded
[x509: http] Command started
[tls: http] Command started
[tls.0.7.1] https://github.com/mirleft/ocaml-tls/archive/0.7.1.tar.gz downloaded
[yojson: http] Command started
[nocrypto: http] Command started
[nocrypto.0.5.3] https://github.com/mirleft/ocaml-nocrypto/archive/v0.5.3.tar.gz downloaded
[zarith: http] Command started
[zarith: http] Command started
[zarith.1.4.1] https://forge.ocamlcore.org/frs/download.php/1574/zarith-1.4.1.tgz downloaded
[x509: http] Command started
[x509.0.5.3] https://github.com/mirleft/ocaml-x509/archive/0.5.3.tar.gz downloaded
[yojson: http] Command started
[yojson.1.3.3] https://github.com/mjambon/yojson/archive/v1.3.3.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[asl: make] Command started
[base64: ocaml build] Command started
[conf-gmp: sh] Command started
[conf-perl: perl] Command started
-> installed conf-perl.1
[conf-which: which which] Command started
-> installed conf-which.1
[datakit-client: ocaml build] Command started
-> installed conf-gmp.1
[easy-format: make] Command started
-> installed base64.2.1.2
[fieldslib: ./configure] Command started
[easy-format: make install] Command started
-> installed easy-format.1.2.0
[biniou: make] Command started
[fieldslib: make] Command started
-> installed datakit-client.dev
[hex: ./configure] Command started
[biniou: make install] Command started
-> installed biniou.1.0.12
[magic-mime: ./configure] Command started
[hex: make] Command started
[magic-mime: make] Command started
-> installed fieldslib.113.33.03
[menhir: make Makefile] Command started
[asl: make install] Command started
[hex: make install] Command started
[magic-mime: make install] Command started
-> installed asl.0.10
[mirage-flow: ./configure] Command started
-> installed hex.1.0.0
-> installed mirage-no-xen.1
[mtime: ocaml] Command started
[mtime: ocaml] Command started
-> installed magic-mime.1.0.0
[ocamlify: ocaml setup.ml] Command started
[mirage-flow: make] Command started
[ocamlify: ocaml setup.ml] Command started
-> installed mtime.0.8.3
[ocamlmod: ocaml setup.ml] Command started
[ocamlify: ocaml setup.ml] Command started
[ocamlmod: ocaml setup.ml] Command started
-> installed ocamlify.0.0.1
[ppx_fields_conv: ./configure] Command started
[mirage-flow: make install] Command started
[ppx_fields_conv: make] Command started
[ocamlmod: ocaml setup.ml] Command started
-> installed mirage-flow.1.1.0
[hvsock: ocaml setup.ml] Command started
-> installed ocamlmod.0.0.8
[oasis: ocaml setup.ml] Command started
[hvsock: make] Command started
[oasis: ocaml setup.ml] Command started
-> installed ppx_fields_conv.113.33.03
[win-eventlog: make] Command started
[hvsock: make install] Command started
[win-eventlog: make install] Command started
-> installed hvsock.0.10.0
[yojson: make] Command started
-> installed win-eventlog.0.1
[zarith: ./configure] Command started
[zarith: make] Command started
[zarith: make install] Command started
[yojson: make install-lib] Command started
-> installed yojson.1.3.3
-> installed zarith.1.4.1
[asn1-combinators: ocaml setup.ml] Command started
[asn1-combinators: ocaml setup.ml] Command started
[asn1-combinators: ocaml setup.ml] Command started
-> installed asn1-combinators.0.1.2
[menhir: make Makefile] Command started
-> installed menhir.20160825
[atd: make] Command started
[atd: make install] Command started
-> installed atd.1.2.0
[atdgen: make] Command started
[atdgen: make findlib-install] Command started
-> installed atdgen.1.10.0
[oasis: ocaml setup.ml] Command started
-> installed oasis.0.4.7
[nocrypto: ./configure] Command started
[nocrypto: make] Command started
[nocrypto: make install] Command started
-> installed nocrypto.0.5.3
[x509: ./configure] Command started
[x509: make] Command started
[x509: make install] Command started
-> installed x509.0.5.3
[tls: ./configure] Command started
[tls: make] Command started
[tls: make install] Command started
-> installed tls.0.7.1
[conduit: make] Command started
[conduit: make install] Command started
-> installed conduit.0.13.0
[cohttp: make] Command started
[cohttp: make install] Command started
-> installed cohttp.0.21.0
[github: ocaml setup.ml] Command started
[github: ocaml setup.ml] Command started
[github: ocaml setup.ml] Command started
-> installed github.dev
[github-hooks: ocaml build] Command started
-> installed github-hooks.0.1.1
Done.
 ---> 2e72921a0898
Removing intermediate container c3a0a6fbfe2b
Step 7 : COPY . /home/opam/src/datakit/
 ---> 902a47eb60e2
Removing intermediate container 9ff987c7014d
Step 8 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in 17ec99006675
 ---> 6b8986bc98bb
Removing intermediate container 17ec99006675
Step 9 : RUN cd /home/opam/src/datakit &&     git diff && git status --porcelain &&     git checkout . && scripts/watermark.sh &&     git status --porcelain
 ---> Running in 1144ecacbb27
 M src/version.ml
 ---> 3b2bfbef0383
Removing intermediate container 1144ecacbb27
Step 10 : RUN opam update datakit-github
 ---> Running in 9a5b6283106e

=-=- Synchronizing development packages -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-github: local] Command started
[datakit-github] /home/opam/src/datakit/ synchronized
 ---> f233bbf3ceaa
Removing intermediate container 9a5b6283106e
Step 11 : RUN opam install datakit-github -vv
 ---> Running in 67dbc4b98996

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-github: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/system/packages.dev/datakit-github"
- sending incremental file list
- 
- sent 7,172 bytes  received 37 bytes  14,418.00 bytes/sec
- total size is 1,133,148  speedup is 157.19
[datakit-github] /home/opam/src/datakit/ already up-to-date
The following actions will be performed:
  - install datakit-github dev*

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-github: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/system/packages.dev/datakit-github"
- sending incremental file list
- 
- sent 7,172 bytes  received 37 bytes  14,418.00 bytes/sec
- total size is 1,133,148  speedup is 157.19
[datakit-github.dev] /home/opam/src/datakit/ already up-to-date

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-github: ocaml build] Command started
+ ocaml "pkg/pkg.ml" "build" "--pinned" "true" "-n" "datakit-github" (CWD=/home/opam/.opam/system/build/datakit-github.dev)
- ocamlfind ocamlopt unix.cmxa -I /usr/lib/ocaml/ocamlbuild /usr/lib/ocaml/ocamlbuild/ocamlbuildlib.cmxa -linkpkg myocamlbuild.ml /usr/lib/ocaml/ocamlbuild/ocamlbuild.cmx -o myocamlbuild
- ocamlfind ocamldep -package 'uri datakit-client datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules bridge/github/datakit_github.ml > bridge/github/datakit_github.ml.depends
- ocamlfind ocamldep -package 'uri datakit-client datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules bridge/github/datakit_github.mli > bridge/github/datakit_github.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'uri datakit-client datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I bridge/github -I src -I ci/src -I src/datakit -o bridge/github/datakit_github.cmi bridge/github/datakit_github.mli
- ocamlfind ocamldep -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules bridge/github/datakit_github_api.ml > bridge/github/datakit_github_api.ml.depends
- ocamlfind ocamldep -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules bridge/github/datakit_github_api.mli > bridge/github/datakit_github_api.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I bridge/github -I src -I ci/src -I src/datakit -o bridge/github/datakit_github_api.cmi bridge/github/datakit_github_api.mli
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'uri datakit-client datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I bridge/github -I src -I ci/src -I src/datakit -o bridge/github/datakit_github.cmx bridge/github/datakit_github.ml
- ocamlfind ocamldep -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules bridge/github/datakit_github_conv.ml > bridge/github/datakit_github_conv.ml.depends
- ocamlfind ocamldep -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules bridge/github/datakit_github_conv.mli > bridge/github/datakit_github_conv.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I bridge/github -I src -I ci/src -I src/datakit -o bridge/github/datakit_github_conv.cmi bridge/github/datakit_github_conv.mli
- ocamlfind ocamldep -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules bridge/github/datakit_github_vfs.ml > bridge/github/datakit_github_vfs.ml.depends
- ocamlfind ocamldep -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules bridge/github/datakit_github_vfs.mli > bridge/github/datakit_github_vfs.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I bridge/github -I src -I ci/src -I src/datakit -o bridge/github/datakit_github_vfs.cmi bridge/github/datakit_github_vfs.mli
- ocamlfind ocamldep -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules bridge/github/datakit_github_sync.ml > bridge/github/datakit_github_sync.ml.depends
- ocamlfind ocamldep -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules bridge/github/datakit_github_sync.mli > bridge/github/datakit_github_sync.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I bridge/github -I src -I ci/src -I src/datakit -o bridge/github/datakit_github_sync.cmi bridge/github/datakit_github_sync.mli
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I bridge/github -I src -I ci/src -I src/datakit -o bridge/github/datakit_github_conv.cmx bridge/github/datakit_github_conv.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I bridge/github -I src -I ci/src -I src/datakit -o bridge/github/datakit_github_api.cmx bridge/github/datakit_github_api.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I bridge/github -I src -I ci/src -I src/datakit -o bridge/github/datakit_github_vfs.cmx bridge/github/datakit_github_vfs.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I bridge/github -I src -I ci/src -I src/datakit -o bridge/github/datakit_github_sync.cmx bridge/github/datakit_github_sync.ml
- ocamlfind ocamlopt -a -package 'uri datakit-client datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' bridge/github/datakit_github.cmx bridge/github/datakit_github_api.cmx bridge/github/datakit_github_conv.cmx bridge/github/datakit_github_vfs.cmx bridge/github/datakit_github_sync.cmx -o bridge/github/datakit-github.cmxa
- ocamlfind ocamlopt -shared -linkall -package 'uri datakit-client datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' bridge/github/datakit-github.cmxa -o bridge/github/datakit-github.cmxs
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'uri datakit-client datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I bridge/github -I src -I ci/src -I src/datakit -o bridge/github/datakit_github.cmo bridge/github/datakit_github.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I bridge/github -I src -I ci/src -I src/datakit -o bridge/github/datakit_github_api.cmo bridge/github/datakit_github_api.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I bridge/github -I src -I ci/src -I src/datakit -o bridge/github/datakit_github_conv.cmo bridge/github/datakit_github_conv.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I bridge/github -I src -I ci/src -I src/datakit -o bridge/github/datakit_github_vfs.cmo bridge/github/datakit_github_vfs.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I bridge/github -I src -I ci/src -I src/datakit -o bridge/github/datakit_github_sync.cmo bridge/github/datakit_github_sync.ml
- ocamlfind ocamlc -a -package 'uri datakit-client datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' bridge/github/datakit_github.cmo bridge/github/datakit_github_api.cmo bridge/github/datakit_github_conv.cmo bridge/github/datakit_github_vfs.cmo bridge/github/datakit_github_sync.cmo -o bridge/github/datakit-github.cma
- ocamlfind ocamldep -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package protocol-9p.unix -package 'github.unix github-hooks.unix' -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package datakit-server.fs9p -package 'uri datakit-client datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules bridge/github/main.ml > bridge/github/main.ml.depends
- ocamlfind ocamldep -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package protocol-9p.unix -package 'github.unix github-hooks.unix' -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package datakit-server.fs9p -package 'uri datakit-client datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules bridge/github/main.mli > bridge/github/main.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -thread -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package protocol-9p.unix -package 'github.unix github-hooks.unix' -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package datakit-server.fs9p -package 'uri datakit-client datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I bridge/github -I src -I ci/src -I src/datakit -o bridge/github/main.cmi bridge/github/main.mli
- ocamlfind ocamldep -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit_conduit.ml > src/datakit_conduit.ml.depends
- ocamlfind ocamldep -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit_conduit.mli > src/datakit_conduit.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -thread -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src -I ci/src -I src/datakit -o src/datakit_conduit.cmi src/datakit_conduit.mli
- ocamlfind ocamldep -package 'asl win-eventlog cmdliner logs.cli mtime.os' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit_log.ml > src/datakit_log.ml.depends
- ocamlfind ocamldep -package 'asl win-eventlog cmdliner logs.cli mtime.os' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit_log.mli > src/datakit_log.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'asl win-eventlog cmdliner logs.cli mtime.os' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src -I ci/src -I src/datakit -o src/datakit_log.cmi src/datakit_log.mli
- ocamlfind ocamldep -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/version.ml > src/version.ml.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src -I ci/src -I src/datakit -o src/version.cmo src/version.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -thread -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src -I ci/src -I src/datakit -o src/datakit_conduit.cmx src/datakit_conduit.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'asl win-eventlog cmdliner logs.cli mtime.os' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src -I ci/src -I src/datakit -o src/datakit_log.cmx src/datakit_log.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src -I ci/src -I src/datakit -o src/version.cmx src/version.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -thread -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package protocol-9p.unix -package 'github.unix github-hooks.unix' -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package datakit-server.fs9p -package 'uri datakit-client datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I bridge/github -I src -I ci/src -I src/datakit -o bridge/github/main.cmx bridge/github/main.ml
- ocamlfind ocamlopt -linkpkg -g -thread -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package protocol-9p.unix -package 'github.unix github-hooks.unix' -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package datakit-server.fs9p -package 'uri datakit-client datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' bridge/github/datakit_github.cmx bridge/github/datakit_github_api.cmx bridge/github/datakit_github_conv.cmx bridge/github/datakit_github_sync.cmx bridge/github/datakit_github_vfs.cmx src/datakit_conduit.cmx src/datakit_log.cmx src/version.cmx bridge/github/main.cmx -o bridge/github/main.native
+ install "-m" "0755" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/main.native" "/home/opam/.opam/system/bin/datakit-github"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/datakit-github.a" "/home/opam/.opam/system/lib/datakit-github/datakit-github.a"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/datakit-github.cma" "/home/opam/.opam/system/lib/datakit-github/datakit-github.cma"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/datakit-github.cmxa" "/home/opam/.opam/system/lib/datakit-github/datakit-github.cmxa"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/datakit-github.cmxs" "/home/opam/.opam/system/lib/datakit-github/datakit-github.cmxs"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/datakit_github.cmi" "/home/opam/.opam/system/lib/datakit-github/datakit_github.cmi"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/datakit_github.cmti" "/home/opam/.opam/system/lib/datakit-github/datakit_github.cmti"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/datakit_github.cmx" "/home/opam/.opam/system/lib/datakit-github/datakit_github.cmx"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/datakit_github.mli" "/home/opam/.opam/system/lib/datakit-github/datakit_github.mli"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/datakit_github_api.cmi" "/home/opam/.opam/system/lib/datakit-github/datakit_github_api.cmi"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/datakit_github_api.cmti" "/home/opam/.opam/system/lib/datakit-github/datakit_github_api.cmti"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/datakit_github_api.cmx" "/home/opam/.opam/system/lib/datakit-github/datakit_github_api.cmx"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/datakit_github_api.mli" "/home/opam/.opam/system/lib/datakit-github/datakit_github_api.mli"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/datakit_github_conv.cmi" "/home/opam/.opam/system/lib/datakit-github/datakit_github_conv.cmi"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/datakit_github_conv.cmti" "/home/opam/.opam/system/lib/datakit-github/datakit_github_conv.cmti"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/datakit_github_conv.cmx" "/home/opam/.opam/system/lib/datakit-github/datakit_github_conv.cmx"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/datakit_github_conv.mli" "/home/opam/.opam/system/lib/datakit-github/datakit_github_conv.mli"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/datakit_github_sync.cmi" "/home/opam/.opam/system/lib/datakit-github/datakit_github_sync.cmi"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/datakit_github_sync.cmti" "/home/opam/.opam/system/lib/datakit-github/datakit_github_sync.cmti"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/datakit_github_sync.cmx" "/home/opam/.opam/system/lib/datakit-github/datakit_github_sync.cmx"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/datakit_github_sync.mli" "/home/opam/.opam/system/lib/datakit-github/datakit_github_sync.mli"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/datakit_github_vfs.cmi" "/home/opam/.opam/system/lib/datakit-github/datakit_github_vfs.cmi"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/datakit_github_vfs.cmti" "/home/opam/.opam/system/lib/datakit-github/datakit_github_vfs.cmti"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/datakit_github_vfs.cmx" "/home/opam/.opam/system/lib/datakit-github/datakit_github_vfs.cmx"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/datakit_github_vfs.mli" "/home/opam/.opam/system/lib/datakit-github/datakit_github_vfs.mli"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/datakit-github.opam" "/home/opam/.opam/system/lib/datakit-github/opam"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/pkg/META.github" "/home/opam/.opam/system/lib/datakit-github/META"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/CHANGES.md" "/home/opam/.opam/system/doc/datakit-github/CHANGES.md"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/LICENSE.md" "/home/opam/.opam/system/doc/datakit-github/LICENSE.md"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/README.md" "/home/opam/.opam/system/doc/datakit-github/README.md"
-> installed datakit-github.dev
Done.
 ---> ffb263a3d789
Removing intermediate container 67dbc4b98996
Step 12 : EXPOSE 5641
 ---> Running in 7d97397cb4bb
 ---> 8090a5d23469
Removing intermediate container 7d97397cb4bb
Step 13 : RUN sudo mkdir /data && sudo chown opam.nogroup /data && chmod 700 /data &&     sudo cp $(opam config exec -- which datakit-github) /usr/bin/
 ---> Running in fec29e9e4a29
 ---> 12f87e2b6e69
Removing intermediate container fec29e9e4a29
Step 14 : RUN opam config exec -- ocaml /home/opam/src/datakit/check-libev.ml
 ---> Running in e2e79f6e1d72
 ---> f6d65dbaca39
Removing intermediate container e2e79f6e1d72
Step 15 : USER root
 ---> Running in 33543251eebd
 ---> d709a8b54132
Removing intermediate container 33543251eebd
Step 16 : ENTRYPOINT /usr/bin/datakit-github
 ---> Running in 8eb7b6a4ecc3
 ---> 654abd8851b4
Removing intermediate container 8eb7b6a4ecc3
Step 17 : CMD --listen=tcp://0.0.0.0:5641 -v --datakit=tcp:127.0.0.1:5640
 ---> Running in 1679c813c60e
 ---> aca0cab47d9e
Removing intermediate container 1679c813c60e
Successfully built aca0cab47d9e
[2016-11-04 14:31.15] Success
