=== Docker build Dockerfile.client
[2017-11-10 14:01.07] Starting...
Cloning into '/tmp/with_clonec967416'...
done.
warning: remote HEAD refers to nonexistent ref, unable to checkout.

HEAD is now at 6826b8b Update to latest versions of conduit, session and ocaml-github-hooks
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 6.128 MBSending build context to Docker daemon 6.685 MBSending build context to Docker daemon 7.242 MBSending build context to Docker daemon 7.799 MBSending build context to Docker daemon 8.356 MBSending build context to Docker daemon 8.913 MBSending build context to Docker daemon 8.989 MB
Step 1/22 : FROM ocaml/opam-dev:alpine-3.5_ocaml-4.04.0
alpine-3.5_ocaml-4.04.0: Pulling from ocaml/opam-dev
Digest: sha256:3710d500397aa063ba1b82adca60d72e26c194864f4f661bfb9428baec6459c1
Status: Image is up to date for ocaml/opam-dev:alpine-3.5_ocaml-4.04.0
 ---> 7fd1e8732329
Step 2/22 : RUN git -C /home/opam/opam-repository fetch origin &&     git -C /home/opam/opam-repository reset 3bcfe6c8d --hard &&     opam update -u
 ---> Using cache
 ---> 56ccc243ecba
Step 3/22 : ENV OPAMERRLOGLEN 0 OPAMYES 1
 ---> Using cache
 ---> 64c3bbdf0ea7
Step 4/22 : RUN opam depext -ui lwt alcotest conf-libev
 ---> Running in 513be031499f
# Detecting depexts using flags: x86_64 linux alpine
[91mopam: option `--external' is a flag, it cannot take the argument
      `x86_64,linux,alpine'
Usage: opam list [OPTION]... [PATTERNS]...
Try `opam list --help' or `opam --help' for more information.
[0m[91mopam: option `--external' is a flag, it cannot take the argument
      `source,x86_64,linux,alpine'
Usage: opam list [OPTION]... [PATTERNS]...
Try `opam list --help' or `opam --help' for more information.
[0m# No extra OS packages requirements found.
# Now letting OPAM install the packages
The following actions will be performed:
  - install cmdliner                0.9.8      [required by alcotest]
  - install conf-libev              4-11       
  - install conf-m4                 1          [required by ocamlfind]
  - install result                  1.2        [required by alcotest, lwt]
  - install ocamlfind               1.7.3      [required by lwt]
  - install jbuilder                1.0+beta15 [required by alcotest, lwt]
  - install fmt                     0.7.1      [required by alcotest]
  - install base-bytes              base       [required by cppo]
  - install astring                 0.8.1      [required by alcotest]
  - install ocaml-migrate-parsetree 1.0.7      [required by lwt]
  - install cppo                    1.6.0      [required by lwt]
  - install alcotest                0.8.1      
  - install ppx_tools_versioned     5.0.1      [required by lwt]
  - install lwt                     3.1.0      
===== 14 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[cmdliner.0.9.8] downloaded from http://erratique.ch/software/cmdliner/releases/cmdliner-0.9.8.tbz
[astring.0.8.1] downloaded from http://erratique.ch/software/astring/releases/astring-0.8.1.tbz
[fmt.0.7.1] downloaded from http://erratique.ch/software/fmt/releases/fmt-0.7.1.tbz
[alcotest.0.8.1] downloaded from https://github.com/mirage/alcotest/releases/download/0.8.1/alcotest-0.8.1.tbz
[cppo.1.6.0] downloaded from https://github.com/mjambon/cppo/archive/v1.6.0.tar.gz
[lwt.3.1.0] downloaded from https://github.com/ocsigen/lwt/archive/3.1.0.tar.gz
[jbuilder.1.0+beta15] downloaded from https://github.com/janestreet/jbuilder/releases/download/1.0+beta15/jbuilder-1.0.beta15.tbz
[ocaml-migrate-parsetree.1.0.7] downloaded from https://github.com/ocaml-ppx/ocaml-migrate-parsetree/archive/v1.0.7.tar.gz
[ocamlfind.1.7.3] downloaded from http://download.camlcity.org/download/findlib-1.7.3.tar.gz
[result.1.2] downloaded from https://github.com/janestreet/result/archive/1.2.tar.gz
[ppx_tools_versioned.5.0.1] downloaded from https://github.com/let-def/ppx_tools_versioned/archive/5.0.1.tar.gz

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[91m[ERROR] The compilation of cmdliner failed at "/home/opam/.opam/default/bin/ocaml pkg/git.ml".
[0m[91m[ERROR] The compilation of conf-libev failed at "/bin/sh ./build.sh".
[0m[91m[ERROR] The compilation of conf-m4 failed at "/bin/sh -exc echo | m4".
[0m-> installed result.1.2
[91m
#=== ERROR while compiling conf-m4.1 ==========================================#
# context              2.0.0~beta5 | linux/x86_64 | ocaml-base-compiler.4.06.0 | file:///home/opam/opam-repository
# path                 ~/.opam/default/.opam-switch/build/conf-m4.1
# command              /bin/sh -exc echo | m4
# exit-code            127
# env-file             ~/.opam/log/conf-m4-7-629056.env
# output-file          ~/.opam/log/conf-m4-7-629056.out
### output ###
# + echo
# + m4
# /bin/sh: m4: not found


#=== ERROR while compiling conf-libev.4-11 ====================================#
# context              2.0.0~beta5 | linux/x86_64 | ocaml-base-compiler.4.06.0 | file:///home/opam/opam-repository
# path                 ~/.opam/default/.opam-switch/build/conf-libev.4-11
# command              /bin/sh ./build.sh
# exit-code            1
# env-file             ~/.opam/log/conf-libev-7-aa4a43.env
# output-file          ~/.opam/log/conf-libev-7-aa4a43.out
### output ###
# testing for libev: ............................. unavailable
# 
#       The following recquired C libraries are missing: libev.
# Please install them and retry. If they are installed in a non-standard location, set the environment variables C_INCLUDE_PATH and LIBRARY_PATH accordingly and retry.
# 
# For example, if they are installed in /opt/local, you can type:
# 
# export C_INCLUDE_PATH=/opt/local/include
# export LIBRARY_PATH=/opt/local/lib
# 
# To compile without libev support, use ./configure --disable-libev ...


#=== ERROR while compiling cmdliner.0.9.8 =====================================#
# context              2.0.0~beta5 | linux/x86_64 | ocaml-base-compiler.4.06.0 | file:///home/opam/opam-repository
# path                 ~/.opam/default/.opam-switch/build/cmdliner.0.9.8
# command              ~/.opam/default/bin/ocaml pkg/git.ml
# exit-code            2
# env-file             ~/.opam/log/cmdliner-7-81a3ce.env
# output-file          ~/.opam/log/cmdliner-7-81a3ce.out
### output ###
# File "pkg/topkg-ext.ml", line 42, characters 12-25:
# Warning 3: deprecated: String.create
# Use Bytes.create instead.
# File "pkg/topkg-ext.ml", line 71, characters 24-25:
# Error: This expression has type string but an expression was expected of type
#          bytes
# File "pkg/config.ml", line 6, characters 10-24:
# Error: Unbound module Config_default
# File "./pkg/git.ml", line 9, characters 5-15:
# Error: Unbound module Dir

[0m

=-=- Error report -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
+- The following actions were aborted
| - install alcotest                0.8.1
| - install astring                 0.8.1
| - install base-bytes              base
| - install cppo                    1.6.0
| - install fmt                     0.7.1
| - install jbuilder                1.0+beta15
| - install lwt                     3.1.0
| - install ocaml-migrate-parsetree 1.0.7
| - install ocamlfind               1.7.3
| - install ppx_tools_versioned     5.0.1
+- 
+- The following actions failed
| - build cmdliner   0.9.8
| - build conf-libev 4-11
| - build conf-m4    1
+- 
+- The following changes have been performed
| - install result 1.2
+- 

=-=- conf-m4.1 troubleshooting =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
=> This package relies on external (system) dependencies that may be missing. `opam depext conf-m4.1' may help you find the correct installation for your system.

=-=- conf-libev.4-11 troubleshooting =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
=> This package relies on external (system) dependencies that may be missing. `opam depext conf-libev.4-11' may help you find the correct installation for your system.
# Run eval $(opam env) to update the current shell environment
[91m
The former state can be restored with:
    opam switch import "/home/opam/.opam/default/.opam-switch/backup/state-20171110140150.export"
[0mThe command '/bin/sh -c opam depext -ui lwt alcotest conf-libev' returned a non-zero code: 31
[2017-11-10 14:01.58] Failed: Command "docker" "build" "--pull" "-f" "Dockerfile.client" "." exited with status 31
