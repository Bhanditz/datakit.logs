=== Docker run test-datakit-ci
[2017-02-06 15:03.24] Starting...
[2017-02-06 15:03.24] Running "docker" "run" "--rm" "--entrypoint" "/bin/sh" "sha256:755eb2e024a7f342db2948abfbc1922cc35fe5f16505413de74ee960cb10ecfb" "-c" "opam remove -y \"datakit-ci\" && opam depext -i -y \"conf-autoconf\" \"conf-libpcre\"&& opam install -y -t --deps-only \"datakit-ci\" && opam install -y -v -t \"datakit-ci\""
The following actions will be performed:
  - remove datakit-ci ~dev*

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> removed   datakit-ci.~dev
Done.
# Run eval `opam config env` to update the current shell environment
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - autoconf
#  - pcre-dev
#  - pkgconfig
pcre-dev
pkgconf
# The following new OS packages need to be installed: autoconf
The following command needs to be run through "sudo":
    apk add autoconf
(1/1) Installing autoconf (2.69-r0)
Executing busybox-1.25.1-r0.trigger
OK: 661 MiB in 105 packages
# OS packages installation successful
# Now letting OPAM install the packages
The following actions will be performed:
  - install conf-pkg-config 1.0                                 [required by conf-libpcre]
  - install conf-autoconf   0.1
  - install conf-libpcre    1  
===== 3 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/6: [conf-autoconf: which autoconf]
Processing  2/6: [conf-autoconf: which autoconf] [conf-pkg-config: pkg-config]
Processing  2/6: [conf-pkg-config: pkg-config]
-> installed conf-autoconf.0.1
Processing  3/6: [conf-pkg-config: pkg-config]
-> installed conf-pkg-config.1.0
Processing  5/6: [conf-libpcre: pkg-config libpcre]
-> installed conf-libpcre.1
Done.
# Run eval `opam config env` to update the current shell environment

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/1: [datakit-ci: git]
[datakit-ci] git+file:///home/opam/datakit changed
The following actions will be performed:
  - install ocamlgraph    1.8.7         
  - install irmin-watcher 0.2.0         
  - install bin_prot      113.33.00+4.03
  - install camlzip       1.06          
  - install jsonm         0.9.1         
  - install alcotest      0.7.2         
  - install mstruct       1.3.2         
  - install ezjsonm       0.4.3         
  - install git           1.9.3         
  - install mirage-tc     0.3.0         
  - install git-unix      1.7.1         
  - install irmin         0.12.0        
  - install irmin-unix    0.12.0        
  - install datakit       0.8.0*        
===== 14 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/14: [alcotest: http]
Processing  2/14: [alcotest: http] [bin_prot: http]
Processing  3/14: [alcotest: http] [bin_prot: http] [camlzip: http]
[camlzip.1.06] https://forge.ocamlcore.org/frs/download.php/1616/camlzip-1.06.tar.gz downloaded
Processing  3/14: [alcotest: http] [bin_prot: http]
Processing  4/14: [alcotest: http] [bin_prot: http] [datakit: git]
[datakit] git+https://github.com/docker/datakit.git already up-to-date
Processing  4/14: [alcotest: http] [bin_prot: http]
Processing  5/14: [alcotest: http] [bin_prot: http] [ezjsonm: http]
[bin_prot.113.33.00+4.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/bin_prot-113.33.00+4.03.tar.gz downloaded
Processing  5/14: [alcotest: http] [ezjsonm: http]
Processing  6/14: [alcotest: http] [ezjsonm: http] [git: http]
[alcotest.0.7.2] https://github.com/mirage/alcotest/releases/download/0.7.2/alcotest-0.7.2.tbz downloaded
Processing  6/14: [ezjsonm: http] [git: http]
Processing  7/14: [ezjsonm: http] [git: http]
Processing  8/14: [ezjsonm: http] [git: http] [irmin: http]
[ezjsonm.0.4.3] https://github.com/mirage/ezjsonm/archive//0.4.3.tar.gz downloaded
Processing  8/14: [git: http] [irmin: http]
Processing  9/14: [git: http] [irmin: http]
Processing 10/14: [git: http] [irmin: http] [irmin-watcher: http]
[git.1.9.3] https://github.com/mirage/ocaml-git/releases/download/1.9.3/git-1.9.3.tbz downloaded
Processing 10/14: [irmin: http] [irmin-watcher: http]
Processing 11/14: [irmin: http] [irmin-watcher: http] [jsonm: http]
[jsonm.0.9.1] http://erratique.ch/software/jsonm/releases/jsonm-0.9.1.tbz downloaded
Processing 11/14: [irmin: http] [irmin-watcher: http]
Processing 12/14: [irmin: http] [irmin-watcher: http] [mirage-tc: http]
[irmin.0.12.0] https://github.com/mirage/irmin/releases/download/0.12.0/irmin-0.12.0.tbz downloaded
Processing 12/14: [irmin-watcher: http] [mirage-tc: http]
Processing 13/14: [irmin-watcher: http] [mirage-tc: http] [mstruct: http]
[irmin-watcher.0.2.0] https://github.com/samoht/irmin-watcher/releases/download/0.2.0/irmin-watcher-0.2.0.tbz downloaded
Processing 13/14: [mirage-tc: http] [mstruct: http]
Processing 14/14: [mirage-tc: http] [mstruct: http] [ocamlgraph: http]
[ocamlgraph.1.8.7] http://ocamlgraph.lri.fr/download/ocamlgraph-1.8.7.tar.gz downloaded
Processing 14/14: [mirage-tc: http] [mstruct: http]
[mirage-tc.0.3.0] https://github.com/mirage/mirage-tc/archive//0.3.0.tar.gz downloaded
Processing 14/14: [mstruct: http]
[mstruct.1.3.2] https://github.com/mirage/ocaml-mstruct/archive/1.3.2.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/28:
Processing  2/28:
Processing  3/28:
Processing  4/28:
Processing  5/28:
Processing  6/28:
Processing  7/28:
Processing  7/28: [alcotest: ocaml build]
Processing  7/28: [alcotest: ocaml build] [camlzip: patch]
Processing  7/28: [alcotest: ocaml build] [bin_prot: ./configure] [camlzip: patch]
Processing  7/28: [alcotest: ocaml build] [bin_prot: ./configure] [camlzip: patch] [irmin-watcher: ocaml build]
Processing  7/28: [alcotest: ocaml build] [bin_prot: ./configure] [camlzip: patch] [irmin-watcher: ocaml build] [jsonm: ocaml setup.ml]
Processing  7/28: [alcotest: ocaml build] [bin_prot: ./configure] [camlzip: patch] [irmin-watcher: ocaml build] [jsonm: ocaml setup.ml] [mstruct: patch]
Processing  7/28: [alcotest: ocaml build] [bin_prot: ./configure] [camlzip: patch] [irmin-watcher: ocaml build] [jsonm: ocaml setup.ml] [mstruct: patch] [ocamlgraph: touch]
Processing  7/28: [alcotest: ocaml build] [bin_prot: ./configure] [camlzip: patch] [irmin-watcher: ocaml build] [jsonm: ocaml setup.ml] [mstruct: ./configure] [ocamlgraph: touch]
Processing  7/28: [alcotest: ocaml build] [bin_prot: ./configure] [camlzip: patch] [irmin-watcher: ocaml build] [jsonm: ocaml setup.ml] [mstruct: ./configure] [ocamlgraph: ./configure]
Processing  7/28: [alcotest: ocaml build] [bin_prot: ./configure] [camlzip: make all] [irmin-watcher: ocaml build] [jsonm: ocaml setup.ml] [mstruct: ./configure] [ocamlgraph: ./configure]
Processing  7/28: [alcotest: ocaml build] [bin_prot: ./configure] [camlzip: make allopt] [irmin-watcher: ocaml build] [jsonm: ocaml setup.ml] [mstruct: ./configure] [ocamlgraph: ./configure]
Processing  7/28: [alcotest: ocaml build] [bin_prot: ./configure] [camlzip: make allopt] [irmin-watcher: ocaml build] [jsonm: ocaml setup.ml] [mstruct: ./configure] [ocamlgraph: make]
Processing  7/28: [bin_prot: ./configure] [camlzip: make allopt] [irmin-watcher: ocaml build] [jsonm: ocaml setup.ml] [mstruct: ./configure] [ocamlgraph: make]
-> installed alcotest.0.7.2
Processing  8/28: [bin_prot: ./configure] [camlzip: make allopt] [irmin-watcher: ocaml build] [jsonm: ocaml setup.ml] [mstruct: ./configure] [ocamlgraph: make]
Processing  8/28: [bin_prot: make] [camlzip: make allopt] [irmin-watcher: ocaml build] [jsonm: ocaml setup.ml] [mstruct: ./configure] [ocamlgraph: make]
Processing  8/28: [bin_prot: make] [camlzip: make allopt] [jsonm: ocaml setup.ml] [mstruct: ./configure] [ocamlgraph: make]
-> installed irmin-watcher.0.2.0
Processing  9/28: [bin_prot: make] [camlzip: make allopt] [jsonm: ocaml setup.ml] [mstruct: ./configure] [ocamlgraph: make]
Processing  9/28: [bin_prot: make] [camlzip: make allopt] [jsonm: ocaml setup.ml] [mstruct: make] [ocamlgraph: make]
Processing  9/28: [bin_prot: make] [jsonm: ocaml setup.ml] [mstruct: make] [ocamlgraph: make]
Processing 10/28: [bin_prot: make] [jsonm: ocaml setup.ml] [mstruct: make] [ocamlgraph: make] [camlzip: make install-findlib]
-> installed camlzip.1.06
Processing 10/28: [bin_prot: make] [jsonm: ocaml setup.ml] [mstruct: make] [ocamlgraph: make]
Processing 10/28: [bin_prot: make] [jsonm: ocaml setup.ml] [ocamlgraph: make]
Processing 11/28: [bin_prot: make] [jsonm: ocaml setup.ml] [ocamlgraph: make] [mstruct: make install]
Processing 11/28: [jsonm: ocaml setup.ml] [ocamlgraph: make] [mstruct: make install]
Processing 11/28: [jsonm: ocaml setup.ml] [mstruct: make install]
Processing 11/28: [mstruct: make install]
-> installed mstruct.1.3.2
-> installed bin_prot.113.33.00+4.03
Processing 13/28: [jsonm: ocaml setup.ml]
-> installed jsonm.0.9.1
Processing 14/28:
Processing 15/28: [ocamlgraph: make install-findlib]
Processing 15/28: [ezjsonm: ./configure] [ocamlgraph: make install-findlib]
-> installed ocamlgraph.1.8.7
Processing 15/28: [ezjsonm: ./configure]
Processing 16/28: [ezjsonm: ./configure]
Processing 16/28: [ezjsonm: ./configure] [git: ocaml build]
Processing 16/28: [ezjsonm: make] [git: ocaml build]
Processing 16/28: [git: ocaml build]
Processing 17/28: [git: ocaml build] [ezjsonm: make install]
-> installed ezjsonm.0.4.3
Processing 17/28: [git: ocaml build]
Processing 18/28: [git: ocaml build]
Processing 18/28: [git: ocaml build] [mirage-tc: ./configure]
Processing 18/28: [git: ocaml build] [mirage-tc: make]
Processing 18/28: [mirage-tc: make]
-> installed git.1.9.3
Processing 19/28: [mirage-tc: make]
Processing 20/28: [mirage-tc: make]
-> installed git-unix.1.7.1
Processing 21/28: [mirage-tc: make]
Processing 22/28: [mirage-tc: make install]
-> installed mirage-tc.0.3.0
Processing 23/28:
Processing 23/28: [irmin: ocaml build]
-> installed irmin.0.12.0
Processing 25/28: [datakit: ocaml build]
Processing 26/28: [datakit: ocaml build]
-> installed irmin-unix.0.12.0
Processing 27/28: [datakit: ocaml build]
[ERROR] The compilation of datakit failed at "ocaml pkg/pkg.ml build --pinned true --tests false".

#=== ERROR while compiling datakit.0.8.0 ======================================#
# command              ocaml pkg/pkg.ml build --pinned true --tests false
# path                 /home/opam/.opam/default/.opam-switch/build/datakit.0.8.0
# exit-code            1
# env-file             /home/opam/.opam/default/.opam-switch/build/datakit.0.8.0/datakit-99-52128c.env
# output-file          /home/opam/.opam/default/.opam-switch/build/datakit.0.8.0/datakit-99-52128c.out
### output ###
# pkg.ml: [WARNING] Watermarks: OPAM fields of opam: topkg: no such command. Did you install topkg-care ?
# pkg.ml: [WARNING] file opam: opam field "maintainer" undefined or unsupported
# pkg.ml: [WARNING] file opam: opam field "authors" undefined or unsupported
# pkg.ml: [WARNING] file opam: opam field "homepage" undefined or unsupported
# pkg.ml: [WARNING] file opam: opam field "bug-reports" undefined or unsupported
# pkg.ml: [WARNING] file opam: opam field "doc" undefined or unsupported
# pkg.ml: [WARNING] file opam: opam field "license" undefined or unsupported
# pkg.ml: [WARNING] file opam: opam field "dev-repo" undefined or unsupported
# ocamlfind ocamlopt unix.cmxa -I /home/opam/.opam/default/lib/ocamlbuild /home/opam/.opam/default/lib/ocamlbuild/ocamlbuildlib.cmxa -linkpkg myocamlbuild.ml /home/opam/.opam/default/lib/ocamlbuild/ocamlbuild.cmx -o myocamlbuild
# ocamlfind ocamldep -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ivfs.ml > src/datakit/ivfs.ml.depends
# ocamlfind ocamldep -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ivfs.mli > src/datakit/ivfs.mli.depends
# ocamlfind ocamldep -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ivfs_tree.mli > src/datakit/ivfs_tree.mli.depends
# ocamlfind ocamldep -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ivfs_blob.mli > src/datakit/ivfs_blob.mli.depends
# ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src/datakit -I src -o src/datakit/ivfs_blob.cmi src/datakit/ivfs_blob.mli
# ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src/datakit -I src -o src/datakit/ivfs_tree.cmi src/datakit/ivfs_tree.mli
# ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src/datakit -I src -o src/datakit/ivfs.cmi src/datakit/ivfs.mli
# ocamlfind ocamldep -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ivfs_blob.ml > src/datakit/ivfs_blob.ml.depends
# ocamlfind ocamldep -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ivfs_merge.ml > src/datakit/ivfs_merge.ml.depends
# ocamlfind ocamldep -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ivfs_merge.mli > src/datakit/ivfs_merge.mli.depends
# ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src/datakit -I src -o src/datakit/ivfs_merge.cmi src/datakit/ivfs_merge.mli
# ocamlfind ocamlopt -c -g -bin-annot -safe-string -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src/datakit -I src -o src/datakit/ivfs_blob.cmx src/datakit/ivfs_blob.ml
# ocamlfind ocamldep -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ivfs_tree.ml > src/datakit/ivfs_tree.ml.depends
# ocamlfind ocamlopt -c -g -bin-annot -safe-string -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src/datakit -I src -o src/datakit/ivfs_tree.cmx src/datakit/ivfs_tree.ml
# ocamlfind ocamldep -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ivfs_remote.ml > src/datakit/ivfs_remote.ml.depends
# ocamlfind ocamldep -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ivfs_remote.mli > src/datakit/ivfs_remote.mli.depends
# ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src/datakit -I src -o src/datakit/ivfs_remote.cmi src/datakit/ivfs_remote.mli
# ocamlfind ocamldep -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ivfs_rw.ml > src/datakit/ivfs_rw.ml.depends
# ocamlfind ocamldep -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ivfs_rw.mli > src/datakit/ivfs_rw.mli.depends
# ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src/datakit -I src -o src/datakit/ivfs_rw.cmi src/datakit/ivfs_rw.mli
# ocamlfind ocamlopt -c -g -bin-annot -safe-string -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src/datakit -I src -o src/datakit/ivfs_merge.cmx src/datakit/ivfs_merge.ml
# ocamlfind ocamlopt -c -g -bin-annot -safe-string -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src/datakit -I src -o src/datakit/ivfs_remote.cmx src/datakit/ivfs_remote.ml
# ocamlfind ocamlopt -c -g -bin-annot -safe-string -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src/datakit -I src -o src/datakit/ivfs_rw.cmx src/datakit/ivfs_rw.ml
# ocamlfind ocamlopt -c -g -bin-annot -safe-string -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src/datakit -I src -o src/datakit/ivfs.cmx src/datakit/ivfs.ml
# ocamlfind ocamlopt -a -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' src/datakit/ivfs_blob.cmx src/datakit/ivfs_tree.cmx src/datakit/ivfs_merge.cmx src/datakit/ivfs_remote.cmx src/datakit/ivfs_rw.cmx src/datakit/ivfs.cmx -o src/datakit/ivfs.cmxa
# ocamlfind ocamlopt -shared -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' src/datakit/ivfs.cmx -o src/datakit/ivfs.cmxs
# ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src/datakit -I src -o src/datakit/ivfs.cmo src/datakit/ivfs.ml
# ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src/datakit -I src -o src/datakit/ivfs_tree.cmo src/datakit/ivfs_tree.ml
# ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src/datakit -I src -o src/datakit/ivfs_remote.cmo src/datakit/ivfs_remote.ml
# ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src/datakit -I src -o src/datakit/ivfs_blob.cmo src/datakit/ivfs_blob.ml
# ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src/datakit -I src -o src/datakit/ivfs_merge.cmo src/datakit/ivfs_merge.ml
# ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src/datakit -I src -o src/datakit/ivfs_rw.cmo src/datakit/ivfs_rw.ml
# ocamlfind ocamlc -a -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' src/datakit/ivfs_blob.cmo src/datakit/ivfs_tree.cmo src/datakit/ivfs_merge.cmo src/datakit/ivfs_remote.cmo src/datakit/ivfs_rw.cmo src/datakit/ivfs.cmo -o src/datakit/ivfs.cma
# ocamlfind ocamldep -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'protocol-9p.unix camlzip' -package 'datakit-server.vfs datakit-server.fs9p' -package 'irmin.http cohttp.lwt irmin-watcher' -package 'git irmin irmin.git irmin.mem irmin-watcher' -package 'cmdliner fmt.cli fmt.tty logs.fmt asetmap' -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/main.ml > src/datakit/main.ml.depends
# ocamlfind ocamldep -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit_conduit.mli > src/datakit_conduit.mli.depends
# ocamlfind ocamldep -package 'asl win-eventlog cmdliner logs.cli mtime.os' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit_log.mli > src/datakit_log.mli.depends
# ocamlfind ocamldep -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ir_io.mli > src/datakit/ir_io.mli.depends
# ocamlfind ocamldep -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/version.ml > src/version.ml.depends
# ocamlfind ocamlc -c -g -bin-annot -safe-string -thread -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src -I src/datakit -o src/datakit_conduit.cmi src/datakit_conduit.mli
# ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'asl win-eventlog cmdliner logs.cli mtime.os' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src -I src/datakit -o src/datakit_log.cmi src/datakit_log.mli
# ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src/datakit -I src -o src/datakit/ir_io.cmi src/datakit/ir_io.mli
# ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src -I src/datakit -o src/version.cmo src/version.ml
# ocamlfind ocamlc -c -g -bin-annot -safe-string -thread -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'protocol-9p.unix camlzip' -package 'datakit-server.vfs datakit-server.fs9p' -package 'irmin.http cohttp.lwt irmin-watcher' -package 'git irmin irmin.git irmin.mem irmin-watcher' -package 'cmdliner fmt.cli fmt.tty logs.fmt asetmap' -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src/datakit -I src -o src/datakit/main.cmo src/datakit/main.ml
# + ocamlfind ocamlc -c -g -bin-annot -safe-string -thread -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'protocol-9p.unix camlzip' -package 'datakit-server.vfs datakit-server.fs9p' -package 'irmin.http cohttp.lwt irmin-watcher' -package 'git irmin irmin.git irmin.mem irmin-watcher' -package 'cmdliner fmt.cli fmt.tty logs.fmt asetmap' -package prometheus-app -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src/datakit -I src -o src/datakit/main.cmo src/datakit/main.ml
# File "src/datakit/main.ml", line 166, characters 27-47:
# Error: Unbound value Prometheus_app.serve
# Command exited with code 2.
# pkg.ml: [ERROR] cmd ['ocamlbuild' '-use-ocamlfind' '-tag' 'debug' '-Is' 'src,src/datakit'
#      '-build-dir' '_build' 'CHANGES.md' 'LICENSE.md' 'README.md' 'pkg/META'
#      'opam' 'src/datakit/ivfs.a' 'src/datakit/ivfs.cmxs'
#      'src/datakit/ivfs.cmxa' 'src/datakit/ivfs.cma' 'src/datakit/ivfs_rw.cmx'
#      'src/datakit/ivfs_rw.cmi' 'src/datakit/ivfs_rw.mli'
#      'src/datakit/ivfs_merge.cmx' 'src/datakit/ivfs_merge.cmi'
#      'src/datakit/ivfs_merge.mli' 'src/datakit/ivfs_blob.cmx'
#      'src/datakit/ivfs_blob.cmi' 'src/datakit/ivfs_blob.mli'
#      'src/datakit/ivfs_remote.cmx' 'src/datakit/ivfs_remote.cmi'
#      'src/datakit/ivfs_remote.mli' 'src/datakit/ivfs_tree.cmx'
#      'src/datakit/ivfs_tree.cmi' 'src/datakit/ivfs_tree.mli'
#      'src/datakit/ivfs.cmx' 'src/datakit/ivfs.cmi' 'src/datakit/ivfs.mli'
#      'src/datakit/main.native' 'src/datakit-client/mount.native']: exited with 10



=-=- Error report -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
+- The following actions failed
| - build datakit 0.8.0
+- 
+- The following changes have been performed
| - install alcotest      0.7.2         
| - install bin_prot      113.33.00+4.03
| - install camlzip       1.06          
| - install ezjsonm       0.4.3         
| - install git           1.9.3         
| - install git-unix      1.7.1         
| - install irmin         0.12.0        
| - install irmin-unix    0.12.0        
| - install irmin-watcher 0.2.0         
| - install jsonm         0.9.1         
| - install mirage-tc     0.3.0         
| - install mstruct       1.3.2         
| - install ocamlgraph    1.8.7         
+- 
# Run eval `opam config env` to update the current shell environment

The former state can be restored with:
    opam switch import "/home/opam/.opam/default/.opam-switch/backup/state-20170206150345.export"
[2017-02-06 15:04.30] Failed: Command "docker" "run" "--rm" "--entrypoint" "/bin/sh" "sha256:755eb2e024a7f342db2948abfbc1922cc35fe5f16505413de74ee960cb10ecfb" "-c" "opam remove -y \"datakit-ci\" && opam depext -i -y \"conf-autoconf\" \"conf-libpcre\"&& opam install -y -t --deps-only \"datakit-ci\" && opam install -y -v -t \"datakit-ci\"" exited with status 4
