=== Docker build Dockerfile.client
[2017-05-30 07:00.59] Starting...
Cloning into '/tmp/with_clonee74650c'...
done.
warning: remote HEAD refers to nonexistent ref, unable to checkout.

HEAD is now at 0bfdf55 Dockerfiles: use latest ocaml/opam-dev images to workaround a bug in opam2 update
[2017-05-30 07:08.37] Rewrite Dockerfile's first line to:
FROM ocaml/opam:alpine_ocaml-4.03.0
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 6.128 MBSending build context to Docker daemon 6.685 MBSending build context to Docker daemon 7.242 MBSending build context to Docker daemon 7.608 MB
Step 1/32 : FROM ocaml/opam:alpine_ocaml-4.03.0
 ---> 1254c1838b00
Step 2/32 : ENV OPAMERRLOGLEN 0 OPAMYES 1
 ---> Running in e5a153d265f8
 ---> f7fd64f0b2dd
Removing intermediate container e5a153d265f8
Step 3/32 : RUN opam depext -ui lwt alcotest conf-libev
 ---> Running in d558dd6c8099
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - libev-dev
#  - m4
The following command needs to be run through "sudo":
    apk update
fetch http://dl-cdn.alpinelinux.org/alpine/v3.5/main/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.5/community/x86_64/APKINDEX.tar.gz
v3.5.2-84-gf3deae790a [http://dl-cdn.alpinelinux.org/alpine/v3.5/main]
v3.5.2-81-gf4d50b1370 [http://dl-cdn.alpinelinux.org/alpine/v3.5/community]
OK: 7964 distinct packages available
# OS package update successful
The following command needs to be run through "sudo":
    apk add libev-dev m4
(1/3) Installing libev (4.22-r0)
(2/3) Installing libev-dev (4.22-r0)
(3/3) Installing m4 (1.4.17-r1)
Executing busybox-1.25.1-r0.trigger
OK: 582 MiB in 93 packages
# OS packages installation successful
# Now letting OPAM install the packages
The following actions will be performed:
  - install conf-m4    1                                        [required by ocamlfind]
  - install conf-libev 4-11      
  - install result     1.2                                      [required by alcotest, lwt]
  - install uchar      0.0.1                                    [required by fmt]
  - install ocamlfind  1.7.1                                    [required by alcotest, lwt]
  - install topkg      0.9.0                                    [required by alcotest]
  - install ppx_tools  5.0+4.03.0                               [required by lwt]
  - install base-bytes base                                     [required by cppo]
  - install cmdliner   1.0.0                                    [required by alcotest]
  - install astring    0.8.3                                    [required by alcotest]
  - install cppo       1.5.0                                    [required by lwt]
  - install fmt        0.8.3                                    [required by alcotest]
  - install lwt        3.0.0     
  - install alcotest   0.7.2     
===== 14 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[alcotest: http] Command started
[astring: http] Command started
[cmdliner: http] Command started
[astring: http] Command started
[astring.0.8.3] http://erratique.ch/software/astring/releases/astring-0.8.3.tbz downloaded
[cppo: http] Command started
[cmdliner: http] Command started
[cmdliner.1.0.0] http://erratique.ch/software/cmdliner/releases/cmdliner-1.0.0.tbz downloaded
[fmt: http] Command started
[fmt: http] Command started
[fmt.0.8.3] http://erratique.ch/software/fmt/releases/fmt-0.8.3.tbz downloaded
[lwt: http] Command started
[cppo: http] Command started
[cppo.1.5.0] https://github.com/mjambon/cppo/archive/v1.5.0.tar.gz downloaded
[ocamlfind: http] Command started
[alcotest: http] Command started
[alcotest.0.7.2] https://github.com/mirage/alcotest/releases/download/0.7.2/alcotest-0.7.2.tbz downloaded
[ppx_tools: http] Command started
[ocamlfind: http] Command started
[ocamlfind.1.7.1] http://download.camlcity.org/download/findlib-1.7.1.tar.gz downloaded
[result: http] Command started
[lwt: http] Command started
[lwt.3.0.0] https://github.com/ocsigen/lwt/archive/3.0.0.tar.gz downloaded
[topkg: http] Command started
[topkg: http] Command started
[topkg.0.9.0] http://erratique.ch/software/topkg/releases/topkg-0.9.0.tbz downloaded
[uchar: http] Command started
[result: http] Command started
[result.1.2] https://github.com/janestreet/result/archive/1.2.tar.gz downloaded
[ppx_tools: http] Command started
[ppx_tools.5.0+4.03.0] https://github.com/alainfrisch/ppx_tools/archive/5.0+4.03.0.tar.gz downloaded
[uchar: http] Command started
[uchar.0.0.1] https://github.com/ocaml/uchar/releases/download/v0.0.1/uchar-0.0.1.tbz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[conf-libev: sh] Command started
[conf-m4: sh echo | m4] Command started
[result: make] Command started
[uchar: ocaml] Command started
-> installed conf-m4.1
[ocamlfind: ./configure] Command started
[uchar: ocaml] Command started
-> installed conf-libev.4-11
-> installed result.1.2
-> installed uchar.0.0.1
[ocamlfind: make all] Command started
[ocamlfind: make opt] Command started
[ocamlfind: make install] Command started
-> installed ocamlfind.1.7.1
-> installed base-bytes.base
[cppo: make opt] Command started
[ppx_tools: make all] Command started
[topkg: ocaml build] Command started
[cppo: make ocamlbuild] Command started
[cppo: make install-lib] Command started
-> installed cppo.1.5.0
[ppx_tools: make install] Command started
-> installed ppx_tools.5.0+4.03.0
[lwt: make setup] Command started
-> installed topkg.0.9.0
[astring: ocaml build] Command started
[cmdliner: ocaml build] Command started
[lwt: ocaml setup.ml] Command started
-> installed astring.0.8.3
-> installed cmdliner.1.0.0
[fmt: ocaml build] Command started
-> installed fmt.0.8.3
[alcotest: ocaml build] Command started
-> installed alcotest.0.7.2
[lwt: make build] Command started
[lwt: make install] Command started
-> installed lwt.3.0.0
Done.

=-=- lwt.3.0.0 installed successfully -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
=> Lwt 3.0.0 made some minor breaking changes, announced in 2.7.0. See
     https://github.com/ocsigen/lwt/issues/308
 ---> d59e8ca42154
Removing intermediate container d558dd6c8099
Step 4/32 : RUN opam pin add git.dev --dev -n
 ---> Running in 771a1c6e054d
git is now git-pinned to https://github.com/mirage/ocaml-git.git

[git: git]
[git: git]
[git: git]
[git: git]
[git: git]
[git: git]
[git] https://github.com/mirage/ocaml-git.git updated
[git] Installing new package description from
https://github.com/mirage/ocaml-git.git

 ---> 154ccb55f604
Removing intermediate container 771a1c6e054d
Step 5/32 : RUN opam pin add git-http.dev --dev -n
 ---> Running in 783850b96fb4
git-http is now git-pinned to https://github.com/mirage/ocaml-git.git

[git-http: git]
[git-http: git]
[git-http: git]
[git-http: git]
[git-http: git]
[git-http: git]
[git-http] https://github.com/mirage/ocaml-git.git updated
[git-http] Installing new package description from
https://github.com/mirage/ocaml-git.git

 ---> c6668a847e65
Removing intermediate container 783850b96fb4
Step 6/32 : RUN opam pin add git-mirage.dev --dev -n
 ---> Running in 1d04e1cbf4a8
git-mirage is now git-pinned to https://github.com/mirage/ocaml-git.git

[git-mirage: git]
[git-mirage: git]
[git-mirage: git]
[git-mirage: git]
[git-mirage: git]
[git-mirage: git]
[git-mirage] https://github.com/mirage/ocaml-git.git updated
[git-mirage] Installing new package description from
https://github.com/mirage/ocaml-git.git

 ---> 15e3e541a433
Removing intermediate container 1d04e1cbf4a8
Step 7/32 : RUN opam pin add git-unix.dev --dev -n
 ---> Running in 4f046aaaf758
git-unix is now git-pinned to https://github.com/mirage/ocaml-git.git

[git-unix: git]
[git-unix: git]
[git-unix: git]
[git-unix: git]
[git-unix: git]
[git-unix: git]
[git-unix] https://github.com/mirage/ocaml-git.git updated
[git-unix] Installing new package description from
https://github.com/mirage/ocaml-git.git

 ---> 4180a74bb38a
Removing intermediate container 4f046aaaf758
Step 8/32 : RUN opam pin add irmin.dev --dev -n
 ---> Running in 1288a09b5a15
irmin is now git-pinned to https://github.com/mirage/irmin.git

[irmin: git]
[irmin: git]
[irmin: git]
[irmin: git]
[irmin: git]
[irmin: git]
[irmin] https://github.com/mirage/irmin.git updated
[irmin] Installing new package description from
https://github.com/mirage/irmin.git

 ---> 617f41aedcb4
Removing intermediate container 1288a09b5a15
Step 9/32 : RUN opam pin add irmin-fs.dev https://github.com/mirage/irmin.git -n
 ---> Running in b37d1f447844
Package irmin-fs does not exist, create as a NEW package ? [Y/n] y
irmin-fs is now git-pinned to https://github.com/mirage/irmin.git

[irmin-fs: git]
[irmin-fs: git]
[irmin-fs: git]
[irmin-fs: git]
[irmin-fs: git]
[irmin-fs: git]
[irmin-fs] https://github.com/mirage/irmin.git updated
[irmin-fs] Installing new package description from
https://github.com/mirage/irmin.git

 ---> de78449ce1c8
Removing intermediate container b37d1f447844
Step 10/32 : RUN opam pin add irmin-mem.dev https://github.com/mirage/irmin.git -n
 ---> Running in 7d30cdc1f995
Package irmin-mem does not exist, create as a NEW package ? [Y/n] y
irmin-mem is now git-pinned to https://github.com/mirage/irmin.git

[irmin-mem: git]
[irmin-mem: git]
[irmin-mem: git]
[irmin-mem: git]
[irmin-mem: git]
[irmin-mem: git]
[irmin-mem] https://github.com/mirage/irmin.git updated
[irmin-mem] Installing new package description from
https://github.com/mirage/irmin.git

 ---> f06262f5c546
Removing intermediate container 7d30cdc1f995
Step 11/32 : RUN opam pin add irmin-git.dev --dev -n
 ---> Running in 619467d65280
irmin-git is now git-pinned to https://github.com/mirage/irmin.git

[irmin-git: git]
[irmin-git: git]
[irmin-git: git]
[irmin-git: git]
[irmin-git: git]
[irmin-git: git]
[irmin-git] https://github.com/mirage/irmin.git updated
[irmin-git] Installing new package description from
https://github.com/mirage/irmin.git

 ---> ed87b8fb0f2f
Removing intermediate container 619467d65280
Step 12/32 : RUN opam pin add irmin-http.dev --dev -n
 ---> Running in e78f219f6b8d
irmin-http is now git-pinned to https://github.com/mirage/irmin.git

[irmin-http: git]
[irmin-http: git]
[irmin-http: git]
[irmin-http: git]
[irmin-http: git]
[irmin-http: git]
[irmin-http] https://github.com/mirage/irmin.git updated
[irmin-http] Installing new package description from
https://github.com/mirage/irmin.git

 ---> 511e8d138e25
Error removing intermediate container e78f219f6b8d: Driver aufs failed to remove root filesystem e78f219f6b8ddb16552351a8e6823f2dda9fa6c2fa9469055f4c426e4d21103b: rename /var/lib/docker/aufs/mnt/ffb1d2124da4ed273425b147c7f7806f1ee8020bb7f9a028215e04d1aab861d6 /var/lib/docker/aufs/mnt/ffb1d2124da4ed273425b147c7f7806f1ee8020bb7f9a028215e04d1aab861d6-removing: device or resource busy
Step 13/32 : RUN opam pin add irmin-mirage.dev --dev -n
 ---> Running in 1f1e539dd669
irmin-mirage is now git-pinned to https://github.com/mirage/irmin.git

[irmin-mirage: git]
[irmin-mirage: git]
[irmin-mirage: git]
[irmin-mirage: git]
[irmin-mirage: git]
[irmin-mirage: git]
[irmin-mirage] https://github.com/mirage/irmin.git updated
[irmin-mirage] Installing new package description from
https://github.com/mirage/irmin.git

 ---> 4470cf6dd652
Error removing intermediate container e78f219f6b8d: No such container: e78f219f6b8ddb16552351a8e6823f2dda9fa6c2fa9469055f4c426e4d21103b
Step 14/32 : RUN opam pin add irmin-unix.dev --dev -n
 ---> Running in f3cfecdf2433
irmin-unix is now git-pinned to https://github.com/mirage/irmin.git

[irmin-unix: git]
[irmin-unix: git]
[irmin-unix: git]
[irmin-unix: git]
[irmin-unix: git]
[irmin-unix: git]
[irmin-unix] https://github.com/mirage/irmin.git updated
[irmin-unix] Installing new package description from
https://github.com/mirage/irmin.git

 ---> 9197b2bbffc7
Error removing intermediate container e78f219f6b8d: No such container: e78f219f6b8ddb16552351a8e6823f2dda9fa6c2fa9469055f4c426e4d21103b
Step 15/32 : COPY datakit-client.opam /home/opam/src/datakit/datakit-client.opam
 ---> 714394890368
Removing intermediate container f3cfecdf2433
Removing intermediate container 8a9876c9cec5
Error removing intermediate container e78f219f6b8d: No such container: e78f219f6b8ddb16552351a8e6823f2dda9fa6c2fa9469055f4c426e4d21103b
Step 16/32 : RUN opam pin add datakit-client.dev /home/opam/src/datakit -n
 ---> Running in f0fd26318705
datakit-client is now path-pinned to /home/opam/src/datakit

[datakit-client: local]
[datakit-client] /home/opam/src/datakit/ synchronized
[datakit-client] Installing new package description from /home/opam/src/datakit

 ---> 2184dbcb954b
Removing intermediate container 1f1e539dd669
Removing intermediate container f0fd26318705
Error removing intermediate container e78f219f6b8d: No such container: e78f219f6b8ddb16552351a8e6823f2dda9fa6c2fa9469055f4c426e4d21103b
Step 17/32 : COPY datakit-client-9p.opam /home/opam/src/datakit/datakit-client-9p.opam
 ---> 6c7aec84548f
Error removing intermediate container e78f219f6b8d: No such container: e78f219f6b8ddb16552351a8e6823f2dda9fa6c2fa9469055f4c426e4d21103b
Step 18/32 : RUN opam pin add datakit-client-9p.dev /home/opam/src/datakit -n
 ---> Running in e1126ae560f4
Package datakit-client-9p does not exist, create as a NEW package ? [Y/n] y
datakit-client-9p is now path-pinned to /home/opam/src/datakit

[datakit-client-9p: local]
[datakit-client-9p] /home/opam/src/datakit/ synchronized
[datakit-client-9p] Installing new package description from
/home/opam/src/datakit

 ---> e158ca092e75
Error removing intermediate container e78f219f6b8d: No such container: e78f219f6b8ddb16552351a8e6823f2dda9fa6c2fa9469055f4c426e4d21103b
Step 19/32 : COPY datakit-client-git.opam /home/opam/src/datakit/datakit-client-git.opam
 ---> f3c04c4a6f40
Removing intermediate container e1126ae560f4
Removing intermediate container 4d9fb4cbda8a
Error removing intermediate container e78f219f6b8d: No such container: e78f219f6b8ddb16552351a8e6823f2dda9fa6c2fa9469055f4c426e4d21103b
Step 20/32 : RUN opam pin add datakit-client-git.dev /home/opam/src/datakit -n
 ---> Running in ad3386d8821a
Package datakit-client-git does not exist, create as a NEW package ? [Y/n] y
datakit-client-git is now path-pinned to /home/opam/src/datakit

[datakit-client-git: local]
[datakit-client-git] /home/opam/src/datakit/ synchronized
[datakit-client-git] Installing new package description from
/home/opam/src/datakit

 ---> cfed72bd2b02
Removing intermediate container e48a7566d52c
Removing intermediate container ad3386d8821a
Error removing intermediate container e78f219f6b8d: No such container: e78f219f6b8ddb16552351a8e6823f2dda9fa6c2fa9469055f4c426e4d21103b
Step 21/32 : RUN opam depext datakit-client datakit-client-9p datakit-client-git inotify
 ---> Running in b3d92a021c34
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - gmp-dev
#  - linux-headers
#  - m4
#  - ncurses-dev
#  - perl
#  - pkgconfig
m4
ncurses-dev
pkgconf
# The following new OS packages need to be installed: gmp-dev linux-headers perl
The following command needs to be run through "sudo":
    apk add gmp-dev linux-headers perl
(1/4) Installing libgmpxx (6.1.1-r0)
(2/4) Installing gmp-dev (6.1.1-r0)
(3/4) Installing linux-headers (4.4.6-r1)
(4/4) Installing perl (5.24.0-r0)
Executing busybox-1.25.1-r0.trigger
OK: 633 MiB in 97 packages
# OS packages installation successful
 ---> e65b48d642c8
Error removing intermediate container e78f219f6b8d: No such container: e78f219f6b8ddb16552351a8e6823f2dda9fa6c2fa9469055f4c426e4d21103b
Step 22/32 : RUN opam install datakit-client --deps
 ---> Running in 41aff0da333a

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: local] Command started
[datakit-client] /home/opam/src/datakit/ synchronized
The following actions will be performed:
  - install jbuilder                1.0+beta8
  - install ocplib-endian           1.0      
  - install sexplib                 v0.9.1   
  - install ocaml-migrate-parsetree 1.0      
  - install ppx_tools_versioned     5.0beta1 
  - install cstruct                 2.4.0    
===== 6 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[cstruct: http] Command started
[jbuilder: http] Command started
[ocaml-migrate-parsetree: http] Command started
[ocaml-migrate-parsetree: http] Command started
[ocaml-migrate-parsetree.1.0] https://github.com/let-def/ocaml-migrate-parsetree/archive/v1.0.tar.gz downloaded
[ocplib-endian: http] Command started
[jbuilder: http] Command started
[jbuilder.1.0+beta8] https://github.com/janestreet/jbuilder/archive/1.0+beta8.tar.gz downloaded
[ppx_tools_versioned: http] Command started
[cstruct: http] Command started
[cstruct.2.4.0] https://github.com/mirage/ocaml-cstruct/archive/v2.4.0.tar.gz downloaded
[sexplib: http] Command started
[ocplib-endian: http] Command started
[ocplib-endian.1.0] https://github.com/OCamlPro/ocplib-endian/archive/1.0.tar.gz downloaded
[sexplib: http] Command started
[sexplib.v0.9.1] https://github.com/janestreet/sexplib/archive/v0.9.1.tar.gz downloaded
[ppx_tools_versioned: http] Command started
[ppx_tools_versioned.5.0beta1] https://github.com/let-def/ppx_tools_versioned/archive/5.0beta1.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[jbuilder: ocaml bootstrap.ml] Command started
[ocplib-endian: ocaml setup.ml] Command started
[ocplib-endian: ocaml setup.ml] Command started
[jbuilder: ./boot.exe 4] Command started
[ocplib-endian: ocaml setup.ml] Command started
-> installed ocplib-endian.1.0
-> installed jbuilder.1.0+beta8
[ocaml-migrate-parsetree: jbuilder build] Command started
[sexplib: jbuilder build] Command started
-> installed sexplib.v0.9.1
-> installed ocaml-migrate-parsetree.1.0
[ppx_tools_versioned: make all] Command started
[ppx_tools_versioned: make install] Command started
-> installed ppx_tools_versioned.5.0beta1
[cstruct: ./configure] Command started
[cstruct: make] Command started
[cstruct: make install] Command started
[cstruct: make js-install] Command started
-> installed cstruct.2.4.0
Done.
 ---> 94139dc6757a
Removing intermediate container b3d92a021c34
Removing intermediate container 41aff0da333a
Error removing intermediate container e78f219f6b8d: No such container: e78f219f6b8ddb16552351a8e6823f2dda9fa6c2fa9469055f4c426e4d21103b
Step 23/32 : RUN opam install irmin-git irmin-watcher git-unix inotify     astring logs fmt cstruct protocol-9p-unix cmdliner     irmin-mem irmin-git alcotest
 ---> Running in 45b3698e71e5
[91m[ERROR] No package named protocol-9p-unix found.
[0mThe command '/bin/sh -c opam install irmin-git irmin-watcher git-unix inotify     astring logs fmt cstruct protocol-9p-unix cmdliner     irmin-mem irmin-git alcotest' returned a non-zero code: 66
[2017-05-30 07:11.24] Failed: Command "docker" "build" "-f" "Dockerfile.client" "." exited with status 66
