=== Docker build Dockerfile.client
[2017-05-18 00:20.38] Starting...
Cloning into '/tmp/with_clone3f421281'...
done.
warning: remote HEAD refers to nonexistent ref, unable to checkout.

HEAD is now at b9b9541 client: run tests in the CI
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 6.128 MBSending build context to Docker daemon 6.685 MBSending build context to Docker daemon 6.916 MB
Step 1/23 : FROM ocaml/opam@sha256:5a6371c3a9f43dcac9b700e9dffa81ade05a792d853772cdd6c92a15e3939820
sha256:5a6371c3a9f43dcac9b700e9dffa81ade05a792d853772cdd6c92a15e3939820: Pulling from ocaml/opam
Digest: sha256:5a6371c3a9f43dcac9b700e9dffa81ade05a792d853772cdd6c92a15e3939820
Status: Image is up to date for ocaml/opam@sha256:5a6371c3a9f43dcac9b700e9dffa81ade05a792d853772cdd6c92a15e3939820
 ---> d69406d7ecdf
Step 2/23 : RUN git -C /home/opam/opam-repository pull origin master && opam update
 ---> Using cache
 ---> 914cd1f594e0
Step 3/23 : ENV OPAMERRLOGLEN 0 OPAMYES 1
 ---> Using cache
 ---> ff1843c009cf
Step 4/23 : RUN opam depext -ui lwt alcotest conf-libev
 ---> Using cache
 ---> 8d3ad9ec3a8d
Step 5/23 : COPY datakit-client.opam /home/opam/src/datakit/datakit-client.opam
 ---> Using cache
 ---> 71e6c58174c0
Step 6/23 : RUN opam pin add datakit-client.dev /home/opam/src/datakit -n
 ---> Using cache
 ---> 9281d01e5d56
Step 7/23 : COPY datakit-client-9p.opam /home/opam/src/datakit/datakit-client-9p.opam
 ---> Using cache
 ---> 58a15fe4918e
Step 8/23 : RUN opam pin add datakit-client-9p.dev /home/opam/src/datakit -n
 ---> Using cache
 ---> 050a1d6ee9d6
Step 9/23 : RUN opam depext datakit-client datakit-client-9p &&     opam install datakit-client --deps
 ---> Using cache
 ---> 1ba40ec1347c
Step 10/23 : COPY . /home/opam/src/datakit
 ---> f8fb34bc3f6f
Removing intermediate container 3819f1c0b05f
Step 11/23 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in 504c846b4fbb
 ---> 2e5712d4ef03
Error removing intermediate container 504c846b4fbb: Driver aufs failed to remove root filesystem 504c846b4fbbe21f8da9ec24aab8b530554fdfc84e0d15253d2e400d915d0a25: rename /var/lib/docker/aufs/mnt/74ee672df56844ba5e3b5e63b84ad131e357e61ef86c544e1fd34e2b556e844c /var/lib/docker/aufs/mnt/74ee672df56844ba5e3b5e63b84ad131e357e61ef86c544e1fd34e2b556e844c-removing: device or resource busy
Step 12/23 : RUN cd /home/opam/src/datakit &&     scripts/watermark.sh &&     git status --porcelain
 ---> Running in 9f1ca0a0eabd
 M src/version.ml
 ---> edbd811043cc
Error removing intermediate container 504c846b4fbb: No such container: 504c846b4fbbe21f8da9ec24aab8b530554fdfc84e0d15253d2e400d915d0a25
Step 13/23 : RUN opam update datakit-client datakit-client-9p
 ---> Running in 866a62a9a6ba

=-=- Synchronizing development packages -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: local] Command started
[datakit-client-9p: local] Command started
[datakit-client-9p] /home/opam/src/datakit/ synchronized
[datakit-client] /home/opam/src/datakit/ synchronized
 ---> 69223102182e
Error removing intermediate container 504c846b4fbb: No such container: 504c846b4fbbe21f8da9ec24aab8b530554fdfc84e0d15253d2e400d915d0a25
Step 14/23 : RUN opam info datakit-client --raw
 ---> Running in 22c804fd5d04
opam-version: "1.2"
name: "datakit-client"
version: "dev"
maintainer: "thomas@gazagnaire.org"
authors: [
  "Thomas Leonard" "Magnus Skjegstad" "David Scott" "Thomas Gazagnaire"
]
homepage: "https://github.com/moby/datakit"
bug-reports: "https://github.com/moby/datakit/issues"
license: "Apache"
doc: "https://docker.github.io/datakit/"
dev-repo: "https://github.com/moby/datakit.git"
build: ["jbuilder" "build" "-p" name "-j" jobs]
depends: [
  "jbuilder" {build}
  "astring"
  "result"
  "fmt"
  "cstruct" {> "2.2.0"}
]
 ---> 94a1d5a8037b
Error removing intermediate container 22c804fd5d04: Driver aufs failed to remove root filesystem 22c804fd5d045b11b8c2c84275a5e24301b5d443e0a3ea770c27a2600cecf178: rename /var/lib/docker/aufs/mnt/d340f9e2acb9a91a9e844fc41059c5b0e416430460bf38409c11e821ad4be2ed /var/lib/docker/aufs/mnt/d340f9e2acb9a91a9e844fc41059c5b0e416430460bf38409c11e821ad4be2ed-removing: device or resource busy
Step 15/23 : RUN opam install datakit-client.dev -vv
 ---> Running in 55dca4db12de

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/system/packages.dev/datakit-client"
- sending incremental file list
- 
- sent 8,441 bytes  received 50 bytes  16,982.00 bytes/sec
- total size is 1,287,033  speedup is 151.58
[datakit-client] /home/opam/src/datakit/ already up-to-date
The following actions will be performed:
  - install datakit-client dev*

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/system/packages.dev/datakit-client"
- sending incremental file list
- 
- sent 8,441 bytes  received 50 bytes  16,982.00 bytes/sec
- total size is 1,287,033  speedup is 151.58
[datakit-client.dev] /home/opam/src/datakit/ already up-to-date

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: jbuilder build] Command started
+ jbuilder "build" "-p" "datakit-client" "-j" "4" (CWD=/home/opam/.opam/system/build/datakit-client.dev)
-     ocamldep api/ocaml/9p/mount/mount.depends.ocamldep-output
-     ocamldep api/ocaml/datakit_client.depends.ocamldep-output
-     ocamldep api/ocaml/datakit_client.dependsi.ocamldep-output
-       ocamlc api/ocaml/9p/mount/version.{cmi,cmo,cmt}
-       ocamlc api/ocaml/datakit_client.{cmi,cmti}
-       ocamlc api/ocaml/9p/mount/mount.{cmi,cmo,cmt}
-     ocamlopt api/ocaml/9p/mount/version.{cmx,o}
-       ocamlc api/ocaml/datakit_client.{cmo,cmt}
-     ocamlopt api/ocaml/9p/mount/mount.{cmx,o}
-       ocamlc api/ocaml/datakit_client.cma
-     ocamlopt api/ocaml/datakit_client.{cmx,o}
-     ocamlopt api/ocaml/datakit_client.{a,cmxa}
-     ocamlopt api/ocaml/datakit_client.cmxs
-     ocamlopt api/ocaml/9p/mount/mount.exe
+ install "-m" "0755" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/bin/datakit-mount" "/home/opam/.opam/system/bin/datakit-mount"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/lib/datakit-client/META" "/home/opam/.opam/system/lib/datakit-client/META"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/lib/datakit-client/opam" "/home/opam/.opam/system/lib/datakit-client/opam"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.cmi" "/home/opam/.opam/system/lib/datakit-client/datakit_client.cmi"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.cmx" "/home/opam/.opam/system/lib/datakit-client/datakit_client.cmx"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.cmt" "/home/opam/.opam/system/lib/datakit-client/datakit_client.cmt"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.cmti" "/home/opam/.opam/system/lib/datakit-client/datakit_client.cmti"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.mli" "/home/opam/.opam/system/lib/datakit-client/datakit_client.mli"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.cma" "/home/opam/.opam/system/lib/datakit-client/datakit_client.cma"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.cmxa" "/home/opam/.opam/system/lib/datakit-client/datakit_client.cmxa"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.a" "/home/opam/.opam/system/lib/datakit-client/datakit_client.a"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.cmxs" "/home/opam/.opam/system/lib/datakit-client/datakit_client.cmxs"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/doc/datakit-client/README.md" "/home/opam/.opam/system/doc/datakit-client/README.md"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/doc/datakit-client/LICENSE.md" "/home/opam/.opam/system/doc/datakit-client/LICENSE.md"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/doc/datakit-client/CHANGES.md" "/home/opam/.opam/system/doc/datakit-client/CHANGES.md"
-> installed datakit-client.dev
Done.
 ---> c970bb6b8eeb
Error removing intermediate container 504c846b4fbb: No such container: 504c846b4fbbe21f8da9ec24aab8b530554fdfc84e0d15253d2e400d915d0a25
Step 16/23 : RUN opam install datakit-client-9p --deps && opam install mtime ounit
 ---> Running in 78ed2a01bd25

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client-9p: local] Command started
[datakit-client-9p] /home/opam/src/datakit/ already up-to-date
The following actions will be performed:
  - install asetmap               0.8.1 
  - install ocb-stubblr           0.1.1 
  - install rresult               0.5.0 
  - install ocaml-compiler-libs   v0.9.0
  - install base                  v0.9.2
  - install logs                  0.6.2 
  - install ppx_deriving          4.1   
  - install mirage-flow           1.2.0 
  - install ppx_traverse_builtins v0.9.0
  - install win-error             0.2   
  - install io-page               1.6.1 
  - install mirage-device         1.0.0 
  - install prometheus            0.1   
  - install named-pipe            0.4.0 
  - install ppx_ast               v0.9.1
  - install stdio                 v0.9.0
  - install mirage-channel        3.0.0 
  - install mirage-kv             1.0.0 
  - install mirage-clock          1.2.0 
  - install ppx_core              v0.9.0
  - install mirage-kv-lwt         1.0.0 
  - install mirage-flow-lwt       1.2.0 
  - install ppx_optcomp           v0.9.0
  - install mirage-channel-lwt    3.0.0 
  - install ppx_driver            v0.9.1
  - install ppx_metaquot          v0.9.0
  - install ppx_type_conv         v0.9.0
  - install ppx_sexp_conv         v0.9.0
  - install protocol-9p           0.11.0
  - install protocol-9p-unix      0.11.0
===== 30 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[asetmap: http] Command started
[base: http] Command started
[io-page: http] Command started
[asetmap: http] Command started
[asetmap.0.8.1] http://erratique.ch/software/asetmap/releases/asetmap-0.8.1.tbz downloaded
[logs: http] Command started
[logs: http] Command started
[logs.0.6.2] http://erratique.ch/software/logs/releases/logs-0.6.2.tbz downloaded
[mirage-channel: http] Command started
[io-page: http] Command started
[io-page.1.6.1] https://github.com/mirage/io-page/archive/v1.6.1.tar.gz downloaded
[mirage-channel-lwt: http] Command started
[mirage-channel: http] Command started
[mirage-channel.3.0.0] https://github.com/mirage/mirage-channel/releases/download/v3.0.0/mirage-channel-3.0.0.tbz downloaded
[mirage-clock: http] Command started
[base: http] Command started
[base.v0.9.2] https://github.com/janestreet/base/archive/v0.9.2.tar.gz downloaded
[mirage-device: http] Command started
[mirage-clock: http] Command started
[mirage-clock.1.2.0] https://github.com/mirage/mirage-clock/releases/download/1.2.0/mirage-clock-1.2.0.tbz downloaded
[mirage-flow: http] Command started
[mirage-channel-lwt: http] Command started
[mirage-channel-lwt.3.0.0] https://github.com/mirage/mirage-channel/releases/download/v3.0.0/mirage-channel-lwt-3.0.0.tbz downloaded
[mirage-flow-lwt: http] Command started
[mirage-device: http] Command started
[mirage-device.1.0.0] https://github.com/mirage/mirage-device/releases/download/1.0.0/mirage-device-1.0.0.tbz downloaded
[mirage-kv: http] Command started
[mirage-kv: http] Command started
[mirage-kv.1.0.0] https://github.com/mirage/mirage-kv/releases/download/1.0.0/mirage-kv-1.0.0.tbz downloaded
[mirage-kv-lwt: http] Command started
[mirage-flow-lwt: http] Command started
[mirage-flow-lwt.1.2.0] https://github.com/mirage/mirage-flow/releases/download/1.2.0/mirage-flow-lwt-1.2.0.tbz downloaded
[named-pipe: http] Command started
[mirage-flow: http] Command started
[mirage-flow.1.2.0] https://github.com/mirage/mirage-flow/releases/download/1.2.0/mirage-flow-1.2.0.tbz downloaded
[ocaml-compiler-libs: http] Command started
[ocaml-compiler-libs: http] Command started
[ocaml-compiler-libs.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ocaml-compiler-libs-v0.9.0.tar.gz downloaded
[ocb-stubblr: http] Command started
[mirage-kv-lwt: http] Command started
[mirage-kv-lwt.1.0.0] https://github.com/mirage/mirage-kv/releases/download/1.0.0/mirage-kv-lwt-1.0.0.tbz downloaded
[ppx_ast: http] Command started
[named-pipe: http] Command started
[named-pipe.0.4.0] https://github.com/mirage/ocaml-named-pipe/releases/download/0.4.0/named-pipe-0.4.0.tbz downloaded
[ppx_core: http] Command started
[ocb-stubblr: http] Command started
[ocb-stubblr.0.1.1] https://github.com/pqwy/ocb-stubblr/releases/download/v0.1.1/ocb-stubblr-0.1.1.tbz downloaded
[ppx_deriving: http] Command started
[ppx_core: http] Command started
[ppx_core.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_core-v0.9.0.tar.gz downloaded
[ppx_driver: http] Command started
[ppx_ast: http] Command started
[ppx_ast.v0.9.1] https://github.com/janestreet/ppx_ast/archive/v0.9.1.tar.gz downloaded
[ppx_metaquot: http] Command started
[ppx_metaquot: http] Command started
[ppx_metaquot.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_metaquot-v0.9.0.tar.gz downloaded
[ppx_optcomp: http] Command started
[ppx_deriving: http] Command started
[ppx_deriving.4.1] https://github.com/whitequark/ppx_deriving/archive/v4.1.tar.gz downloaded
[ppx_sexp_conv: http] Command started
[ppx_driver: http] Command started
[ppx_driver.v0.9.1] https://github.com/janestreet/ppx_driver/archive/v0.9.1.tar.gz downloaded
[ppx_traverse_builtins: http] Command started
[ppx_optcomp: http] Command started
[ppx_optcomp.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_optcomp-v0.9.0.tar.gz downloaded
[ppx_type_conv: http] Command started
[ppx_sexp_conv: http] Command started
[ppx_sexp_conv.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_sexp_conv-v0.9.0.tar.gz downloaded
[prometheus: http] Command started
[ppx_traverse_builtins: http] Command started
[ppx_traverse_builtins.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_traverse_builtins-v0.9.0.tar.gz downloaded
[protocol-9p: http] Command started
[ppx_type_conv: http] Command started
[ppx_type_conv.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_type_conv-v0.9.0.tar.gz downloaded
[protocol-9p-unix: http] Command started
[prometheus: http] Command started
[prometheus.0.1] https://github.com/mirage/prometheus/releases/download/v0.1/prometheus-0.1.tbz downloaded
[rresult: http] Command started
[rresult: http] Command started
[rresult.0.5.0] http://erratique.ch/software/rresult/releases/rresult-0.5.0.tbz downloaded
[stdio: http] Command started
[protocol-9p: http] Command started
[protocol-9p.0.11.0] https://github.com/mirage/ocaml-9p/archive/v0.11.0.tar.gz downloaded
[win-error: http] Command started
[stdio: http] Command started
[stdio.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/stdio-v0.9.0.tar.gz downloaded
[protocol-9p-unix: http] Command started
[protocol-9p-unix.0.11.0] https://github.com/mirage/ocaml-9p/archive/v0.11.0.tar.gz downloaded
[win-error: http] Command started
[win-error.0.2] https://github.com/djs55/ocaml-win-error/archive/v0.2.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[asetmap: ocaml build] Command started
[base: jbuilder build] Command started
[io-page: ./configure] Command started
[logs: ocaml build] Command started
-> installed asetmap.0.8.1
[mirage-device: ocaml build] Command started
-> installed mirage-device.1.0.0
[mirage-clock: ocaml build] Command started
-> installed logs.0.6.2
[mirage-flow: ocaml build] Command started
-> installed mirage-clock.1.2.0
[mirage-kv: ocaml build] Command started
[io-page: make] Command started
-> installed mirage-flow.1.2.0
[mirage-channel: ocaml build] Command started
-> installed mirage-kv.1.0.0
[mirage-flow-lwt: ocaml build] Command started
-> installed mirage-channel.3.0.0
[mirage-kv-lwt: ocaml build] Command started
-> installed mirage-kv-lwt.1.0.0
[ocaml-compiler-libs: jbuilder build] Command started
-> installed mirage-flow-lwt.1.2.0
[ocb-stubblr: ocaml build] Command started
-> installed ocaml-compiler-libs.v0.9.0
[ppx_ast: jbuilder build] Command started
[io-page: make install] Command started
-> installed ocb-stubblr.0.1.1
[named-pipe: ocaml build] Command started
-> installed io-page.1.6.1
[mirage-channel-lwt: ocaml build] Command started
-> installed mirage-channel-lwt.3.0.0
[ppx_deriving: ocaml] Command started
-> installed named-pipe.0.4.0
[ppx_traverse_builtins: jbuilder build] Command started
-> installed ppx_traverse_builtins.v0.9.0
[prometheus: ocaml build] Command started
-> installed prometheus.0.1
[rresult: ocaml build] Command started
-> installed rresult.0.5.0
[win-error: make] Command started
-> installed base.v0.9.2
[stdio: jbuilder build] Command started
-> installed ppx_ast.v0.9.1
-> installed stdio.v0.9.0
[ppx_core: jbuilder build] Command started
[win-error: make install] Command started
-> installed ppx_deriving.4.1
-> installed win-error.0.2
-> installed ppx_core.v0.9.0
[ppx_optcomp: jbuilder build] Command started
-> installed ppx_optcomp.v0.9.0
[ppx_driver: jbuilder build] Command started
-> installed ppx_driver.v0.9.1
[ppx_metaquot: jbuilder build] Command started
-> installed ppx_metaquot.v0.9.0
[ppx_type_conv: jbuilder build] Command started
-> installed ppx_type_conv.v0.9.0
[ppx_sexp_conv: jbuilder build] Command started
-> installed ppx_sexp_conv.v0.9.0
[protocol-9p: jbuilder build] Command started
-> installed protocol-9p.0.11.0
[protocol-9p-unix: jbuilder build] Command started
-> installed protocol-9p-unix.0.11.0
Done.
The following actions will be performed:
  - install ounit 2.0.0
  - install mtime 0.8.4
===== 2 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[mtime: http] Command started
[ounit: http] Command started
[mtime: http] Command started
[mtime.0.8.4] http://erratique.ch/software/mtime/releases/mtime-0.8.4.tbz downloaded
[ounit: http] Command started
[ounit.2.0.0] http://forge.ocamlcore.org/frs/download.php/1258/ounit-2.0.0.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[mtime: ocaml build] Command started
[ounit: make build] Command started
-> installed mtime.0.8.4
[ounit: make install] Command started
-> installed ounit.2.0.0
Done.
 ---> 60020d6aeb1a
Removing intermediate container 78ed2a01bd25
Error removing intermediate container 504c846b4fbb: No such container: 504c846b4fbbe21f8da9ec24aab8b530554fdfc84e0d15253d2e400d915d0a25
Step 17/23 : RUN opam install datakit-client-9p -vv
 ---> Running in 97a9106c8dac

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client-9p: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/system/packages.dev/datakit-client-9p"
- sending incremental file list
- 
- sent 8,441 bytes  received 50 bytes  16,982.00 bytes/sec
- total size is 1,287,033  speedup is 151.58
[datakit-client-9p] /home/opam/src/datakit/ already up-to-date
The following actions will be performed:
  - install datakit-client-9p dev*

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client-9p: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/system/packages.dev/datakit-client-9p"
- sending incremental file list
- 
- sent 8,441 bytes  received 50 bytes  16,982.00 bytes/sec
- total size is 1,287,033  speedup is 151.58
[datakit-client-9p.dev] /home/opam/src/datakit/ already up-to-date

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client-9p: jbuilder build] Command started
+ jbuilder "build" "-p" "datakit-client-9p" "-j" "4" (CWD=/home/opam/.opam/system/build/datakit-client-9p.dev)
-     ocamldep api/ocaml/9p/datakit_client_9p.dependsi.ocamldep-output
-     ocamldep api/ocaml/9p/datakit_client_9p.depends.ocamldep-output
-       ocamlc api/ocaml/9p/datakit_client_9p.{cmi,cmti}
-       ocamlc api/ocaml/9p/datakit_client_9p.{cmo,cmt}
-       ocamlc api/ocaml/9p/datakit_client_9p.cma
-     ocamlopt api/ocaml/9p/datakit_client_9p.{cmx,o}
-     ocamlopt api/ocaml/9p/datakit_client_9p.{a,cmxa}
-     ocamlopt api/ocaml/9p/datakit_client_9p.cmxs
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client-9p.dev/_build/install/default/lib/datakit-client-9p/META" "/home/opam/.opam/system/lib/datakit-client-9p/META"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client-9p.dev/_build/install/default/lib/datakit-client-9p/opam" "/home/opam/.opam/system/lib/datakit-client-9p/opam"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client-9p.dev/_build/install/default/lib/datakit-client-9p/datakit_client_9p.cmi" "/home/opam/.opam/system/lib/datakit-client-9p/datakit_client_9p.cmi"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client-9p.dev/_build/install/default/lib/datakit-client-9p/datakit_client_9p.cmx" "/home/opam/.opam/system/lib/datakit-client-9p/datakit_client_9p.cmx"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client-9p.dev/_build/install/default/lib/datakit-client-9p/datakit_client_9p.cmt" "/home/opam/.opam/system/lib/datakit-client-9p/datakit_client_9p.cmt"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client-9p.dev/_build/install/default/lib/datakit-client-9p/datakit_client_9p.cmti" "/home/opam/.opam/system/lib/datakit-client-9p/datakit_client_9p.cmti"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client-9p.dev/_build/install/default/lib/datakit-client-9p/datakit_client_9p.mli" "/home/opam/.opam/system/lib/datakit-client-9p/datakit_client_9p.mli"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client-9p.dev/_build/install/default/lib/datakit-client-9p/datakit_client_9p.cma" "/home/opam/.opam/system/lib/datakit-client-9p/datakit_client_9p.cma"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client-9p.dev/_build/install/default/lib/datakit-client-9p/datakit_client_9p.cmxa" "/home/opam/.opam/system/lib/datakit-client-9p/datakit_client_9p.cmxa"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client-9p.dev/_build/install/default/lib/datakit-client-9p/datakit_client_9p.a" "/home/opam/.opam/system/lib/datakit-client-9p/datakit_client_9p.a"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client-9p.dev/_build/install/default/lib/datakit-client-9p/datakit_client_9p.cmxs" "/home/opam/.opam/system/lib/datakit-client-9p/datakit_client_9p.cmxs"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client-9p.dev/_build/install/default/doc/datakit-client-9p/README.md" "/home/opam/.opam/system/doc/datakit-client-9p/README.md"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client-9p.dev/_build/install/default/doc/datakit-client-9p/LICENSE.md" "/home/opam/.opam/system/doc/datakit-client-9p/LICENSE.md"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client-9p.dev/_build/install/default/doc/datakit-client-9p/CHANGES.md" "/home/opam/.opam/system/doc/datakit-client-9p/CHANGES.md"
-> installed datakit-client-9p.dev
Done.
 ---> 3c19d9a2cac8
Removing intermediate container 9f1ca0a0eabd
Removing intermediate container 866a62a9a6ba
Error removing intermediate container 22c804fd5d04: No such container: 22c804fd5d045b11b8c2c84275a5e24301b5d443e0a3ea770c27a2600cecf178
Step 18/23 : RUN opam pin add datakit-server.dev /home/opam/src/datakit -n
 ---> Running in 62519d6905e1
datakit-server is now path-pinned to /home/opam/src/datakit

[datakit-server: local]
[datakit-server] /home/opam/src/datakit/ synchronized
[datakit-server] Installing new package description from /home/opam/src/datakit

 ---> 9f9c913beaca
Removing intermediate container 62519d6905e1
Error removing intermediate container 22c804fd5d04: No such container: 22c804fd5d045b11b8c2c84275a5e24301b5d443e0a3ea770c27a2600cecf178
Step 19/23 : RUN opam pin add datakit-server-9p.dev /home/opam/src/datakit -n
 ---> Running in c13e42ab0844
Package datakit-server-9p does not exist, create as a NEW package ? [Y/n] y
datakit-server-9p is now path-pinned to /home/opam/src/datakit

[datakit-server-9p: local]
[datakit-server-9p] /home/opam/src/datakit/ synchronized
[datakit-server-9p] Installing new package description from
/home/opam/src/datakit

 ---> ef1eeae7ce2b
Removing intermediate container 97a9106c8dac
Error removing intermediate container 504c846b4fbb: No such container: 504c846b4fbbe21f8da9ec24aab8b530554fdfc84e0d15253d2e400d915d0a25
Step 20/23 : RUN opam install datakit-server-9p --deps
 ---> Running in 2b1f618494af

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-server-9p: local] Command started
[datakit-server-9p] /home/opam/src/datakit/ already up-to-date
The following actions will be performed:
  - install datakit-server dev*

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-server: local] Command started
[datakit-server.dev] /home/opam/src/datakit/ already up-to-date

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-server: jbuilder build] Command started
-> installed datakit-server.dev
Done.
 ---> da13e51aa29c
Error removing intermediate container 504c846b4fbb: No such container: 504c846b4fbbe21f8da9ec24aab8b530554fdfc84e0d15253d2e400d915d0a25
Step 21/23 : RUN opam install datakit-server -t -vv
 ---> Running in cd0fa4fdaafb

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-server: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/system/packages.dev/datakit-server"
- sending incremental file list
- 
- sent 8,441 bytes  received 50 bytes  16,982.00 bytes/sec
- total size is 1,287,033  speedup is 151.58
[datakit-server] /home/opam/src/datakit/ already up-to-date
[91m[NOTE] Package datakit-server is already installed (current version is dev).
[0m ---> 4cd88bb3077a
Removing intermediate container cd0fa4fdaafb
Error removing intermediate container 504c846b4fbb: No such container: 504c846b4fbbe21f8da9ec24aab8b530554fdfc84e0d15253d2e400d915d0a25
Step 22/23 : RUN sudo mkdir /data && sudo chown opam.nogroup /data && chmod 700 /data &&     sudo cp $(opam config exec -- which datakit-mount) /usr/bin/datakit-mount
 ---> Running in 6174bc5130aa
 ---> b31bc28dbdcc
Removing intermediate container 55dca4db12de
Removing intermediate container 6174bc5130aa
Error removing intermediate container 504c846b4fbb: No such container: 504c846b4fbbe21f8da9ec24aab8b530554fdfc84e0d15253d2e400d915d0a25
Step 23/23 : CMD bash -c "/usr/bin/datakit-mount -h $(getent hosts datakit | awk '{print $1}')";     bash
 ---> Running in 52e008f6ca6e
 ---> e40d45ff0dcb
Error removing intermediate container 22c804fd5d04: No such container: 22c804fd5d045b11b8c2c84275a5e24301b5d443e0a3ea770c27a2600cecf178
Successfully built e40d45ff0dcb
[2017-05-18 00:22.43] Success
