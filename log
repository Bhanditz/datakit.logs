=== Docker build Dockerfile.bridge-local-git
[2017-05-09 10:39.39] Starting...
Cloning into '/tmp/with_clone3ae55b54'...
done.
warning: remote HEAD refers to nonexistent ref, unable to checkout.

HEAD is now at ce52699 client/server: split the libraires between core API and 9p transport
[2017-05-09 10:39.39] Rewrite Dockerfile's first line to:
FROM sha256:f96c53344a5ea0b3a9e0bbad5f9c1b0928a845572090be4b27efb0b3dda89056
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 6.078 MB
Step 1/21 : FROM sha256:f96c53344a5ea0b3a9e0bbad5f9c1b0928a845572090be4b27efb0b3dda89056
 ---> f96c53344a5e
Step 2/21 : RUN opam pin add github --dev -n
 ---> Running in a0c93e912366
github is now git-pinned to https://github.com/mirage/ocaml-github.git

[github: git]
[github: git]
[github: git]
[github: git]
[github: git]
[github: git]
[github] https://github.com/mirage/ocaml-github.git updated

 ---> aa43dc155abd
Removing intermediate container a0c93e912366
Step 3/21 : RUN opam pin add datakit-github.dev /home/opam/src/datakit -n
 ---> Running in 58b6ac4c50e9
datakit-github is now path-pinned to /home/opam/src/datakit

[datakit-github: local]
[datakit-github] /home/opam/src/datakit/ synchronized
[datakit-github] Installing new package description from /home/opam/src/datakit

 ---> f3cb6d393bb4
Removing intermediate container 58b6ac4c50e9
Step 4/21 : RUN opam pin add irmin.1.1.0 -n https://github.com/mirage/irmin.git#89196ad17c53b02f333022a87ecc264ec8c06af0
 ---> Running in 86d4a64a0199
irmin is now git-pinned to https://github.com/mirage/irmin.git#89196ad17c53b02f333022a87ecc264ec8c06af0

[irmin: git]
[irmin: git]
[irmin: git]
[irmin: git]
[irmin: git]
[irmin: git]
[irmin: git]
[irmin: git]
[irmin] https://github.com/mirage/irmin.git#89196ad17c53b02f333022a87ecc264ec8c06af0 updated

 ---> 34e4a9abd7c0
Removing intermediate container 86d4a64a0199
Step 5/21 : RUN opam pin add irmin-git.1.1.0 -n https://github.com/mirage/irmin.git#89196ad17c53b02f333022a87ecc264ec8c06af0
 ---> Running in 7216e3775ebe
irmin-git is now git-pinned to https://github.com/mirage/irmin.git#89196ad17c53b02f333022a87ecc264ec8c06af0

[irmin-git: git]
[irmin-git: git]
[irmin-git: git]
[irmin-git: git]
[irmin-git: git]
[irmin-git: git]
[irmin-git: git]
[irmin-git: git]
[irmin-git] https://github.com/mirage/irmin.git#89196ad17c53b02f333022a87ecc264ec8c06af0 updated

 ---> 9f6072c27fc5
Removing intermediate container 7216e3775ebe
Step 6/21 : RUN opam pin add irmin-unix.1.1.0 -n https://github.com/mirage/irmin.git#89196ad17c53b02f333022a87ecc264ec8c06af0
 ---> Running in d6768174de2c
irmin-unix is now git-pinned to https://github.com/mirage/irmin.git#89196ad17c53b02f333022a87ecc264ec8c06af0

[irmin-unix: git]
[irmin-unix: git]
[irmin-unix: git]
[irmin-unix: git]
[irmin-unix: git]
[irmin-unix: git]
[irmin-unix: git]
[irmin-unix: git]
[irmin-unix] https://github.com/mirage/irmin.git#89196ad17c53b02f333022a87ecc264ec8c06af0 updated
[irmin-unix] Installing new package description from
https://github.com/mirage/irmin.git#89196ad17c53b02f333022a87ecc264ec8c06af0

 ---> d4ddb79ea1b5
Removing intermediate container d6768174de2c
Step 7/21 : RUN opam depext datakit-github && opam install datakit-github --deps
 ---> Running in c8f671912948
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - m4
m4
# All required OS packages found.

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-github: local] Command started
[datakit-github] /home/opam/src/datakit/ already up-to-date
The following actions will be performed:
  - install stringext             1.4.3 
  - install asetmap               0.8.1 
  - install ocaml-compiler-libs   v0.9.0
  - install base                  v0.9.2
  - install logs                  0.6.2 
  - install ppx_deriving          4.1   
  - install ppx_traverse_builtins v0.9.0
  - install re                    1.7.1 
  - install ppx_ast               v0.9.1
  - install stdio                 v0.9.0
  - install ppx_core              v0.9.0
  - install ppx_optcomp           v0.9.0
  - install ppx_driver            v0.9.1
  - install ppx_metaquot          v0.9.0
  - install ppx_type_conv         v0.9.0
  - install ppx_sexp_conv         v0.9.0
  - install uri                   1.9.2 
===== 17 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[asetmap: http] Command started
[base: http] Command started
[logs: http] Command started
[asetmap: http] Command started
[asetmap.0.8.1] http://erratique.ch/software/asetmap/releases/asetmap-0.8.1.tbz downloaded
[ocaml-compiler-libs: http] Command started
[logs: http] Command started
[logs.0.6.2] http://erratique.ch/software/logs/releases/logs-0.6.2.tbz downloaded
[ppx_ast: http] Command started
[ocaml-compiler-libs: http] Command started
[ocaml-compiler-libs.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ocaml-compiler-libs-v0.9.0.tar.gz downloaded
[ppx_core: http] Command started
[ppx_ast: http] Command started
[ppx_ast.v0.9.1] https://github.com/janestreet/ppx_ast/archive/v0.9.1.tar.gz downloaded
[ppx_deriving: http] Command started
[ppx_core: http] Command started
[ppx_core.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_core-v0.9.0.tar.gz downloaded
[ppx_driver: http] Command started
[base: http] Command started
[base.v0.9.2] https://github.com/janestreet/base/archive/v0.9.2.tar.gz downloaded
[ppx_metaquot: http] Command started
[ppx_metaquot: http] Command started
[ppx_metaquot.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_metaquot-v0.9.0.tar.gz downloaded
[ppx_optcomp: http] Command started
[ppx_driver: http] Command started
[ppx_driver.v0.9.1] https://github.com/janestreet/ppx_driver/archive/v0.9.1.tar.gz downloaded
[ppx_sexp_conv: http] Command started
[ppx_deriving: http] Command started
[ppx_deriving.4.1] https://github.com/whitequark/ppx_deriving/archive/v4.1.tar.gz downloaded
[ppx_traverse_builtins: http] Command started
[ppx_optcomp: http] Command started
[ppx_optcomp.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_optcomp-v0.9.0.tar.gz downloaded
[ppx_type_conv: http] Command started
[ppx_sexp_conv: http] Command started
[ppx_traverse_builtins: http] Command started
[ppx_sexp_conv.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_sexp_conv-v0.9.0.tar.gz downloaded
[re: http] Command started
[ppx_traverse_builtins.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_traverse_builtins-v0.9.0.tar.gz downloaded
[stdio: http] Command started
[ppx_type_conv: http] Command started
[ppx_type_conv.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_type_conv-v0.9.0.tar.gz downloaded
[stringext: http] Command started
[stdio: http] Command started
[stdio.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/stdio-v0.9.0.tar.gz downloaded
[uri: http] Command started
[re: http] Command started
[re.1.7.1] https://github.com/ocaml/ocaml-re/archive/1.7.1.tar.gz downloaded
[stringext: http] Command started
[stringext.1.4.3] https://github.com/rgrinberg/stringext/archive/v1.4.3.tar.gz downloaded
[uri: http] Command started
[uri.1.9.2] https://github.com/mirage/ocaml-uri/archive/v1.9.2.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[asetmap: ocaml build] Command started
[base: jbuilder build] Command started
[logs: ocaml build] Command started
[ocaml-compiler-libs: jbuilder build] Command started
-> installed asetmap.0.8.1
[ppx_deriving: ocaml] Command started
-> installed ocaml-compiler-libs.v0.9.0
[ppx_ast: jbuilder build] Command started
-> installed logs.0.6.2
[ppx_traverse_builtins: jbuilder build] Command started
-> installed ppx_traverse_builtins.v0.9.0
[re: ocaml setup.ml] Command started
[re: ocaml setup.ml] Command started
-> installed ppx_ast.v0.9.1
[stringext: ocaml setup.ml] Command started
-> installed ppx_deriving.4.1
[stringext: ocaml setup.ml] Command started
-> installed base.v0.9.2
[stdio: jbuilder build] Command started
[re: ocaml setup.ml] Command started
[stringext: ocaml setup.ml] Command started
-> installed stdio.v0.9.0
[ppx_core: jbuilder build] Command started
-> installed stringext.1.4.3
-> installed re.1.7.1
-> installed ppx_core.v0.9.0
[ppx_optcomp: jbuilder build] Command started
-> installed ppx_optcomp.v0.9.0
[ppx_driver: jbuilder build] Command started
-> installed ppx_driver.v0.9.1
[ppx_metaquot: jbuilder build] Command started
-> installed ppx_metaquot.v0.9.0
[ppx_type_conv: jbuilder build] Command started
-> installed ppx_type_conv.v0.9.0
[ppx_sexp_conv: jbuilder build] Command started
-> installed ppx_sexp_conv.v0.9.0
[uri: ocaml setup.ml] Command started
[uri: ocaml setup.ml] Command started
[uri: ocaml setup.ml] Command started
-> installed uri.1.9.2
Done.
 ---> 9d240809f79b
Removing intermediate container c8f671912948
Step 8/21 : COPY datakit-bridge-local-git.opam /home/opam/src/datakit/datakit-bridge-local-git.opam
 ---> d68ee2a2fbbc
Error removing intermediate container 68180df41759: Driver aufs failed to remove root filesystem 68180df41759e25aa6b27a905bb1e443ac2b52ad17c6bb224027a6a0a0f4b033: rename /var/lib/docker/aufs/mnt/088b4b52ea23dd074a1e8dd940cf20373227d779a863467a76fa4fb3806041bf /var/lib/docker/aufs/mnt/088b4b52ea23dd074a1e8dd940cf20373227d779a863467a76fa4fb3806041bf-removing: device or resource busy
Step 9/21 : RUN opam pin add datakit-bridge-local-git.dev /home/opam/src/datakit -n
 ---> Running in 10cffe86c3d9
datakit-bridge-local-git is now path-pinned to /home/opam/src/datakit

[datakit-bridge-local-git: local]
[datakit-bridge-local-git] /home/opam/src/datakit/ synchronized
[datakit-bridge-local-git] Installing new package description from
/home/opam/src/datakit

 ---> 38a2282e7a82
Error removing intermediate container 68180df41759: No such container: 68180df41759e25aa6b27a905bb1e443ac2b52ad17c6bb224027a6a0a0f4b033
Step 10/21 : RUN opam depext datakit-bridge-local-git && opam install datakit-bridge-local-git --deps
 ---> Running in 28b401a2f4cf
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - gmp-dev
#  - linux-headers
#  - m4
#  - ncurses-dev
#  - openssl-dev
#  - perl
#  - pkgconfig
#  - zlib-dev
m4
ncurses-dev
pkgconf
# The following new OS packages need to be installed: gmp-dev linux-headers openssl-dev perl zlib-dev
The following command needs to be run through "sudo":
    apk add gmp-dev linux-headers openssl-dev perl zlib-dev
(1/8) Installing libgmpxx (6.1.1-r0)
(2/8) Installing gmp-dev (6.1.1-r0)
(3/8) Installing linux-headers (4.4.6-r1)
(4/8) Installing zlib-dev (1.2.8-r2)
(5/8) Installing libcrypto1.0 (1.0.2k-r0)
(6/8) Installing libssl1.0 (1.0.2k-r0)
(7/8) Installing openssl-dev (1.0.2k-r0)
(8/8) Installing perl (5.24.0-r0)
Executing busybox-1.25.1-r0.trigger
OK: 654 MiB in 101 packages
# OS packages installation successful

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-bridge-local-git: local] Command started
[datakit-bridge-local-git] /home/opam/src/datakit/ already up-to-date
The following actions will be performed:
  - install conf-perl          1     
  - install camlzip            1.07  
  - install calendar           2.03.2
  - install mtime              0.8.4 
  - install ocb-stubblr        0.1.1 
  - install rresult            0.5.0 
  - install magic-mime         1.0.0 
  - install datakit-github     dev*  
  - install fieldslib          v0.9.0
  - install conf-gmp           1     
  - install io-page            1.6.1 
  - install ocamlgraph         1.8.7 
  - install uutf               1.0.1 
  - install mirage-no-solo5    1     
  - install crunch             2.0.0 
  - install ipaddr             2.7.2 
  - install mirage-flow        1.2.0 
  - install base64             2.1.2 
  - install prometheus         0.1   
  - install mstruct            1.3.2 
  - install dispatch           0.3.0 
  - install mirage-no-xen      1     
  - install win-error          0.2   
  - install hex                1.0.0 
  - install mirage-device      1.0.0 
  - install named-pipe         0.4.0 
  - install irmin-watcher      0.2.0 
  - install cpuid              0.1.1 
  - install ppx_fields_conv    v0.9.0
  - install zarith             1.4.1 
  - install jsonm              1.0.1 
  - install mirage-channel     3.0.0 
  - install git                1.10.0
  - install mirage-kv          1.0.0 
  - install mirage-clock       1.2.0 
  - install nocrypto           0.5.4 
  - install irmin              1.1.0*
  - install mirage-kv-lwt      1.0.0 
  - install mirage-flow-lwt    1.2.0 
  - install irmin-git          1.1.0*
  - install mirage-channel-lwt 3.0.0 
  - install conduit            0.15.3
  - install protocol-9p        0.11.0
  - install cohttp             0.22.0
  - install protocol-9p-unix   0.11.0
  - install webmachine         0.4.0 
  - install git-http           1.10.0
  - install irmin-http         1.0.0 
  - install git-unix           1.10.1
  - install irmin-unix         1.1.0*
===== 50 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[base64: http] Command started
[calendar: http] Command started
[camlzip: http] Command started
[calendar: http] Command started
[calendar.2.03.2] http://forge.ocamlcore.org/frs/download.php/915/calendar-2.03.2.tar.gz downloaded
[cohttp: http] Command started
[base64: http] Command started
[base64.2.1.2] https://github.com/mirage/ocaml-base64/releases/download/v2.1.2/base64-2.1.2.tbz downloaded
[conduit: http] Command started
[camlzip: http] Command started
[camlzip.1.07] https://github.com/xavierleroy/camlzip/archive/rel107.zip downloaded
[cpuid: http] Command started
[cohttp: http] Command started
[cohttp.0.22.0] https://github.com/mirage/ocaml-cohttp/archive/v0.22.0.tar.gz downloaded
[crunch: http] Command started
[conduit: http] Command started
[conduit.0.15.3] https://github.com/mirage/ocaml-conduit/archive/v0.15.3.tar.gz downloaded
[datakit-github: local] Command started
[datakit-github.dev] /home/opam/src/datakit/ already up-to-date
[dispatch: http] Command started
[cpuid: http] Command started
[cpuid.0.1.1] https://github.com/pqwy/cpuid/releases/download/v0.1.1/cpuid-0.1.1.tbz downloaded
[fieldslib: http] Command started
[fieldslib: http] Command started
[fieldslib.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/fieldslib-v0.9.0.tar.gz downloaded
[git: http] Command started
[crunch: http] Command started
[crunch.2.0.0] https://github.com/mirage/ocaml-crunch/releases/download/2.0.0/crunch-2.0.0.tbz downloaded
[git-http: http] Command started
[dispatch: http] Command started
[dispatch.0.3.0] https://github.com/inhabitedtype/ocaml-dispatch/archive/0.3.0.tar.gz downloaded
[git-unix: http] Command started
[git-http: http] Command started
[git-http.1.10.0] https://github.com/mirage/ocaml-git/releases/download/1.10.0/git-1.10.0.tbz downloaded
[hex: http] Command started
[git: http] Command started
[git.1.10.0] https://github.com/mirage/ocaml-git/releases/download/1.10.0/git-1.10.0.tbz downloaded
[io-page: http] Command started
[git-unix: http] Command started
[git-unix.1.10.1] https://github.com/mirage/ocaml-git/releases/download/1.10.1/git-1.10.1.tbz downloaded
[ipaddr: http] Command started
[hex: http] Command started
[hex.1.0.0] https://github.com/mirage/ocaml-hex/archive/1.0.0.tar.gz downloaded
[irmin: git] Command started
[irmin: git] Command started
[io-page: http] Command started
[io-page.1.6.1] https://github.com/mirage/io-page/archive/v1.6.1.tar.gz downloaded
[irmin-git: git] Command started
[irmin-git: git] Command started
[irmin: git] Command started
[irmin: git] Command started
[irmin] https://github.com/mirage/irmin.git#89196ad17c53b02f333022a87ecc264ec8c06af0 already up-to-date
[irmin-http: http] Command started
[irmin-git: git] Command started
[irmin-git: git] Command started
[irmin-git] https://github.com/mirage/irmin.git#89196ad17c53b02f333022a87ecc264ec8c06af0 already up-to-date
[irmin-unix: git] Command started
[ipaddr: http] Command started
[irmin-unix: git] Command started
[ipaddr.2.7.2] https://github.com/mirage/ocaml-ipaddr/releases/download/2.7.2/ipaddr-2.7.2.tbz downloaded
[irmin-watcher: http] Command started
[irmin-unix: git] Command started
[irmin-unix: git] Command started
[irmin-unix] https://github.com/mirage/irmin.git#89196ad17c53b02f333022a87ecc264ec8c06af0 already up-to-date
[jsonm: http] Command started
[jsonm: http] Command started
[jsonm.1.0.1] http://erratique.ch/software/jsonm/releases/jsonm-1.0.1.tbz downloaded
[magic-mime: http] Command started
[irmin-watcher: http] Command started
[irmin-watcher.0.2.0] https://github.com/samoht/irmin-watcher/releases/download/0.2.0/irmin-watcher-0.2.0.tbz downloaded
[mirage-channel: http] Command started
[irmin-http: http] Command started
[irmin-http.1.0.0] https://github.com/mirage/irmin/releases/download/1.0.0/irmin-1.0.0.tbz downloaded
[mirage-channel-lwt: http] Command started
[magic-mime: http] Command started
[magic-mime.1.0.0] https://github.com/mirage/ocaml-magic-mime/archive/v1.0.0.tar.gz downloaded
[mirage-clock: http] Command started
[mirage-channel: http] Command started
[mirage-channel.3.0.0] https://github.com/mirage/mirage-channel/releases/download/v3.0.0/mirage-channel-3.0.0.tbz downloaded
[mirage-device: http] Command started
[mirage-channel-lwt: http] Command started
[mirage-channel-lwt.3.0.0] https://github.com/mirage/mirage-channel/releases/download/v3.0.0/mirage-channel-lwt-3.0.0.tbz downloaded
[mirage-flow: http] Command started
[mirage-clock: http] Command started
[mirage-clock.1.2.0] https://github.com/mirage/mirage-clock/releases/download/1.2.0/mirage-clock-1.2.0.tbz downloaded
[mirage-flow-lwt: http] Command started
[mirage-device: http] Command started
[mirage-device.1.0.0] https://github.com/mirage/mirage-device/releases/download/1.0.0/mirage-device-1.0.0.tbz downloaded
[mirage-kv: http] Command started
[mirage-flow-lwt: http] Command started
[mirage-flow-lwt.1.2.0] https://github.com/mirage/mirage-flow/releases/download/1.2.0/mirage-flow-lwt-1.2.0.tbz downloaded
[mirage-kv-lwt: http] Command started
[mirage-flow: http] Command started
[mirage-flow.1.2.0] https://github.com/mirage/mirage-flow/releases/download/1.2.0/mirage-flow-1.2.0.tbz downloaded
[mstruct: http] Command started
[mirage-kv: http] Command started
[mirage-kv.1.0.0] https://github.com/mirage/mirage-kv/releases/download/1.0.0/mirage-kv-1.0.0.tbz downloaded
[mtime: http] Command started
[mtime: http] Command started
[mirage-kv-lwt: http] Command started
[mtime.0.8.4] http://erratique.ch/software/mtime/releases/mtime-0.8.4.tbz downloaded
[named-pipe: http] Command started
[mirage-kv-lwt.1.0.0] https://github.com/mirage/mirage-kv/releases/download/1.0.0/mirage-kv-lwt-1.0.0.tbz downloaded
[nocrypto: http] Command started
[mstruct: http] Command started
[mstruct.1.3.2] https://github.com/mirage/ocaml-mstruct/archive/1.3.2.tar.gz downloaded
[ocamlgraph: http] Command started
[ocamlgraph: http] Command started
[ocamlgraph.1.8.7] http://ocamlgraph.lri.fr/download/ocamlgraph-1.8.7.tar.gz downloaded
[ocb-stubblr: http] Command started
[named-pipe: http] Command started
[named-pipe.0.4.0] https://github.com/mirage/ocaml-named-pipe/releases/download/0.4.0/named-pipe-0.4.0.tbz downloaded
[ppx_fields_conv: http] Command started
[ocb-stubblr: http] Command started
[ocb-stubblr.0.1.1] https://github.com/pqwy/ocb-stubblr/releases/download/v0.1.1/ocb-stubblr-0.1.1.tbz downloaded
[prometheus: http] Command started
[ppx_fields_conv: http] Command started
[ppx_fields_conv.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_fields_conv-v0.9.0.tar.gz downloaded
[protocol-9p: http] Command started
[prometheus: http] Command started
[prometheus.0.1] https://github.com/mirage/prometheus/releases/download/v0.1/prometheus-0.1.tbz downloaded
[protocol-9p-unix: http] Command started
[protocol-9p: http] Command started
[protocol-9p.0.11.0] https://github.com/mirage/ocaml-9p/archive/v0.11.0.tar.gz downloaded
[rresult: http] Command started
[rresult: http] Command started
[rresult.0.5.0] http://erratique.ch/software/rresult/releases/rresult-0.5.0.tbz downloaded
[uutf: http] Command started
[uutf: http] Command started
[uutf.1.0.1] http://erratique.ch/software/uutf/releases/uutf-1.0.1.tbz downloaded
[webmachine: http] Command started
[protocol-9p-unix: http] Command started
[protocol-9p-unix.0.11.0] https://github.com/mirage/ocaml-9p/archive/v0.11.0.tar.gz downloaded
[win-error: http] Command started
[webmachine: http] Command started
[webmachine.0.4.0] https://github.com/inhabitedtype/ocaml-webmachine/archive/0.4.0.tar.gz downloaded
[zarith: http] Command started
[zarith: http] Command started
[zarith.1.4.1] https://forge.ocamlcore.org/frs/download.php/1574/zarith-1.4.1.tgz downloaded
[win-error: http] Command started
[win-error.0.2] https://github.com/djs55/ocaml-win-error/archive/v0.2.tar.gz downloaded
[nocrypto: http] Command started
[nocrypto.0.5.4] https://github.com/mirleft/ocaml-nocrypto/releases/download/v0.5.4/nocrypto-0.5.4.tbz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[base64: ocaml build] Command started
[calendar: ./configure] Command started
[camlzip: make all] Command started
[conf-gmp: sh] Command started
-> installed conf-gmp.1
[conf-perl: perl] Command started
-> installed conf-perl.1
[crunch: ocaml build] Command started
-> installed base64.2.1.2
[datakit-github: jbuilder build] Command started
[calendar: make] Command started
[camlzip: make allopt] Command started
[camlzip: make install-findlib] Command started
-> installed camlzip.1.07
[dispatch: ocaml setup.ml] Command started
-> installed crunch.2.0.0
[fieldslib: jbuilder build] Command started
-> installed datakit-github.dev
[hex: ./configure] Command started
-> installed fieldslib.v0.9.0
[io-page: ./configure] Command started
[calendar: make install] Command started
-> installed calendar.2.03.2
[ipaddr: ocaml build] Command started
[dispatch: ocaml setup.ml] Command started
[hex: make] Command started
[io-page: make] Command started
[dispatch: ocaml setup.ml] Command started
-> installed ipaddr.2.7.2
[magic-mime: ./configure] Command started
[hex: make install] Command started
-> installed dispatch.0.3.0
[mirage-device: ocaml build] Command started
[io-page: make install] Command started
[magic-mime: make] Command started
-> installed mirage-device.1.0.0
[mirage-clock: ocaml build] Command started
-> installed hex.1.0.0
[mirage-flow: ocaml build] Command started
-> installed mirage-clock.1.2.0
[mirage-kv: ocaml build] Command started
-> installed mirage-flow.1.2.0
[mirage-channel: ocaml build] Command started
-> installed mirage-kv.1.0.0
[mirage-flow-lwt: ocaml build] Command started
-> installed mirage-channel.3.0.0
[mirage-kv-lwt: ocaml build] Command started
-> installed io-page.1.6.1
-> installed mirage-no-solo5.1
-> installed mirage-no-xen.1
[mstruct: ./configure] Command started
-> installed mirage-kv-lwt.1.0.0
[mtime: ocaml build] Command started
-> installed mirage-flow-lwt.1.2.0
[conduit: ./configure] Command started
[conduit: make] Command started
-> installed mtime.0.8.4
[mirage-channel-lwt: ocaml build] Command started
[magic-mime: make install] Command started
[mstruct: make] Command started
-> installed mirage-channel-lwt.3.0.0
[ocamlgraph: touch] Command started
[ocamlgraph: ./configure] Command started
[ocamlgraph: make] Command started
-> installed magic-mime.1.0.0
[ocb-stubblr: ocaml build] Command started
-> installed ocb-stubblr.0.1.1
[cpuid: ocaml build] Command started
[mstruct: make install] Command started
-> installed cpuid.0.1.1
[irmin-watcher: ocaml build] Command started
-> installed mstruct.1.3.2
[named-pipe: ocaml build] Command started
[conduit: make install] Command started
-> installed irmin-watcher.0.2.0
[ppx_fields_conv: jbuilder build] Command started
-> installed conduit.0.15.3
[prometheus: ocaml build] Command started
-> installed prometheus.0.1
[rresult: ocaml build] Command started
-> installed named-pipe.0.4.0
[uutf: ocaml build] Command started
-> installed rresult.0.5.0
[win-error: make] Command started
-> installed ppx_fields_conv.v0.9.0
[cohttp: make] Command started
-> installed uutf.1.0.1
[jsonm: ocaml build] Command started
[ocamlgraph: make install-findlib] Command started
-> installed ocamlgraph.1.8.7
[git: ocaml build] Command started
-> installed jsonm.1.0.1
[irmin: ocaml build] Command started
[win-error: make install] Command started
-> installed win-error.0.2
[protocol-9p: jbuilder build] Command started
-> installed protocol-9p.0.11.0
[protocol-9p-unix: jbuilder build] Command started
-> installed git.1.10.0
[zarith: ./configure] Command started
[zarith: make] Command started
-> installed protocol-9p-unix.0.11.0
-> installed irmin.1.1.0
[irmin-git: ocaml build] Command started
[zarith: make install] Command started
-> installed zarith.1.4.1
[nocrypto: ocaml build] Command started
-> installed irmin-git.1.1.0
-> installed nocrypto.0.5.4
[cohttp: make install] Command started
-> installed cohttp.0.22.0
[git-http: ocaml build] Command started
[webmachine: ocaml setup.ml] Command started
-> installed git-http.1.10.0
[git-unix: ocaml build] Command started
[webmachine: ocaml setup.ml] Command started
-> installed git-unix.1.10.1
[webmachine: ocaml setup.ml] Command started
-> installed webmachine.0.4.0
[irmin-http: ocaml build] Command started
-> installed irmin-http.1.0.0
[irmin-unix: ocaml build] Command started
-> installed irmin-unix.1.1.0
Done.
 ---> 10fbc0b9bf8c
Removing intermediate container 28b401a2f4cf
Error removing intermediate container 68180df41759: No such container: 68180df41759e25aa6b27a905bb1e443ac2b52ad17c6bb224027a6a0a0f4b033
Step 11/21 : COPY . /home/opam/src/datakit/
 ---> 0b88fb7b93ec
Error removing intermediate container 68180df41759: No such container: 68180df41759e25aa6b27a905bb1e443ac2b52ad17c6bb224027a6a0a0f4b033
Step 12/21 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in 0ca4722140ac
 ---> a456c3c7b006
Removing intermediate container 0ca4722140ac
Error removing intermediate container 68180df41759: No such container: 68180df41759e25aa6b27a905bb1e443ac2b52ad17c6bb224027a6a0a0f4b033
Step 13/21 : RUN cd /home/opam/src/datakit &&     scripts/watermark.sh &&     git status --porcelain
 ---> Running in 9a0eb1f3f547
 M Dockerfile.bridge-local-git
 M src/version.ml
 ---> 03bf7234086e
Removing intermediate container 10cffe86c3d9
Removing intermediate container ba1c6070d779
Removing intermediate container 9a0eb1f3f547
Error removing intermediate container 68180df41759: No such container: 68180df41759e25aa6b27a905bb1e443ac2b52ad17c6bb224027a6a0a0f4b033
Step 14/21 : RUN opam update datakit-bridge-local-git
 ---> Running in 3b9b28a8aaab

=-=- Synchronizing development packages -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-bridge-local-git: local] Command started
[datakit-bridge-local-git] /home/opam/src/datakit/ synchronized
 ---> d4c4b8ecc4bf
Error removing intermediate container 68180df41759: No such container: 68180df41759e25aa6b27a905bb1e443ac2b52ad17c6bb224027a6a0a0f4b033
Step 15/21 : RUN opam install datakit-bridge-local-git -vv
 ---> Running in be458be3fd72

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-bridge-local-git: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/system/packages.dev/datakit-bridge-local-git"
- sending incremental file list
- 
- sent 8,505 bytes  received 50 bytes  17,110.00 bytes/sec
- total size is 1,277,008  speedup is 149.27
[datakit-bridge-local-git] /home/opam/src/datakit/ already up-to-date
The following actions will be performed:
  - install datakit-bridge-local-git dev*

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-bridge-local-git: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/system/packages.dev/datakit-bridge-local-git"
- sending incremental file list
- 
- sent 8,505 bytes  received 50 bytes  17,110.00 bytes/sec
- total size is 1,277,008  speedup is 149.27
[datakit-bridge-local-git.dev] /home/opam/src/datakit/ already up-to-date

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-bridge-local-git: jbuilder build] Command started
+ jbuilder "build" "-p" "datakit-bridge-local-git" "-j" "4" (CWD=/home/opam/.opam/system/build/datakit-bridge-local-git.dev)
- Error: Findlib package "datakit-client-9p" not found.
- -> required by "tests/datakit-bridge-github/jbuild (context default)"
- Hint: try: jbuilder external-lib-deps --missing -p datakit-bridge-local-git -j 4
[91m[ERROR] The compilation of datakit-bridge-local-git failed at "jbuilder build
        -p datakit-bridge-local-git -j 4".
[0m

=-=- Error report -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
The following actions failed
  - install datakit-bridge-local-git dev
No changes have been performed
[91m
#=== ERROR while installing datakit-bridge-local-git.dev ======================#
# opam-version         1.2.2
# os                   linux
# command              jbuilder build -p datakit-bridge-local-git -j 4
# path                 /home/opam/.opam/system/build/datakit-bridge-local-git.dev
# compiler             system (4.04.0)
# exit-code            1
# env-file             /home/opam/.opam/system/build/datakit-bridge-local-git.dev/datakit-bridge-local-git-7-1872ec.env
# stdout-file          /home/opam/.opam/system/build/datakit-bridge-local-git.dev/datakit-bridge-local-git-7-1872ec.out
# stderr-file          /home/opam/.opam/system/build/datakit-bridge-local-git.dev/datakit-bridge-local-git-7-1872ec.err
### stderr ###
# Error: Findlib package "datakit-client-9p" not found.
# -> required by "tests/datakit-bridge-github/jbuild (context default)"
# Hint: try: jbuilder external-lib-deps --missing -p datakit-bridge-local-git -j 4

[0m[91m'opam install datakit-bridge-local-git -vv' failed.
[0mThe command '/bin/sh -c opam install datakit-bridge-local-git -vv' returned a non-zero code: 4
[2017-05-09 10:42.49] Failed: Command "docker" "build" "-f" "Dockerfile.bridge-local-git" "." exited with status 4
