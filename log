=== Docker build Dockerfile.client
[2017-05-02 09:29.52] Starting...
Cloning into '/tmp/with_clone2a8ca478'...
done.
warning: remote HEAD refers to nonexistent ref, unable to checkout.

HEAD is now at 9d0f633 github: fix version bounds
[2017-05-02 09:30.01] Rewrite Dockerfile's first line to:
FROM ocaml/opam:alpine_ocaml-4.04.0
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.507 MB
Step 1/15 : FROM ocaml/opam:alpine_ocaml-4.04.0
alpine_ocaml-4.04.0: Pulling from ocaml/opam
627beaf3eaaf: Already exists
f0e9cd8b6c44: Already exists
e564e6e95df2: Already exists
62cad500f41f: Pulling fs layer
62cad500f41f: Pull complete
Digest: sha256:6d808029038c57c261de49b3bd1ff8a3b265e7f67e2bf46760c0d1dfa571a1a7
Status: Image is up to date for ocaml/opam:alpine_ocaml-4.04.0
 ---> 2e8c7e8b9fea
Step 2/15 : ENV OPAMERRLOGLEN 0 OPAMYES 1
 ---> Running in 51b50cfbdc45
 ---> 40331dbd5897
Removing intermediate container 51b50cfbdc45
Step 3/15 : RUN cd /home/opam/opam-repository && git pull && opam update -y
 ---> Running in 24eeab675920
[91mFrom git://github.com/ocaml/opam-repository
   a415e8219..fc6fc9dee  master     -> origin/master
[0mUpdating a415e8219..fc6fc9dee
Fast-forward
 compilers/4.06.0/4.06.0+pr1127/4.06.0+pr1127.comp  |  11 --
 compilers/4.06.0/4.06.0+pr1127/4.06.0+pr1127.descr |   1 -
 compilers/4.06.0/4.06.0+pr1155/4.06.0+pr1155.descr |   1 -
 .../4.06.0+pr1156.comp}                            |   2 +-
 compilers/4.06.0/4.06.0+pr1156/4.06.0+pr1156.descr |   1 +
 .../4.06.0+pr1157.comp}                            |   2 +-
 compilers/4.06.0/4.06.0+pr1157/4.06.0+pr1157.descr |   1 +
 compilers/4.06.0/4.06.0+pr406/4.06.0+pr406.descr   |   1 -
 packages/abt/abt.0.0.3/descr                       |   3 +
 packages/abt/abt.0.0.3/opam                        |  22 ++++
 packages/abt/abt.0.0.3/url                         |   2 +
 packages/aws-s3/aws-s3.0.9.0/descr                 |   4 +
 packages/aws-s3/aws-s3.0.9.0/findlib               |   1 +
 packages/aws-s3/aws-s3.0.9.0/opam                  |  29 +++++
 packages/aws-s3/aws-s3.0.9.0/url                   |   2 +
 packages/conduit/conduit.0.15.1/descr              |  15 +++
 packages/conduit/conduit.0.15.1/opam               |  52 ++++++++
 packages/conduit/conduit.0.15.1/url                |   2 +
 packages/flowtype/flowtype.0.45.0/descr            |  15 +++
 .../flowtype.0.45.0/files/flowtype.install         |   1 +
 packages/flowtype/flowtype.0.45.0/opam             |  29 +++++
 packages/flowtype/flowtype.0.45.0/url              |   2 +
 packages/github-hooks/github-hooks.0.1.2/descr     |  36 ++++++
 packages/github-hooks/github-hooks.0.1.2/opam      |  30 +++++
 packages/github-hooks/github-hooks.0.1.2/url       |   2 +
 packages/immutable/immutable.0.0.9/descr           |  11 ++
 packages/immutable/immutable.0.0.9/opam            |  14 ++
 packages/immutable/immutable.0.0.9/url             |   3 +
 packages/irmin-git/irmin-git.1.1.0/descr           |   4 +
 packages/irmin-git/irmin-git.1.1.0/opam            |  27 ++++
 packages/irmin-git/irmin-git.1.1.0/url             |   2 +
 packages/irmin-unix/irmin-unix.1.1.0/descr         |   5 +
 packages/irmin-unix/irmin-unix.1.1.0/opam          |  30 +++++
 packages/irmin-unix/irmin-unix.1.1.0/url           |   2 +
 packages/irmin/irmin.1.1.0/descr                   |   7 +
 packages/irmin/irmin.1.1.0/opam                    |  33 +++++
 packages/irmin/irmin.1.1.0/url                     |   2 +
 packages/lambda-term/lambda-term.1.11/descr        |  12 ++
 packages/lambda-term/lambda-term.1.11/opam         |  18 +++
 packages/lambda-term/lambda-term.1.11/url          |   2 +
 packages/liquidsoap/liquidsoap.1.3.0/descr         |   7 +
 .../liquidsoap.1.3.0/files/fix_4.05.patch          |  11 ++
 packages/liquidsoap/liquidsoap.1.3.0/opam          |  64 +++++++++
 packages/liquidsoap/liquidsoap.1.3.0/url           |   2 +
 packages/llvm/llvm.4.0.0/files/install.sh          |  42 ++++--
 packages/llvm/llvm.4.0.0/files/link-META.patch     | 143 +++++++++++++++++++++
 .../files/{dynamic-link.patch => link.patch}       |   5 +-
 packages/llvm/llvm.4.0.0/files/static-link.patch   |  12 --
 packages/llvm/llvm.4.0.0/opam                      |   3 -
 packages/ocp-build/ocp-build.1.99.19-beta/descr    |   6 +
 packages/ocp-build/ocp-build.1.99.19-beta/findlib  |   1 +
 packages/ocp-build/ocp-build.1.99.19-beta/opam     |  53 ++++++++
 packages/ocp-build/ocp-build.1.99.19-beta/url      |   2 +
 packages/owl/owl.0.2.4/descr                       |   2 +
 packages/owl/owl.0.2.4/files/owl.install           |   6 +
 packages/owl/owl.0.2.4/findlib                     |   1 +
 packages/owl/owl.0.2.4/opam                        |  35 +++++
 packages/owl/owl.0.2.4/url                         |   2 +
 packages/ppx_derivers/ppx_derivers.1.0/descr       |   5 +
 packages/ppx_derivers/ppx_derivers.1.0/opam        |  13 ++
 packages/ppx_derivers/ppx_derivers.1.0/url         |   2 +
 .../protocol-9p-tool/protocol-9p-tool.0.10.0/descr |   2 +
 .../protocol-9p-tool/protocol-9p-tool.0.10.0/opam  |  30 +++++
 .../protocol-9p-tool/protocol-9p-tool.0.10.0/url   |   2 +
 .../protocol-9p-unix/protocol-9p-unix.0.10.0/descr |   2 +
 .../protocol-9p-unix.0.10.0/findlib                |   1 +
 .../protocol-9p-unix/protocol-9p-unix.0.10.0/opam  |  43 +++++++
 .../protocol-9p-unix/protocol-9p-unix.0.10.0/url   |   2 +
 packages/protocol-9p/protocol-9p.0.10.0/descr      |  26 ++++
 packages/protocol-9p/protocol-9p.0.10.0/findlib    |   1 +
 packages/protocol-9p/protocol-9p.0.10.0/opam       |  42 ++++++
 packages/protocol-9p/protocol-9p.0.10.0/url        |   2 +
 packages/reason-parser/reason-parser.1.13.5/descr  |   7 +
 packages/reason-parser/reason-parser.1.13.5/opam   |  39 ++++++
 packages/reason-parser/reason-parser.1.13.5/url    |   3 +
 packages/reason/reason.1.13.5/descr                |   5 +
 packages/reason/reason.1.13.5/opam                 |  43 +++++++
 packages/reason/reason.1.13.5/url                  |   2 +
 packages/zed/zed.1.5/descr                         |  11 ++
 packages/zed/zed.1.5/opam                          |  17 +++
 packages/zed/zed.1.5/url                           |   2 +
 81 files changed, 1094 insertions(+), 44 deletions(-)
 delete mode 100644 compilers/4.06.0/4.06.0+pr1127/4.06.0+pr1127.comp
 delete mode 100644 compilers/4.06.0/4.06.0+pr1127/4.06.0+pr1127.descr
 delete mode 100644 compilers/4.06.0/4.06.0+pr1155/4.06.0+pr1155.descr
 rename compilers/4.06.0/{4.06.0+pr1155/4.06.0+pr1155.comp => 4.06.0+pr1156/4.06.0+pr1156.comp} (78%)
 create mode 100644 compilers/4.06.0/4.06.0+pr1156/4.06.0+pr1156.descr
 rename compilers/4.06.0/{4.06.0+pr406/4.06.0+pr406.comp => 4.06.0+pr1157/4.06.0+pr1157.comp} (79%)
 create mode 100644 compilers/4.06.0/4.06.0+pr1157/4.06.0+pr1157.descr
 delete mode 100644 compilers/4.06.0/4.06.0+pr406/4.06.0+pr406.descr
 create mode 100644 packages/abt/abt.0.0.3/descr
 create mode 100644 packages/abt/abt.0.0.3/opam
 create mode 100644 packages/abt/abt.0.0.3/url
 create mode 100644 packages/aws-s3/aws-s3.0.9.0/descr
 create mode 100644 packages/aws-s3/aws-s3.0.9.0/findlib
 create mode 100644 packages/aws-s3/aws-s3.0.9.0/opam
 create mode 100644 packages/aws-s3/aws-s3.0.9.0/url
 create mode 100644 packages/conduit/conduit.0.15.1/descr
 create mode 100644 packages/conduit/conduit.0.15.1/opam
 create mode 100644 packages/conduit/conduit.0.15.1/url
 create mode 100644 packages/flowtype/flowtype.0.45.0/descr
 create mode 100644 packages/flowtype/flowtype.0.45.0/files/flowtype.install
 create mode 100644 packages/flowtype/flowtype.0.45.0/opam
 create mode 100644 packages/flowtype/flowtype.0.45.0/url
 create mode 100644 packages/github-hooks/github-hooks.0.1.2/descr
 create mode 100644 packages/github-hooks/github-hooks.0.1.2/opam
 create mode 100644 packages/github-hooks/github-hooks.0.1.2/url
 create mode 100644 packages/immutable/immutable.0.0.9/descr
 create mode 100644 packages/immutable/immutable.0.0.9/opam
 create mode 100644 packages/immutable/immutable.0.0.9/url
 create mode 100644 packages/irmin-git/irmin-git.1.1.0/descr
 create mode 100644 packages/irmin-git/irmin-git.1.1.0/opam
 create mode 100644 packages/irmin-git/irmin-git.1.1.0/url
 create mode 100644 packages/irmin-unix/irmin-unix.1.1.0/descr
 create mode 100644 packages/irmin-unix/irmin-unix.1.1.0/opam
 create mode 100644 packages/irmin-unix/irmin-unix.1.1.0/url
 create mode 100644 packages/irmin/irmin.1.1.0/descr
 create mode 100644 packages/irmin/irmin.1.1.0/opam
 create mode 100644 packages/irmin/irmin.1.1.0/url
 create mode 100644 packages/lambda-term/lambda-term.1.11/descr
 create mode 100644 packages/lambda-term/lambda-term.1.11/opam
 create mode 100644 packages/lambda-term/lambda-term.1.11/url
 create mode 100644 packages/liquidsoap/liquidsoap.1.3.0/descr
 create mode 100644 packages/liquidsoap/liquidsoap.1.3.0/files/fix_4.05.patch
 create mode 100644 packages/liquidsoap/liquidsoap.1.3.0/opam
 create mode 100644 packages/liquidsoap/liquidsoap.1.3.0/url
 create mode 100644 packages/llvm/llvm.4.0.0/files/link-META.patch
 rename packages/llvm/llvm.4.0.0/files/{dynamic-link.patch => link.patch} (74%)
 delete mode 100644 packages/llvm/llvm.4.0.0/files/static-link.patch
 create mode 100644 packages/ocp-build/ocp-build.1.99.19-beta/descr
 create mode 100644 packages/ocp-build/ocp-build.1.99.19-beta/findlib
 create mode 100644 packages/ocp-build/ocp-build.1.99.19-beta/opam
 create mode 100644 packages/ocp-build/ocp-build.1.99.19-beta/url
 create mode 100644 packages/owl/owl.0.2.4/descr
 create mode 100644 packages/owl/owl.0.2.4/files/owl.install
 create mode 100644 packages/owl/owl.0.2.4/findlib
 create mode 100644 packages/owl/owl.0.2.4/opam
 create mode 100644 packages/owl/owl.0.2.4/url
 create mode 100644 packages/ppx_derivers/ppx_derivers.1.0/descr
 create mode 100644 packages/ppx_derivers/ppx_derivers.1.0/opam
 create mode 100644 packages/ppx_derivers/ppx_derivers.1.0/url
 create mode 100644 packages/protocol-9p-tool/protocol-9p-tool.0.10.0/descr
 create mode 100644 packages/protocol-9p-tool/protocol-9p-tool.0.10.0/opam
 create mode 100644 packages/protocol-9p-tool/protocol-9p-tool.0.10.0/url
 create mode 100644 packages/protocol-9p-unix/protocol-9p-unix.0.10.0/descr
 create mode 100644 packages/protocol-9p-unix/protocol-9p-unix.0.10.0/findlib
 create mode 100644 packages/protocol-9p-unix/protocol-9p-unix.0.10.0/opam
 create mode 100644 packages/protocol-9p-unix/protocol-9p-unix.0.10.0/url
 create mode 100644 packages/protocol-9p/protocol-9p.0.10.0/descr
 create mode 100644 packages/protocol-9p/protocol-9p.0.10.0/findlib
 create mode 100644 packages/protocol-9p/protocol-9p.0.10.0/opam
 create mode 100644 packages/protocol-9p/protocol-9p.0.10.0/url
 create mode 100644 packages/reason-parser/reason-parser.1.13.5/descr
 create mode 100644 packages/reason-parser/reason-parser.1.13.5/opam
 create mode 100644 packages/reason-parser/reason-parser.1.13.5/url
 create mode 100644 packages/reason/reason.1.13.5/descr
 create mode 100644 packages/reason/reason.1.13.5/opam
 create mode 100644 packages/reason/reason.1.13.5/url
 create mode 100644 packages/zed/zed.1.5/descr
 create mode 100644 packages/zed/zed.1.5/opam
 create mode 100644 packages/zed/zed.1.5/url

=-=- Updating package repositories =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[default: local] Command started
[default: local] Command started
[default: local] Command started
[default] /home/opam/opam-repository synchronized
 ---> ed644852aaf8
Error removing intermediate container 24eeab675920: Driver aufs failed to remove root filesystem 24eeab6759202466d749d90bd0a1ab708610c8db3a86220782784017d960902f: rename /var/lib/docker/aufs/mnt/e927c5adbd1b6642451d6dade39d1ccb3aa57a736679aa21e4c3b5cd870332c1 /var/lib/docker/aufs/mnt/e927c5adbd1b6642451d6dade39d1ccb3aa57a736679aa21e4c3b5cd870332c1-removing: device or resource busy
Step 4/15 : RUN opam depext -ui lwt alcotest conf-libev
 ---> Running in 1d1d390e7034
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - libev-dev
#  - m4
The following command needs to be run through "sudo":
    apk update
fetch http://dl-cdn.alpinelinux.org/alpine/v3.5/main/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.5/community/x86_64/APKINDEX.tar.gz
v3.5.2-70-gec9876f375 [http://dl-cdn.alpinelinux.org/alpine/v3.5/main]
v3.5.2-70-gec9876f375 [http://dl-cdn.alpinelinux.org/alpine/v3.5/community]
OK: 7963 distinct packages available
# OS package update successful
The following command needs to be run through "sudo":
    apk add libev-dev m4
(1/3) Installing libev (4.22-r0)
(2/3) Installing libev-dev (4.22-r0)
(3/3) Installing m4 (1.4.17-r1)
Executing busybox-1.25.1-r0.trigger
OK: 582 MiB in 93 packages
# OS packages installation successful
# Now letting OPAM install the packages
The following actions will be performed:
  - install conf-m4    1                                        [required by ocamlfind]
  - install conf-libev 4-11 
  - install result     1.2                                      [required by alcotest, lwt]
  - install uchar      0.0.1                                    [required by fmt]
  - install ocamlfind  1.7.1                                    [required by alcotest, lwt]
  - install topkg      0.9.0                                    [required by alcotest]
  - install ppx_tools  5.0                                      [required by lwt]
  - install base-bytes base                                     [required by cppo]
  - install cmdliner   1.0.0                                    [required by alcotest]
  - install astring    0.8.3                                    [required by alcotest]
  - install cppo       1.5.0                                    [required by lwt]
  - install fmt        0.8.3                                    [required by alcotest]
  - install lwt        3.0.0
  - install alcotest   0.7.2
===== 14 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[alcotest: http] Command started
[astring: http] Command started
[cmdliner: http] Command started
[astring: http] Command started
[astring.0.8.3] http://erratique.ch/software/astring/releases/astring-0.8.3.tbz downloaded
[cppo: http] Command started
[cmdliner: http] Command started
[cmdliner.1.0.0] http://erratique.ch/software/cmdliner/releases/cmdliner-1.0.0.tbz downloaded
[fmt: http] Command started
[fmt: http] Command started
[fmt.0.8.3] http://erratique.ch/software/fmt/releases/fmt-0.8.3.tbz downloaded
[lwt: http] Command started
[alcotest: http] Command started
[alcotest.0.7.2] https://github.com/mirage/alcotest/releases/download/0.7.2/alcotest-0.7.2.tbz downloaded
[ocamlfind: http] Command started
[ocamlfind: http] Command started
[ocamlfind.1.7.1] http://download.camlcity.org/download/findlib-1.7.1.tar.gz downloaded
[ppx_tools: http] Command started
[lwt: http] Command started
[lwt.3.0.0] https://github.com/ocsigen/lwt/archive/3.0.0.tar.gz downloaded
[result: http] Command started
[cppo: http] Command started
[cppo.1.5.0] https://github.com/mjambon/cppo/archive/v1.5.0.tar.gz downloaded
[topkg: http] Command started
[topkg: http] Command started
[topkg.0.9.0] http://erratique.ch/software/topkg/releases/topkg-0.9.0.tbz downloaded
[uchar: http] Command started
[result: http] Command started
[result.1.2] https://github.com/janestreet/result/archive/1.2.tar.gz downloaded
[ppx_tools: http] Command started
[ppx_tools.5.0] https://github.com/alainfrisch/ppx_tools/tarball/f70ca1d07d565989a0041e312e8efc00ff2ad87e downloaded
[uchar: http] Command started
[uchar.0.0.1] https://github.com/ocaml/uchar/releases/download/v0.0.1/uchar-0.0.1.tbz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[conf-libev: sh] Command started
[conf-m4: sh echo | m4] Command started
[result: make] Command started
[uchar: ocaml] Command started
-> installed conf-m4.1
[ocamlfind: ./configure] Command started
-> installed conf-libev.4-11
-> installed result.1.2
[uchar: ocaml] Command started
[ocamlfind: make all] Command started
-> installed uchar.0.0.1
[ocamlfind: make opt] Command started
[ocamlfind: make install] Command started
[ocamlfind: install 0755] Command started
-> installed ocamlfind.1.7.1
-> installed base-bytes.base
[cppo: make opt] Command started
[ppx_tools: make all] Command started
[topkg: ocaml build] Command started
[cppo: make ocamlbuild] Command started
[cppo: make install-lib] Command started
[ppx_tools: make install] Command started
-> installed ppx_tools.5.0
-> installed cppo.1.5.0
[lwt: make setup] Command started
[lwt: ocaml setup.ml] Command started
-> installed topkg.0.9.0
[astring: ocaml build] Command started
[cmdliner: ocaml build] Command started
[lwt: make build] Command started
-> installed astring.0.8.3
-> installed cmdliner.1.0.0
[fmt: ocaml build] Command started
-> installed fmt.0.8.3
[alcotest: ocaml build] Command started
-> installed alcotest.0.7.2
[lwt: make install] Command started
-> installed lwt.3.0.0
Done.

=-=- lwt.3.0.0 installed successfully -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
=> Lwt 3.0.0 made some minor breaking changes, announced in 2.7.0. See
     https://github.com/ocsigen/lwt/issues/308
 ---> 4e3f43f964c8
Error removing intermediate container 24eeab675920: No such container: 24eeab6759202466d749d90bd0a1ab708610c8db3a86220782784017d960902f
Step 5/15 : COPY datakit-client.opam /home/opam/src/datakit/datakit-client.opam
 ---> 967e3efb454b
Error removing intermediate container 24eeab675920: No such container: 24eeab6759202466d749d90bd0a1ab708610c8db3a86220782784017d960902f
Step 6/15 : RUN opam pin add datakit-client.dev /home/opam/src/datakit -n
 ---> Running in b7f141b2e9a2
datakit-client is now path-pinned to /home/opam/src/datakit

[datakit-client: local]
[datakit-client] /home/opam/src/datakit/ synchronized
[datakit-client] Installing new package description from /home/opam/src/datakit

 ---> 000d4caba6d7
Error removing intermediate container 24eeab675920: No such container: 24eeab6759202466d749d90bd0a1ab708610c8db3a86220782784017d960902f
Step 7/15 : RUN opam depext datakit-client &&     opam install datakit-client --deps
 ---> Running in d61d89993824
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - m4
#  - ncurses-dev
#  - pkgconfig
m4
ncurses-dev
pkgconf
# All required OS packages found.

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: local] Command started
[datakit-client] /home/opam/src/datakit/ already up-to-date
The following actions will be performed:
  - install   stringext               1.4.3         
  - install   jbuilder                1.0+beta8     
  - install   ocb-stubblr             0.1.1         
  - downgrade lwt                     3.0.0 to 2.7.1
  - install   rresult                 0.5.0         
  - install   ppx_deriving            4.1           
  - install   ocplib-endian           1.0           
  - install   re                      1.7.1         
  - install   mirage-flow             1.2.0         
  - install   win-error               0.2           
  - install   mirage-device           1.0.0         
  - install   sexplib                 v0.9.1        
  - install   ppx_traverse_builtins   v0.9.0        
  - install   ocaml-migrate-parsetree 1.0           
  - install   ocaml-compiler-libs     v0.9.0        
  - install   named-pipe              0.4.0         
  - install   logs                    0.6.2         
  - install   mirage-channel          3.0.0         
  - install   mirage-kv               1.0.0         
  - install   mirage-clock            1.2.0         
  - install   base                    v0.9.2        
  - install   ppx_tools_versioned     5.0beta1      
  - install   ppx_ast                 v0.9.1        
  - install   stdio                   v0.9.0        
  - install   cstruct                 2.4.0         
  - install   ppx_core                v0.9.0        
  - install   mirage-kv-lwt           1.0.0         
  - install   mirage-flow-lwt         1.2.0         
  - install   io-page                 1.6.1         
  - install   ppx_optcomp             v0.9.0        
  - install   mirage-channel-lwt      3.0.0         
  - install   ppx_driver              v0.9.1        
  - install   ppx_metaquot            v0.9.0        
  - install   ppx_type_conv           v0.9.0        
  - install   ppx_sexp_conv           v0.9.0        
  - install   uri                     1.9.2         
  - install   protocol-9p             0.9.0         
===== 36 to install | 1 to downgrade =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[base: http] Command started
[cstruct: http] Command started
[io-page: http] Command started
[io-page: http] Command started
[io-page.1.6.1] https://github.com/mirage/io-page/archive/v1.6.1.tar.gz downloaded
[jbuilder: http] Command started
[cstruct: http] Command started
[cstruct.2.4.0] https://github.com/mirage/ocaml-cstruct/archive/v2.4.0.tar.gz downloaded
[logs: http] Command started
[base: http] Command started
[base.v0.9.2] https://github.com/janestreet/base/archive/v0.9.2.tar.gz downloaded
[lwt: http] Command started
[logs: http] Command started
[logs.0.6.2] http://erratique.ch/software/logs/releases/logs-0.6.2.tbz downloaded
[mirage-channel: http] Command started
[jbuilder: http] Command started
[jbuilder.1.0+beta8] https://github.com/janestreet/jbuilder/archive/1.0+beta8.tar.gz downloaded
[mirage-channel-lwt: http] Command started
[mirage-channel: http] Command started
[mirage-channel.3.0.0] https://github.com/mirage/mirage-channel/releases/download/v3.0.0/mirage-channel-3.0.0.tbz downloaded
[mirage-clock: http] Command started
[lwt: http] Command started
[lwt.2.7.1] https://github.com/ocsigen/lwt/archive/2.7.1.tar.gz downloaded
[mirage-device: http] Command started
[mirage-device: http] Command started
[mirage-device.1.0.0] https://github.com/mirage/mirage-device/releases/download/1.0.0/mirage-device-1.0.0.tbz downloaded
[mirage-flow: http] Command started
[mirage-channel-lwt: http] Command started
[mirage-channel-lwt.3.0.0] https://github.com/mirage/mirage-channel/releases/download/v3.0.0/mirage-channel-lwt-3.0.0.tbz downloaded
[mirage-flow-lwt: http] Command started
[mirage-clock: http] Command started
[mirage-clock.1.2.0] https://github.com/mirage/mirage-clock/releases/download/1.2.0/mirage-clock-1.2.0.tbz downloaded
[mirage-kv: http] Command started
[mirage-flow: http] Command started
[mirage-flow.1.2.0] https://github.com/mirage/mirage-flow/releases/download/1.2.0/mirage-flow-1.2.0.tbz downloaded
[mirage-kv-lwt: http] Command started
[mirage-flow-lwt: http] Command started
[mirage-flow-lwt.1.2.0] https://github.com/mirage/mirage-flow/releases/download/1.2.0/mirage-flow-lwt-1.2.0.tbz downloaded
[named-pipe: http] Command started
[mirage-kv: http] Command started
[mirage-kv.1.0.0] https://github.com/mirage/mirage-kv/releases/download/1.0.0/mirage-kv-1.0.0.tbz downloaded
[ocaml-compiler-libs: http] Command started
[ocaml-compiler-libs: http] Command started
[ocaml-compiler-libs.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ocaml-compiler-libs-v0.9.0.tar.gz downloaded
[ocaml-migrate-parsetree: http] Command started
[named-pipe: http] Command started
[named-pipe.0.4.0] https://github.com/mirage/ocaml-named-pipe/releases/download/0.4.0/named-pipe-0.4.0.tbz downloaded
[ocb-stubblr: http] Command started
[mirage-kv-lwt: http] Command started
[mirage-kv-lwt.1.0.0] https://github.com/mirage/mirage-kv/releases/download/1.0.0/mirage-kv-lwt-1.0.0.tbz downloaded
[ocplib-endian: http] Command started
[ocb-stubblr: http] Command started
[ocb-stubblr.0.1.1] https://github.com/pqwy/ocb-stubblr/releases/download/v0.1.1/ocb-stubblr-0.1.1.tbz downloaded
[ppx_ast: http] Command started
[ocaml-migrate-parsetree: http] Command started
[ocaml-migrate-parsetree.1.0] https://github.com/let-def/ocaml-migrate-parsetree/archive/v1.0.tar.gz downloaded
[ppx_core: http] Command started
[ocplib-endian: http] Command started
[ocplib-endian.1.0] https://github.com/OCamlPro/ocplib-endian/archive/1.0.tar.gz downloaded
[ppx_deriving: http] Command started
[ppx_core: http] Command started
[ppx_core.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_core-v0.9.0.tar.gz downloaded
[ppx_driver: http] Command started
[ppx_ast: http] Command started
[ppx_ast.v0.9.1] https://github.com/janestreet/ppx_ast/archive/v0.9.1.tar.gz downloaded
[ppx_metaquot: http] Command started
[ppx_metaquot: http] Command started
[ppx_metaquot.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_metaquot-v0.9.0.tar.gz downloaded
[ppx_optcomp: http] Command started
[ppx_deriving: http] Command started
[ppx_deriving.4.1] https://github.com/whitequark/ppx_deriving/archive/v4.1.tar.gz downloaded
[ppx_sexp_conv: http] Command started
[ppx_driver: http] Command started
[ppx_driver.v0.9.1] https://github.com/janestreet/ppx_driver/archive/v0.9.1.tar.gz downloaded
[ppx_tools_versioned: http] Command started
[ppx_optcomp: http] Command started
[ppx_sexp_conv: http] Command started
[ppx_optcomp.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_optcomp-v0.9.0.tar.gz downloaded
[ppx_traverse_builtins: http] Command started
[ppx_sexp_conv.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_sexp_conv-v0.9.0.tar.gz downloaded
[ppx_type_conv: http] Command started
[ppx_traverse_builtins: http] Command started
[ppx_traverse_builtins.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_traverse_builtins-v0.9.0.tar.gz downloaded
[protocol-9p: http] Command started
[ppx_type_conv: http] Command started
[ppx_type_conv.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_type_conv-v0.9.0.tar.gz downloaded
[re: http] Command started
[ppx_tools_versioned: http] Command started
[ppx_tools_versioned.5.0beta1] https://github.com/let-def/ppx_tools_versioned/archive/5.0beta1.tar.gz downloaded
[rresult: http] Command started
[rresult: http] Command started
[rresult.0.5.0] http://erratique.ch/software/rresult/releases/rresult-0.5.0.tbz downloaded
[sexplib: http] Command started
[protocol-9p: http] Command started
[protocol-9p.0.9.0] https://github.com/mirage/ocaml-9p/archive/v0.9.0.tar.gz downloaded
[stdio: http] Command started
[sexplib: http] Command started
[sexplib.v0.9.1] https://github.com/janestreet/sexplib/archive/v0.9.1.tar.gz downloaded
[stringext: http] Command started
[re: http] Command started
[re.1.7.1] https://github.com/ocaml/ocaml-re/archive/1.7.1.tar.gz downloaded
[uri: http] Command started
[stdio: http] Command started
[stdio.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/stdio-v0.9.0.tar.gz downloaded
[win-error: http] Command started
[stringext: http] Command started
[stringext.1.4.3] https://github.com/rgrinberg/stringext/archive/v1.4.3.tar.gz downloaded
[uri: http] Command started
[uri.1.9.2] https://github.com/mirage/ocaml-uri/archive/v1.9.2.tar.gz downloaded
[win-error: http] Command started
[win-error.0.2] https://github.com/djs55/ocaml-win-error/archive/v0.2.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[lwt: ocamlfind remove] Command started
[jbuilder: ocaml bootstrap.ml] Command started
[mirage-device: ocaml build] Command started
[mirage-flow: ocaml build] Command started
-> removed   lwt.3.0.0
[lwt: make setup] Command started
-> installed mirage-device.1.0.0
[mirage-clock: ocaml build] Command started
-> installed mirage-flow.1.2.0
[mirage-channel: ocaml build] Command started
-> installed mirage-channel.3.0.0
[mirage-kv: ocaml build] Command started
-> installed mirage-clock.1.2.0
[ocb-stubblr: ocaml build] Command started
[lwt: ocaml setup.ml] Command started
-> installed mirage-kv.1.0.0
[ocplib-endian: ocaml setup.ml] Command started
-> installed ocb-stubblr.0.1.1
[ppx_deriving: ocaml] Command started
[jbuilder: ./boot.exe 4] Command started
[ocplib-endian: ocaml setup.ml] Command started
[lwt: make build] Command started
-> installed jbuilder.1.0+beta8
[ocaml-compiler-libs: jbuilder build] Command started
[ocplib-endian: ocaml setup.ml] Command started
-> installed ocaml-compiler-libs.v0.9.0
[ocaml-migrate-parsetree: jbuilder build] Command started
-> installed ocplib-endian.1.0
[ppx_traverse_builtins: jbuilder build] Command started
-> installed ppx_traverse_builtins.v0.9.0
[re: ocaml setup.ml] Command started
-> installed ppx_deriving.4.1
[rresult: ocaml build] Command started
[re: ocaml setup.ml] Command started
-> installed rresult.0.5.0
[sexplib: jbuilder build] Command started
-> installed sexplib.v0.9.1
[base: jbuilder build] Command started
-> installed ocaml-migrate-parsetree.1.0
[ppx_ast: jbuilder build] Command started
[re: ocaml setup.ml] Command started
-> installed re.1.7.1
[ppx_tools_versioned: make all] Command started
-> installed ppx_ast.v0.9.1
[stringext: ocaml setup.ml] Command started
[lwt: make install] Command started
-> installed lwt.2.7.1
[logs: ocaml build] Command started
[stringext: ocaml setup.ml] Command started
-> installed base.v0.9.2
[named-pipe: ocaml build] Command started
[ppx_tools_versioned: make install] Command started
-> installed logs.0.6.2
[stdio: jbuilder build] Command started
[stringext: ocaml setup.ml] Command started
-> installed ppx_tools_versioned.5.0beta1
[cstruct: ./configure] Command started
-> installed stdio.v0.9.0
[ppx_core: jbuilder build] Command started
-> installed named-pipe.0.4.0
[win-error: make] Command started
-> installed stringext.1.4.3
[cstruct: make] Command started
[win-error: make install] Command started
-> installed ppx_core.v0.9.0
[ppx_optcomp: jbuilder build] Command started
[cstruct: make install] Command started
-> installed win-error.0.2
-> installed ppx_optcomp.v0.9.0
[ppx_driver: jbuilder build] Command started
[cstruct: make js-install] Command started
-> installed cstruct.2.4.0
[io-page: ./configure] Command started
[mirage-flow-lwt: ocaml build] Command started
[mirage-kv-lwt: ocaml build] Command started
-> installed mirage-kv-lwt.1.0.0
-> installed mirage-flow-lwt.1.2.0
[io-page: make] Command started
-> installed ppx_driver.v0.9.1
[ppx_metaquot: jbuilder build] Command started
[io-page: make install] Command started
-> installed ppx_metaquot.v0.9.0
[ppx_type_conv: jbuilder build] Command started
-> installed io-page.1.6.1
[mirage-channel-lwt: ocaml build] Command started
-> installed mirage-channel-lwt.3.0.0
-> installed ppx_type_conv.v0.9.0
[ppx_sexp_conv: jbuilder build] Command started
-> installed ppx_sexp_conv.v0.9.0
[protocol-9p: ocaml build] Command started
[uri: ocaml setup.ml] Command started
[uri: ocaml setup.ml] Command started
[uri: ocaml setup.ml] Command started
-> installed uri.1.9.2
-> installed protocol-9p.0.9.0
Done.
 ---> 77a4e92e7312
Error removing intermediate container 24eeab675920: No such container: 24eeab6759202466d749d90bd0a1ab708610c8db3a86220782784017d960902f
Step 8/15 : COPY . /home/opam/src/datakit
 ---> a1a54e829802
Removing intermediate container 1d1d390e7034
Removing intermediate container e1988542b1b6
Removing intermediate container b7f141b2e9a2
Removing intermediate container d61d89993824
Removing intermediate container 001c6f5c99dc
Error removing intermediate container 24eeab675920: No such container: 24eeab6759202466d749d90bd0a1ab708610c8db3a86220782784017d960902f
Step 9/15 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in 7f8dd6cdd219
 ---> 74840aeeb3dc
Error removing intermediate container 24eeab675920: No such container: 24eeab6759202466d749d90bd0a1ab708610c8db3a86220782784017d960902f
Step 10/15 : RUN cd /home/opam/src/datakit &&     scripts/watermark.sh &&     git status --porcelain
 ---> Running in 654dcb490d79
 M Dockerfile.client
 M src/version.ml
 ---> 6262684e9966
Error removing intermediate container 24eeab675920: No such container: 24eeab6759202466d749d90bd0a1ab708610c8db3a86220782784017d960902f
Step 11/15 : RUN opam update datakit-client
 ---> Running in c692cfb440c2

=-=- Synchronizing development packages -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: local] Command started
[datakit-client] /home/opam/src/datakit/ synchronized

Updates available for system, apply them with 'opam upgrade':
===== 7 to recompile | 2 to upgrade =====
 ---> e6e94a25fc12
Removing intermediate container 7f8dd6cdd219
Removing intermediate container 654dcb490d79
Removing intermediate container c692cfb440c2
Error removing intermediate container 24eeab675920: No such container: 24eeab6759202466d749d90bd0a1ab708610c8db3a86220782784017d960902f
Step 12/15 : RUN opam info datakit-client --raw
 ---> Running in 1a7ab7946353
opam-version: "1.2"
name: "datakit-client"
version: "dev"
maintainer: "thomas@gazagnaire.org"
authors: [
  "Thomas Leonard" "Magnus Skjegstad" "David Scott" "Thomas Gazagnaire"
]
homepage: "https://github.com/moby/datakit"
bug-reports: "https://github.com/moby/datakit/issues"
license: "Apache"
doc: "https://docker.github.io/datakit/"
dev-repo: "https://github.com/moby/datakit.git"
build: ["jbuilder" "build" "-p" name "-j" jobs]
depends: [
  "jbuilder" {build}
  "base-bytes"
  "astring"
  "logs"
  "uri"
  "rresult"
  "fmt"
  "cstruct" {> "2.2.0"}
  "protocol-9p" {= "0.9.0"}
  "cmdliner"
]
 ---> 09bff8904835
Error removing intermediate container 24eeab675920: No such container: 24eeab6759202466d749d90bd0a1ab708610c8db3a86220782784017d960902f
Step 13/15 : RUN opam install datakit-client.dev -vv
 ---> Running in 60aca3531075

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/system/packages.dev/datakit-client"
- sending incremental file list
- 
- sent 8,055 bytes  received 46 bytes  16,202.00 bytes/sec
- total size is 1,250,294  speedup is 154.34
[datakit-client] /home/opam/src/datakit/ already up-to-date
The following actions will be performed:
  - install datakit-client dev*

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/system/packages.dev/datakit-client"
- sending incremental file list
- 
- sent 8,055 bytes  received 46 bytes  16,202.00 bytes/sec
- total size is 1,250,294  speedup is 154.34
[datakit-client.dev] /home/opam/src/datakit/ already up-to-date

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: jbuilder build] Command started
+ jbuilder "build" "-p" "datakit-client" "-j" "4" (CWD=/home/opam/.opam/system/build/datakit-client.dev)
-     ocamldep api/ocaml/datakit_client.dependsi.ocamldep-output
-     ocamldep api/ocaml/bin/mount.depends.ocamldep-output
-       ocamlc api/ocaml/bin/version.{cmi,cmo,cmt}
-     ocamldep api/ocaml/datakit_client.depends.ocamldep-output
-       ocamlc api/ocaml/datakit_path.{cmi,cmti}
-     ocamlopt api/ocaml/bin/version.{cmx,o}
-       ocamlc api/ocaml/bin/mount.{cmi,cmo,cmt}
-       ocamlc api/ocaml/datakit_path.{cmo,cmt}
-       ocamlc api/ocaml/datakit_S.{cmi,cmo,cmt}
-       ocamlc api/ocaml/datakit_client_9p.{cmi,cmti}
-     ocamlopt api/ocaml/bin/mount.{cmx,o}
-     ocamlopt api/ocaml/datakit_path.{cmx,o}
-       ocamlc api/ocaml/datakit_client_9p.{cmo,cmt}
-       ocamlc api/ocaml/datakit_client.cma
-     ocamlopt api/ocaml/datakit_S.{cmx,o}
-     ocamlopt api/ocaml/bin/mount.exe
-     ocamlopt api/ocaml/datakit_client_9p.{cmx,o}
-     ocamlopt api/ocaml/datakit_client.{a,cmxa}
-     ocamlopt api/ocaml/datakit_client.cmxs
+ install "-m" "0755" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/bin/datakit-mount" "/home/opam/.opam/system/bin/datakit-mount"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/lib/datakit-client/META" "/home/opam/.opam/system/lib/datakit-client/META"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/lib/datakit-client/opam" "/home/opam/.opam/system/lib/datakit-client/opam"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_S.cmi" "/home/opam/.opam/system/lib/datakit-client/datakit_S.cmi"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_S.cmx" "/home/opam/.opam/system/lib/datakit-client/datakit_S.cmx"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_S.cmt" "/home/opam/.opam/system/lib/datakit-client/datakit_S.cmt"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_S.ml" "/home/opam/.opam/system/lib/datakit-client/datakit_S.ml"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client_9p.cmi" "/home/opam/.opam/system/lib/datakit-client/datakit_client_9p.cmi"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client_9p.cmx" "/home/opam/.opam/system/lib/datakit-client/datakit_client_9p.cmx"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client_9p.cmt" "/home/opam/.opam/system/lib/datakit-client/datakit_client_9p.cmt"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client_9p.cmti" "/home/opam/.opam/system/lib/datakit-client/datakit_client_9p.cmti"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client_9p.mli" "/home/opam/.opam/system/lib/datakit-client/datakit_client_9p.mli"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_path.cmi" "/home/opam/.opam/system/lib/datakit-client/datakit_path.cmi"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_path.cmx" "/home/opam/.opam/system/lib/datakit-client/datakit_path.cmx"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_path.cmt" "/home/opam/.opam/system/lib/datakit-client/datakit_path.cmt"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_path.cmti" "/home/opam/.opam/system/lib/datakit-client/datakit_path.cmti"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_path.mli" "/home/opam/.opam/system/lib/datakit-client/datakit_path.mli"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.cma" "/home/opam/.opam/system/lib/datakit-client/datakit_client.cma"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.cmxa" "/home/opam/.opam/system/lib/datakit-client/datakit_client.cmxa"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.a" "/home/opam/.opam/system/lib/datakit-client/datakit_client.a"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.cmxs" "/home/opam/.opam/system/lib/datakit-client/datakit_client.cmxs"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/doc/datakit-client/README.md" "/home/opam/.opam/system/doc/datakit-client/README.md"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/doc/datakit-client/LICENSE.md" "/home/opam/.opam/system/doc/datakit-client/LICENSE.md"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-client.dev/_build/install/default/doc/datakit-client/CHANGES.md" "/home/opam/.opam/system/doc/datakit-client/CHANGES.md"
-> installed datakit-client.dev
Done.
 ---> 37b34e8c3158
Error removing intermediate container 24eeab675920: No such container: 24eeab6759202466d749d90bd0a1ab708610c8db3a86220782784017d960902f
Step 14/15 : RUN sudo mkdir /data && sudo chown opam.nogroup /data && chmod 700 /data &&     sudo cp $(opam config exec -- which datakit-mount) /usr/bin/datakit-mount
 ---> Running in 4fe49026e17d
 ---> 814a64d0cba9
Error removing intermediate container 24eeab675920: No such container: 24eeab6759202466d749d90bd0a1ab708610c8db3a86220782784017d960902f
Step 15/15 : CMD bash -c "/usr/bin/datakit-mount -h $(getent hosts datakit | awk '{print $1}')";     bash
 ---> Running in 41ff43d10a9d
 ---> a467df3eb78f
Error removing intermediate container 24eeab675920: No such container: 24eeab6759202466d749d90bd0a1ab708610c8db3a86220782784017d960902f
Successfully built a467df3eb78f
[2017-05-02 09:35.20] Success
