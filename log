=== Docker build Dockerfile.github
[2017-11-20 11:00.37] Starting...
Cloning into '/tmp/with_clone12699971'...
done.
warning: remote HEAD refers to nonexistent ref, unable to checkout.

HEAD is now at 5bfba93 Simplify Dockerfiles using new features from opam2
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 6.128 MBSending build context to Docker daemon 6.685 MBSending build context to Docker daemon 7.242 MBSending build context to Docker daemon 7.799 MBSending build context to Docker daemon 8.356 MBSending build context to Docker daemon 8.913 MBSending build context to Docker daemon 9.054 MB
Step 1/22 : FROM ocaml/opam-dev:alpine-3.5_ocaml-4.05.0
alpine-3.5_ocaml-4.05.0: Pulling from ocaml/opam-dev
Digest: sha256:c670cf0cecaeffc8ba4dec59bd89ba59c17de29a848b11156c2c241e9f8661a7
Status: Image is up to date for ocaml/opam-dev:alpine-3.5_ocaml-4.05.0
 ---> 58ba28296f15
Step 2/22 : RUN sudo apk add --no-cache tzdata aspcud gmp-dev perl libev-dev m4
 ---> Using cache
 ---> b60d3cbf57ba
Step 3/22 : RUN git -C /home/opam/opam-repository fetch origin &&     git -C /home/opam/opam-repository reset beba7fea --hard &&     opam update -u
 ---> Using cache
 ---> 31bf106271c0
Step 4/22 : ENV OPAMERRLOGLEN 0 OPAMYES 1
 ---> Using cache
 ---> cbdb481a8d8c
Step 5/22 : RUN opam install alcotest lwt conf-libev inotify
 ---> Using cache
 ---> b38c41380436
Step 6/22 : COPY check-libev.ml /tmp/check-libev.ml
 ---> Using cache
 ---> f2f25cb9cddb
Step 7/22 : RUN opam config exec -- ocaml /tmp/check-libev.ml
 ---> Using cache
 ---> 6f08bf93985b
Step 8/22 : COPY *.opam /home/opam/src/datakit/
 ---> Using cache
 ---> af90049d3d1c
Step 9/22 : RUN opam pin add /home/opam/src/datakit/ -n
 ---> Using cache
 ---> 6ebcaef1b363
Step 10/22 : RUN opam install datakit-bridge-github --deps -t
 ---> Running in dec03d441ed2

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-bridge-github.0.11.0] no changes from file:///home/opam/src/datakit

The following actions will be performed:
  - install conf-gmp              1          
  - install mirage-no-xen         1          
  - install ocaml-compiler-libs   v0.9.0     
  - install re                    1.7.1      
  - install rresult               0.5.0      
  - install mirage-flow           1.3.0      
  - install react                 1.2.1      
  - install mirage-device         1.1.0      
  - install ocb-stubblr           0.1.1      
  - install base-num              base       
  - install mtime                 1.1.0      
  - install cppo_ocamlbuild       1.6.0      
  - install stringext             1.5.0      
  - install mirage-no-solo5       1          
  - install magic-mime            1.1.0      
  - install menhir                20171013   
  - install win-error             0.2        
  - install octavius              1.1.0      
  - install decompress            0.7        
  - install fpath                 0.7.2      
  - install conf-perl             1          
  - install ocamlmod              0.0.9      
  - install ppx_tools             5.0+4.05.0 
  - install uutf                  1.0.1      
  - install ocamlgraph            1.8.8      
  - install logs                  0.6.2      
  - install asetmap               0.8.1      
  - install easy-format           1.3.0      
  - install ocplib-endian         1.0        
  - install duration              0.1.1      
  - install ppx_derivers          1.0        
  - install ocamlify              0.0.1      
  - install conf-which            1          
  - install camomile              0.8.7      
  - install ppx_traverse_builtins v0.9.0     
  - install base64                2.2.0      
  - install ptime                 0.8.3      
  - install ppx_ast               v0.9.1     
  - install mirage-channel        3.1.0      
  - install lwt_react             1.1.0      
  - install mirage-time           1.1.0      
  - install mirage-kv             1.1.1      
  - install mirage-clock          1.3.0      
  - install named-pipe            0.4.0      
  - install cpuid                 0.1.1      
  - install num                   0          
  - install zarith                1.7        
  - install jsonm                 1.0.1      
  - install win-eventlog          0.1        
  - install irmin-watcher         0.3.0      
  - install asl                   0.11       
  - install prometheus            0.4        
  - install atd                   1.12.0     
  - install ppx_deriving          4.2        
  - install oasis                 0.4.10     
  - install bos                   0.1.6      
  - install biniou                1.2.0      
  - install zed                   1.6        
  - install mirage-time-lwt       1.1.0      
  - install sexplib               v0.9.3     
  - install yojson                1.4.0      
  - install lambda-term           1.12.0     
  - install cstruct               3.1.1      
  - install base                  v0.9.4     
  - install atdgen                1.12.0     
  - install ppx_cstruct           3.2.0      
  - install mstruct               1.4.0      
  - install mirage-kv-lwt         1.1.0      
  - install mirage-flow-lwt       1.4.0      
  - install hex                   1.2.0      
  - install datakit-server        0.11.0*    
  - install datakit-client        0.11.0*    
  - install cstruct-lwt           3.2.0      
  - install asn1-combinators      0.1.3      
  - install stdio                 v0.9.1     
  - install hvsock                1.0.1      
  - install ppx_core              v0.9.0     
  - install ppx_optcomp           v0.9.0     
  - install ppx_driver            v0.9.1     
  - install ppx_metaquot          v0.9.0     
  - install fieldslib             v0.9.0     
  - install ppx_type_conv         v0.9.0     
  - install ppx_js_style          v0.9.0     
  - install ppx_sexp_conv         v0.9.0     
  - install ppx_fields_conv       v0.9.0     
  - install ppx_enumerate         v0.9.0     
  - install ppx_compare           v0.9.0     
  - install uri                   1.9.5      
  - install nocrypto              0.5.4      
  - install ipaddr                2.8.0      
  - install ppx_hash              v0.9.0     
  - install irmin                 1.3.0      
  - install git                   1.11.2     
  - install cohttp                0.99.0     
  - install x509                  0.5.3      
  - install conduit               1.0.0      
  - install ppx_base              v0.9.0     
  - install irmin-mem             1.3.0      
  - install irmin-git             1.3.0      
  - install tls                   0.8.0      
  - install conduit-lwt           1.0.0      
  - install cohttp-lwt            0.99.0     
  - install configurator          v0.9.1     
  - install conduit-lwt-unix      1.0.2      
  - install github                3.0.1      
  - install git-http              1.11.2     
  - install io-page               2.0.1      
  - install cohttp-lwt-unix       0.99.0     
  - install github-hooks          0.2.0      
  - install mirage-channel-lwt    3.1.0      
  - install io-page-unix          2.0.1      
  - install prometheus-app        0.4        
  - install github-unix           3.0.1      
  - install git-unix              1.11.2     
  - install protocol-9p           0.12.0     
  - install github-hooks-unix     0.2.0      
  - install datakit-client-git    0.11.0*    
  - install protocol-9p-unix      0.12.0     
  - install datakit-server-9p     0.11.0*    
  - install datakit-client-9p     0.11.0*    
  - install datakit               0.11.0*    
  - install datakit-github        0.11.0*    
===== 122 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[asetmap.0.8.1] downloaded from http://erratique.ch/software/asetmap/releases/asetmap-0.8.1.tbz
[asl.0.11] downloaded from https://github.com/mirage/ocaml-asl/releases/download/0.11/asl-0.11.tbz
[asn1-combinators.0.1.3] downloaded from https://github.com/mirleft/ocaml-asn1-combinators/releases/download/v0.1.3/asn1-combinators-0.1.3.tbz
[atd.1.12.0] downloaded from https://github.com/mjambon/atd/archive/v1.12.0.tar.gz
[atdgen.1.12.0] downloaded from https://github.com/mjambon/atd/archive/v1.12.0.tar.gz
[base.v0.9.4] downloaded from https://github.com/janestreet/base/archive/v0.9.4.tar.gz
[bos.0.1.6] downloaded from http://erratique.ch/software/bos/releases/bos-0.1.6.tbz
[base64.2.2.0] downloaded from https://github.com/mirage/ocaml-base64/releases/download/v2.2.0/base64-2.2.0.tbz
[biniou.1.2.0] downloaded from https://github.com/mjambon/biniou/archive/v1.2.0.tar.gz
[cohttp.0.99.0] downloaded from https://github.com/mirage/ocaml-cohttp/releases/download/v0.99.0/cohttp-0.99.0.tbz
[cohttp-lwt-unix.0.99.0] found in cache
[camomile.0.8.7] downloaded from https://github.com/yoriyuki/Camomile/archive/rel-0.8.7.tar.gz
[cohttp-lwt.0.99.0] downloaded from https://github.com/mirage/ocaml-cohttp/releases/download/v0.99.0/cohttp-0.99.0.tbz
[conduit.1.0.0] downloaded from https://github.com/mirage/ocaml-conduit/releases/download/v1.0.0/conduit-1.0.0.tbz
[conduit-lwt.1.0.0] downloaded from https://github.com/mirage/ocaml-conduit/releases/download/v1.0.0/conduit-1.0.0.tbz
[cppo_ocamlbuild.1.6.0] found in cache
[conduit-lwt-unix.1.0.2] downloaded from https://github.com/mirage/ocaml-conduit/releases/download/v1.0.2/conduit-1.0.2.tbz
[configurator.v0.9.1] downloaded from https://github.com/janestreet/configurator/archive/v0.9.1.tar.gz
[cpuid.0.1.1] downloaded from https://github.com/pqwy/cpuid/releases/download/v0.1.1/cpuid-0.1.1.tbz
[decompress.0.7] downloaded from https://github.com/mirage/decompress/releases/download/v0.7/decompress-0.7.tbz
[cstruct-lwt.3.2.0] downloaded from https://github.com/mirage/ocaml-cstruct/releases/download/v3.2.0/cstruct-3.2.0.tbz
[cstruct.3.1.1] downloaded from https://github.com/mirage/ocaml-cstruct/releases/download/v3.1.1/cstruct-3.1.1.tbz
[duration.0.1.1] downloaded from https://github.com/hannesm/duration/releases/download/0.1.1/duration-0.1.1.tbz
[fieldslib.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/fieldslib-v0.9.0.tar.gz
[fpath.0.7.2] downloaded from http://erratique.ch/software/fpath/releases/fpath-0.7.2.tbz
[easy-format.1.3.0] downloaded from https://github.com/mjambon/easy-format/archive/v1.3.0.tar.gz
[git.1.11.2] downloaded from https://github.com/mirage/ocaml-git/releases/download/1.11.2/git-1.11.2.tbz
[git-unix.1.11.2] downloaded from https://github.com/mirage/ocaml-git/releases/download/1.11.2/git-1.11.2.tbz
[github-hooks.0.2.0] downloaded from https://github.com/dsheets/ocaml-github-hooks/releases/download/0.2.0/github-hooks-0.2.0.tbz
[github-hooks-unix.0.2.0] found in cache
[git-http.1.11.2] downloaded from https://github.com/mirage/ocaml-git/releases/download/1.11.2/git-1.11.2.tbz
[github.3.0.1] downloaded from https://github.com/mirage/ocaml-github/releases/download/v3.0.1/github-3.0.1.tbz
[hex.1.2.0] downloaded from https://github.com/mirage/ocaml-hex/releases/download/v1.2.0/hex-1.2.0.tbz
[github-unix.3.0.1] downloaded from https://github.com/mirage/ocaml-github/archive/v3.0.1.tar.gz
[hvsock.1.0.1] downloaded from https://github.com/mirage/ocaml-hvsock/releases/download/1.0.1/hvsock-1.0.1.tbz
[io-page.2.0.1] downloaded from https://github.com/mirage/io-page/releases/download/2.0.1/io-page-2.0.1.tbz
[io-page-unix.2.0.1] downloaded from https://github.com/mirage/io-page/releases/download/2.0.1/io-page-2.0.1.tbz
[ipaddr.2.8.0] downloaded from https://github.com/mirage/ocaml-ipaddr/releases/download/2.8.0/ipaddr-2.8.0.tbz
[irmin.1.3.0] downloaded from https://github.com/mirage/irmin/releases/download/1.3.0/irmin-1.3.0.tbz
[irmin-git.1.3.0] downloaded from https://github.com/mirage/irmin/releases/download/1.3.0/irmin-1.3.0.tbz
[jsonm.1.0.1] downloaded from http://erratique.ch/software/jsonm/releases/jsonm-1.0.1.tbz
[irmin-mem.1.3.0] downloaded from https://github.com/mirage/irmin/releases/download/1.3.0/irmin-1.3.0.tbz
[logs.0.6.2] downloaded from http://erratique.ch/software/logs/releases/logs-0.6.2.tbz
[lwt_react.1.1.0] found in cache
[irmin-watcher.0.3.0] downloaded from https://github.com/mirage/irmin-watcher/releases/download/0.3.0/irmin-watcher-0.3.0.tbz
[menhir.20171013] downloaded from http://gallium.inria.fr/~fpottier/menhir/menhir-20171013.tar.gz
[magic-mime.1.1.0] downloaded from https://github.com/mirage/ocaml-magic-mime/releases/download/v1.1.0/magic-mime-1.1.0.tbz
[lambda-term.1.12.0] downloaded from https://github.com/diml/lambda-term/releases/download/1.12.0/lambda-term-1.12.0.tbz
[mirage-channel.3.1.0] downloaded from https://github.com/mirage/mirage-channel/releases/download/v3.1.0/mirage-channel-3.1.0.tbz
[mirage-channel-lwt.3.1.0] downloaded from https://github.com/mirage/mirage-channel/releases/download/v3.1.0/mirage-channel-3.1.0.tbz
[mirage-device.1.1.0] downloaded from https://github.com/mirage/mirage-device/releases/download/v1.1.0/mirage-device-1.1.0.tbz
[mirage-flow.1.3.0] downloaded from https://github.com/mirage/mirage-flow/releases/download/v1.3.0/mirage-flow-1.3.0.tbz
[mirage-clock.1.3.0] downloaded from https://github.com/mirage/mirage-clock/releases/download/v1.3.0/mirage-clock-1.3.0.tbz
[mirage-flow-lwt.1.4.0] downloaded from https://github.com/mirage/mirage-flow/releases/download/v1.4.0/mirage-flow-1.4.0.tbz
[mirage-kv.1.1.1] downloaded from https://github.com/mirage/mirage-kv/releases/download/v1.1.1/mirage-kv-1.1.1.tbz
[mirage-kv-lwt.1.1.0] downloaded from https://github.com/mirage/mirage-kv/releases/download/v1.1.0/mirage-kv-1.1.0.tbz
[mirage-time.1.1.0] downloaded from https://github.com/mirage/mirage-time/releases/download/v1.1.0/mirage-time-1.1.0.tbz
[mtime.1.1.0] downloaded from http://erratique.ch/software/mtime/releases/mtime-1.1.0.tbz
[mirage-time-lwt.1.1.0] downloaded from https://github.com/mirage/mirage-time/releases/download/v1.1.0/mirage-time-1.1.0.tbz
[mstruct.1.4.0] downloaded from https://github.com/mirage/ocaml-mstruct/releases/download/v1.4.0/mstruct-1.4.0.tbz
[oasis.0.4.10] downloaded from https://forge.ocamlcore.org/frs/download.php/1694/oasis-0.4.10.tar.gz
[named-pipe.0.4.0] downloaded from https://github.com/mirage/ocaml-named-pipe/releases/download/0.4.0/named-pipe-0.4.0.tbz
[ocamlgraph.1.8.8] downloaded from http://ocamlgraph.lri.fr/download/ocamlgraph-1.8.8.tar.gz
[ocaml-compiler-libs.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ocaml-compiler-libs-v0.9.0.tar.gz
[ocamlify.0.0.1] downloaded from http://forge.ocamlcore.org/frs/download.php/379/ocamlify-0.0.1.tar.gz
[ocamlmod.0.0.9] downloaded from https://forge.ocamlcore.org/frs/download.php/1702/ocamlmod-0.0.9.tar.gz
[ocplib-endian.1.0] downloaded from https://github.com/OCamlPro/ocplib-endian/archive/1.0.tar.gz
[ocb-stubblr.0.1.1] downloaded from https://github.com/pqwy/ocb-stubblr/releases/download/v0.1.1/ocb-stubblr-0.1.1.tbz
[octavius.1.1.0] downloaded from http://github.com/ocaml-doc/octavius/releases/download/v1.1.0/octavius-1.1.0.tbz
[ppx_ast.v0.9.1] downloaded from https://github.com/janestreet/ppx_ast/archive/v0.9.1.tar.gz
[ppx_base.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_base-v0.9.0.tar.gz
[ppx_compare.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_compare-v0.9.0.tar.gz
[nocrypto.0.5.4] downloaded from https://github.com/mirleft/ocaml-nocrypto/releases/download/v0.5.4/nocrypto-0.5.4.tbz
[ppx_cstruct.3.2.0] found in cache
[ppx_core.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_core-v0.9.0.tar.gz
[ppx_derivers.1.0] downloaded from https://github.com/diml/ppx_derivers/archive/1.0.tar.gz
[ppx_enumerate.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_enumerate-v0.9.0.tar.gz
[ppx_driver.v0.9.1] downloaded from https://github.com/janestreet/ppx_driver/archive/v0.9.1.tar.gz
[ppx_deriving.4.2] downloaded from https://github.com/whitequark/ppx_deriving/archive/v4.2.tar.gz
[ppx_fields_conv.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_fields_conv-v0.9.0.tar.gz
[ppx_hash.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_hash-v0.9.0.tar.gz
[ppx_js_style.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_js_style-v0.9.0.tar.gz
[ppx_metaquot.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_metaquot-v0.9.0.tar.gz
[ppx_optcomp.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_optcomp-v0.9.0.tar.gz
[ppx_sexp_conv.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_sexp_conv-v0.9.0.tar.gz
[ppx_traverse_builtins.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_traverse_builtins-v0.9.0.tar.gz
[ppx_type_conv.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_type_conv-v0.9.0.tar.gz
[ppx_tools.5.0+4.05.0] downloaded from https://github.com/ocaml-ppx/ppx_tools/archive/5.0+4.05.0.tar.gz
[prometheus.0.4] downloaded from https://github.com/mirage/prometheus/releases/download/v0.4/prometheus-0.4.tbz
[prometheus-app.0.4] downloaded from https://github.com/mirage/prometheus/releases/download/v0.4/prometheus-0.4.tbz
[ptime.0.8.3] downloaded from http://erratique.ch/software/ptime/releases/ptime-0.8.3.tbz
[protocol-9p.0.12.0] downloaded from https://github.com/mirage/ocaml-9p/releases/download/v0.12.0/protocol-9p-0.12.0.tbz
[react.1.2.1] downloaded from http://erratique.ch/software/react/releases/react-1.2.1.tbz
[rresult.0.5.0] downloaded from http://erratique.ch/software/rresult/releases/rresult-0.5.0.tbz
[protocol-9p-unix.0.12.0] downloaded from https://github.com/mirage/ocaml-9p/releases/download/v0.12.0/protocol-9p-0.12.0.tbz
[re.1.7.1] downloaded from https://github.com/ocaml/ocaml-re/archive/1.7.1.tar.gz
[sexplib.v0.9.3] downloaded from https://github.com/janestreet/sexplib/archive/v0.9.3.tar.gz
[stdio.v0.9.1] downloaded from https://github.com/janestreet/stdio/archive/v0.9.1.tar.gz
[stringext.1.5.0] downloaded from https://github.com/rgrinberg/stringext/archive/1.5.0.zip
[uutf.1.0.1] downloaded from http://erratique.ch/software/uutf/releases/uutf-1.0.1.tbz
[win-error.0.2] downloaded from https://github.com/djs55/ocaml-win-error/archive/v0.2.tar.gz
[uri.1.9.5] downloaded from https://github.com/mirage/ocaml-uri/releases/download/v1.9.5/uri-1.9.5.tbz
[tls.0.8.0] downloaded from https://github.com/mirleft/ocaml-tls/releases/download/0.8.0/tls-0.8.0.tbz
[win-eventlog.0.1] downloaded from https://github.com/djs55/ocaml-win-eventlog/archive/v0.1.tar.gz
[x509.0.5.3] downloaded from https://github.com/mirleft/ocaml-x509/archive/0.5.3.tar.gz
[yojson.1.4.0] downloaded from https://github.com/mjambon/yojson/archive/v1.4.0.tar.gz
[zarith.1.7] downloaded from https://github.com/ocaml/Zarith/archive/release-1.7.tar.gz
[zed.1.6] downloaded from https://github.com/diml/zed/releases/download/1.6/zed-1.6.tbz

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> installed asetmap.0.8.1
-> installed base-num.base
-> installed base64.2.2.0
-> installed camomile.0.8.7
-> installed conf-gmp.1
-> installed conf-perl.1
-> installed conf-which.1
-> installed cppo_ocamlbuild.1.6.0
-> installed decompress.0.7
-> installed duration.0.1.1
-> installed easy-format.1.3.0
-> installed biniou.1.2.0
-> installed fpath.0.7.2
-> installed logs.0.6.2
-> installed asl.0.11
-> installed irmin-watcher.0.3.0
-> installed magic-mime.1.1.0
-> installed menhir.20171013
-> installed atd.1.12.0
-> installed mirage-device.1.1.0
-> installed mirage-clock.1.3.0
-> installed mirage-flow.1.3.0
-> installed mirage-channel.3.1.0
-> installed mirage-kv.1.1.1
-> installed mirage-no-solo5.1
-> installed mirage-no-xen.1
-> installed mirage-time.1.1.0
-> installed mirage-time-lwt.1.1.0
-> installed mtime.1.1.0
-> installed num.0
-> installed ocaml-compiler-libs.v0.9.0
-> installed ocamlgraph.1.8.8
-> installed ocamlify.0.0.1
-> installed ocamlmod.0.0.9
-> installed oasis.0.4.10
-> installed ocb-stubblr.0.1.1
-> installed cpuid.0.1.1
-> installed named-pipe.0.4.0
-> installed ocplib-endian.1.0
-> installed octavius.1.1.0
-> installed ppx_ast.v0.9.1
-> installed ppx_derivers.1.0
-> installed ppx_tools.5.0+4.05.0
-> installed ppx_deriving.4.2
-> installed ppx_traverse_builtins.v0.9.0
-> installed ptime.0.8.3
-> installed re.1.7.1
-> installed prometheus.0.4
-> installed react.1.2.1
-> installed lwt_react.1.1.0
-> installed rresult.0.5.0
-> installed bos.0.1.6
-> installed sexplib.v0.9.3
-> installed base.v0.9.4
-> installed cstruct.3.1.1
-> installed cstruct-lwt.3.2.0
-> installed datakit-client.0.11.0
-> installed datakit-server.0.11.0
-> installed hex.1.2.0
-> installed mirage-flow-lwt.1.4.0
-> installed hvsock.1.0.1
-> installed mirage-kv-lwt.1.1.0
-> installed mstruct.1.4.0
-> installed ppx_cstruct.3.2.0
-> installed stdio.v0.9.1
-> installed ppx_core.v0.9.0
-> installed ppx_optcomp.v0.9.0
-> installed ppx_driver.v0.9.1
-> installed fieldslib.v0.9.0
-> installed ppx_metaquot.v0.9.0
-> installed ppx_js_style.v0.9.0
-> installed ppx_type_conv.v0.9.0
-> installed ppx_compare.v0.9.0
-> installed ppx_enumerate.v0.9.0
-> installed ppx_fields_conv.v0.9.0
-> installed ppx_sexp_conv.v0.9.0
-> installed ipaddr.2.8.0
-> installed ppx_hash.v0.9.0
-> installed ppx_base.v0.9.0
-> installed configurator.v0.9.1
-> installed io-page.2.0.1
-> installed io-page-unix.2.0.1
-> installed mirage-channel-lwt.3.1.0
-> installed stringext.1.5.0
-> installed uri.1.9.5
-> installed conduit.1.0.0
-> installed conduit-lwt.1.0.0
-> installed git.1.11.2
-> installed uutf.1.0.1
-> installed jsonm.1.0.1
-> installed cohttp.0.99.0
-> installed cohttp-lwt.0.99.0
-> installed git-http.1.11.2
-> installed irmin.1.3.0
-> installed irmin-git.1.3.0
-> installed irmin-mem.1.3.0
-> installed win-error.0.2
-> installed protocol-9p.0.12.0
-> installed datakit-server-9p.0.11.0
-> installed protocol-9p-unix.0.12.0
-> installed datakit-client-9p.0.11.0
-> installed win-eventlog.0.1
-> installed yojson.1.4.0
-> installed atdgen.1.12.0
-> installed github.3.0.1
-> installed zarith.1.7
-> installed asn1-combinators.0.1.3
-> installed nocrypto.0.5.4
-> installed github-hooks.0.2.0
-> installed x509.0.5.3
-> installed tls.0.8.0
-> installed conduit-lwt-unix.1.0.2
-> installed cohttp-lwt-unix.0.99.0
-> installed git-unix.1.11.2
-> installed datakit-client-git.0.11.0
-> installed datakit-github.0.11.0
-> installed prometheus-app.0.4
-> installed datakit.0.11.0
-> installed zed.1.6
-> installed lambda-term.1.12.0
-> installed github-unix.3.0.1
-> installed github-hooks-unix.0.2.0
Done.
# Run eval $(opam env) to update the current shell environment
 ---> 2fafb470d455
Removing intermediate container dec03d441ed2
Step 11/22 : COPY . /home/opam/src/datakit
 ---> 3998b5840f0f
Removing intermediate container 2f2371a12356
Step 12/22 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in 122414fa5be6
 ---> 648ded8469ef
Removing intermediate container 122414fa5be6
Step 13/22 : RUN opam update --dev && opam upgrade
 ---> Running in de1f1d700399

=-=- Synchronising development packages -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit.0.11.0] synchronised from file:///home/opam/src/datakit
[datakit-bridge-github.0.11.0] synchronised from file:///home/opam/src/datakit
[datakit-bridge-local-git.0.11.0] synchronised from file:///home/opam/src/datakit
[datakit-ci.0.11.0] synchronised from file:///home/opam/src/datakit
[datakit-client.0.11.0] synchronised from file:///home/opam/src/datakit
[datakit-client-9p.0.11.0] synchronised from file:///home/opam/src/datakit
[datakit-client-git.0.11.0] synchronised from file:///home/opam/src/datakit
[datakit-github.0.11.0] synchronised from file:///home/opam/src/datakit
[datakit-server.0.11.0] synchronised from file:///home/opam/src/datakit
[datakit-server-9p.0.11.0] synchronised from file:///home/opam/src/datakit
[datakit] Conflicting update of the metadata from file:///home/opam/src/datakit.
Override files in /home/opam/.opam/ocaml-base-compiler.4.05.0/.opam-switch/overlay/datakit (there will be a backup) ? [Y/n] y
User metadata backed up in /home/opam/.opam/backup/datakit.bak
[datakit-bridge-github] Conflicting update of the metadata from file:///home/opam/src/datakit.
Override files in /home/opam/.opam/ocaml-base-compiler.4.05.0/.opam-switch/overlay/datakit-bridge-github (there will be a backup) ? [Y/n] y
User metadata backed up in /home/opam/.opam/backup/datakit-bridge-github.bak
[datakit-bridge-local-git] Conflicting update of the metadata from file:///home/opam/src/datakit.
Override files in /home/opam/.opam/ocaml-base-compiler.4.05.0/.opam-switch/overlay/datakit-bridge-local-git (there will be a backup) ? [Y/n] y
User metadata backed up in /home/opam/.opam/backup/datakit-bridge-local-git.bak
[datakit-ci] Conflicting update of the metadata from file:///home/opam/src/datakit.
Override files in /home/opam/.opam/ocaml-base-compiler.4.05.0/.opam-switch/overlay/datakit-ci (there will be a backup) ? [Y/n] y
User metadata backed up in /home/opam/.opam/backup/datakit-ci.bak
[datakit-client] Conflicting update of the metadata from file:///home/opam/src/datakit.
Override files in /home/opam/.opam/ocaml-base-compiler.4.05.0/.opam-switch/overlay/datakit-client (there will be a backup) ? [Y/n] y
User metadata backed up in /home/opam/.opam/backup/datakit-client.bak
[datakit-client-9p] Conflicting update of the metadata from file:///home/opam/src/datakit.
Override files in /home/opam/.opam/ocaml-base-compiler.4.05.0/.opam-switch/overlay/datakit-client-9p (there will be a backup) ? [Y/n] y
User metadata backed up in /home/opam/.opam/backup/datakit-client-9p.bak
[datakit-client-git] Conflicting update of the metadata from file:///home/opam/src/datakit.
Override files in /home/opam/.opam/ocaml-base-compiler.4.05.0/.opam-switch/overlay/datakit-client-git (there will be a backup) ? [Y/n] y
User metadata backed up in /home/opam/.opam/backup/datakit-client-git.bak
[datakit-github] Conflicting update of the metadata from file:///home/opam/src/datakit.
Override files in /home/opam/.opam/ocaml-base-compiler.4.05.0/.opam-switch/overlay/datakit-github (there will be a backup) ? [Y/n] y
User metadata backed up in /home/opam/.opam/backup/datakit-github.bak
[datakit-server] Conflicting update of the metadata from file:///home/opam/src/datakit.
Override files in /home/opam/.opam/ocaml-base-compiler.4.05.0/.opam-switch/overlay/datakit-server (there will be a backup) ? [Y/n] y
User metadata backed up in /home/opam/.opam/backup/datakit-server.bak
[datakit-server-9p] Conflicting update of the metadata from file:///home/opam/src/datakit.
Override files in /home/opam/.opam/ocaml-base-compiler.4.05.0/.opam-switch/overlay/datakit-server-9p (there will be a backup) ? [Y/n] y
User metadata backed up in /home/opam/.opam/backup/datakit-server-9p.bak
Now run 'opam upgrade' to apply any package updates.
The following actions will be performed:
  - recompile datakit-server     0.11.0* [upstream changes]
  - recompile datakit-client     0.11.0* [upstream changes]
  - recompile datakit-server-9p  0.11.0* [upstream changes]
  - recompile datakit-client-git 0.11.0* [upstream changes]
  - recompile datakit-client-9p  0.11.0* [upstream changes]
  - recompile datakit            0.11.0* [upstream changes]
  - recompile datakit-github     0.11.0* [upstream changes]
===== 7 to recompile =====

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> removed   datakit-github.0.11.0
-> removed   datakit-client-9p.0.11.0
-> removed   datakit-client-git.0.11.0
-> removed   datakit-client.0.11.0
-> removed   datakit.0.11.0
-> removed   datakit-server-9p.0.11.0
-> removed   datakit-server.0.11.0
-> installed datakit-client.0.11.0
-> installed datakit-client-9p.0.11.0
-> installed datakit-client-git.0.11.0
-> installed datakit-github.0.11.0
-> installed datakit-server.0.11.0
-> installed datakit-server-9p.0.11.0
-> installed datakit.0.11.0
Done.
# Run eval $(opam env) to update the current shell environment
 ---> 87db59f5bc84
Removing intermediate container de1f1d700399
Step 14/22 : RUN opam install datakit-bridge-github -ytv
 ---> Running in e1759f6ea839

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/1: [datakit-bridge-github.0.11.0: rsync]
[datakit-bridge-github.0.11.0] no changes from file:///home/opam/src/datakit

The following actions will be performed:
  - install datakit-bridge-github 0.11.0* 

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/2: [datakit-bridge-github: jbuilder build]
+ /home/opam/.opam/ocaml-base-compiler.4.05.0/bin/jbuilder "build" "-p" "datakit-bridge-github" "-j" "1" (CWD=/home/opam/.opam/ocaml-base-compiler.4.05.0/.opam-switch/build/datakit-bridge-github.0.11.0)
-     ocamldep bridge/github/main.depends.ocamldep-output
-     ocamldep bridge/github/datakit_bridge_github.depends.ocamldep-output
-     ocamldep bridge/github/datakit_bridge_github.dependsi.ocamldep-output
-     ocamldep src/datakit-log/datakit_log.dependsi.ocamldep-output
-     ocamldep src/datakit-log/datakit_log.depends.ocamldep-output
-     ocamldep bridge/github/main.dependsi.ocamldep-output
-       ocamlc bridge/github/datakit_github_api.{cmi,cmti}
-       ocamlc bridge/github/datakit_github_state.{cmi,cmti}
-       ocamlc bridge/github/datakit_github_sync.{cmi,cmti}
-       ocamlc src/datakit-log/datakit_log.{cmi,cmti}
-     ocamlopt bridge/github/datakit_github_api.{cmx,o}
-     ocamlopt bridge/github/datakit_github_state.{cmx,o}
-       ocamlc bridge/github/version.{cmi,cmo,cmt}
-       ocamlc bridge/github/main.{cmi,cmti}
-     ocamlopt src/datakit-log/datakit_log.{cmx,o}
-     ocamlopt bridge/github/datakit_github_sync.{cmx,o}
-     ocamlopt src/datakit-log/datakit_log.{a,cmxa}
-     ocamlopt bridge/github/version.{cmx,o}
-     ocamlopt bridge/github/datakit_bridge_github.{a,cmxa}
-     ocamlopt bridge/github/main.{cmx,o}
-     ocamlopt bridge/github/main.exe
Processing  1/2: [datakit-bridge-github: jbuilder runtest]
+ /home/opam/.opam/ocaml-base-compiler.4.05.0/bin/jbuilder "runtest" "tests/datakit-bridge-github" (CWD=/home/opam/.opam/ocaml-base-compiler.4.05.0/.opam-switch/build/datakit-bridge-github.0.11.0)
-     ocamldep tests/datakit-bridge-github/test.depends.ocamldep-output
-     ocamldep api/ocaml/datakit_client.depends.ocamldep-output
-     ocamldep api/ocaml/datakit_client.dependsi.ocamldep-output
-     ocamldep src/datakit-github/datakit_github.dependsi.ocamldep-output
-     ocamldep api/ocaml/9p/datakit_client_9p.depends.ocamldep-output
-     ocamldep src/datakit-io/datakit_io.depends.ocamldep-output
-     ocamldep src/datakit-server-9p/datakit_server_9p.depends.ocamldep-output
-     ocamldep src/datakit-server/datakit_server.depends.ocamldep-output
-     ocamldep src/datakit-github/datakit_github.depends.ocamldep-output
-     ocamldep api/ocaml/9p/datakit_client_9p.dependsi.ocamldep-output
-     ocamldep src/datakit-io/datakit_io.dependsi.ocamldep-output
-     ocamldep src/datakit/datakit.depends.ocamldep-output
-     ocamldep tests/common/test.depends.ocamldep-output
-     ocamldep src/datakit-server-9p/datakit_server_9p.dependsi.ocamldep-output
-     ocamldep src/datakit-server/datakit_server.dependsi.ocamldep-output
-     ocamldep src/datakit/datakit.dependsi.ocamldep-output
-       ocamlc src/datakit/datakit__.{cmi,cmo,cmt}
-     ocamldep tests/common/test.dependsi.ocamldep-output
-     ocamldep tests/datakit-bridge-github/test.dependsi.ocamldep-output
-       ocamlc src/datakit-io/datakit_io.{cmi,cmti}
-       ocamlc api/ocaml/datakit_client.{cmi,cmti}
-       ocamlc src/datakit-server/vfs.{cmi,cmti}
-     ocamlopt src/datakit/datakit__.{cmx,o}
-       ocamlc api/ocaml/9p/datakit_client_9p.{cmi,cmti}
-       ocamlc src/datakit-github/datakit_github.{cmi,cmti}
-       ocamlc tests/common/test_client.{cmi,cmti}
-       ocamlc src/datakit-server-9p/fs9p.{cmi,cmti}
-       ocamlc src/datakit-server-9p/fs9p_error.{cmi,cmti}
-     ocamlopt api/ocaml/datakit_client.{cmx,o}
-       ocamlc src/datakit/datakit__Blob.{cmi,cmti}
-       ocamlc tests/common/test_utils.{cmi,cmo,cmt}
-       ocamlc src/datakit/datakit__Branch.{cmi,cmti}
-     ocamlopt src/datakit-io/datakit_io.{cmx,o}
-       ocamlc src/datakit/datakit__Metadata.{cmi,cmti}
-       ocamlc src/datakit/datakit__Path.{cmi,cmti}
-       ocamlc src/datakit-github/datakit_github_conv.{cmi,cmti}
-       ocamlc src/datakit/datakit.{cmi,cmti}
-     ocamlopt api/ocaml/datakit_client.{a,cmxa}
-     ocamlopt src/datakit-server/vfs.{cmx,o}
-     ocamlopt src/datakit-io/datakit_io.{a,cmxa}
-     ocamlopt tests/common/test_utils.{cmx,o}
-       ocamlc bridge/github/datakit_github_api.{cmi,cmti}
-       ocamlc bridge/github/datakit_github_state.{cmi,cmti}
-       ocamlc src/datakit/datakit__Store.{cmi,cmti}
-     ocamlopt api/ocaml/9p/datakit_client_9p.{cmx,o}
-       ocamlc bridge/github/datakit_github_sync.{cmi,cmti}
-     ocamlopt src/datakit-server-9p/fs9p_error.{cmx,o}
-     ocamlopt src/datakit/datakit__Branch.{cmx,o}
-     ocamlopt src/datakit/datakit__Blob.{cmx,o}
-     ocamlopt src/datakit/datakit__Metadata.{cmx,o}
-     ocamlopt src/datakit-server/datakit_server.{a,cmxa}
-     ocamlopt src/datakit/datakit__Path.{cmx,o}
-       ocamlc src/datakit/datakit__Dir.{cmi,cmti}
-     ocamlopt src/datakit-github/datakit_github.{cmx,o}
-       ocamlc src/datakit/datakit__Merge.{cmi,cmti}
-     ocamlopt api/ocaml/9p/datakit_client_9p.{a,cmxa}
-       ocamlc src/datakit/datakit__Remote.{cmi,cmti}
-     ocamlopt src/datakit-server-9p/fs9p.{cmx,o}
-       ocamlc tests/datakit-bridge-github/test.{cmi,cmti}
-     ocamlopt src/datakit-server-9p/datakit_server_9p.{a,cmxa}
-     ocamlopt src/datakit/datakit__Store.{cmx,o}
-     ocamlopt src/datakit/datakit__Dir.{cmx,o}
-     ocamlopt src/datakit/datakit__Merge.{cmx,o}
-     ocamlopt tests/common/test_client.{cmx,o}
-     ocamlopt tests/common/test.{a,cmxa}
-     ocamlopt src/datakit/datakit__Remote.{cmx,o}
-     ocamlopt src/datakit-github/datakit_github_conv.{cmx,o}
-     ocamlopt src/datakit-github/datakit_github.{a,cmxa}
-     ocamlopt bridge/github/datakit_github_state.{cmx,o}
-     ocamlopt bridge/github/datakit_github_api.{cmx,o}
-     ocamlopt bridge/github/datakit_github_sync.{cmx,o}
-     ocamlopt src/datakit/datakit.{cmx,o}
-     ocamlopt src/datakit/datakit.{a,cmxa}
-     ocamlopt tests/datakit-bridge-github/test.{cmx,o}
-     ocamlopt tests/datakit-bridge-github/test.exe
-         test alias tests/datakit-bridge-github/runtest
- /bin/sh: tput: not found
- stty: standard input: Not a tty
- Testing datakit-github.
- [33m ...[m                [36mgithub-9p[m          0   Transaction.[32m[OK][m                [36mgithub-9p[m          0   Transaction.
- [33m ...[m                [36mgithub-9p[m          1   Watch.[32m[OK][m                [36mgithub-9p[m          1   Watch.
- [33m ...[m                [36mgithub-9p[m          2   Make dirs.[32m[OK][m                [36mgithub-9p[m          2   Make dirs.
- [33m ...[m                [36mgithub-9p[m          3   Truncate.[32m[OK][m                [36mgithub-9p[m          3   Truncate.
- [33m ...[m                [36mgithub-9p[m          4   Parents.[32m[OK][m                [36mgithub-9p[m          4   Parents.
- [33m ...[m                [36mgithub-9p[m          5   Merge.[32m[OK][m                [36mgithub-9p[m          5   Merge.
- [33m ...[m                [36mgithub-9p[m          6   Diff.[32m[OK][m                [36mgithub-9p[m          6   Diff.
- [33m ...[m                [36mgithub-9p[m          7   Merge_metadata.[32m[OK][m                [36mgithub-9p[m          7   Merge_metadata.
- [33m ...[m                [36mgithub-9p[m          8   Merge empty.[32m[OK][m                [36mgithub-9p[m          8   Merge empty.
- [33m ...[m                [36mgithub-9p[m          9   Conflicts.[32m[OK][m                [36mgithub-9p[m          9   Conflicts.
- [33m ...[m                [36mgithub-9p[m         10   Large write.[32m[OK][m                [36mgithub-9p[m         10   Large write.
- [33m ...[m                [36mgithub-9p[m         11   Remove.[32m[OK][m                [36mgithub-9p[m         11   Remove.
- [33m ...[m                [36mgithub-9p[m         12   Remotes.[33m[SKIP][m              [36mgithub-9p[m         12   Remotes.
- [33m ...[m                [36mgithub-9p[m         13   Create_or_replace.[33m[SKIP][m              [36mgithub-9p[m         13   Create_or_replace.
- [33m ...[m                [36mgithub[m             0   basic-snapshot.[32m[OK][m                [36mgithub[m             0   basic-snapshot.
- [33m ...[m                [36mgithub[m             1   snapshot.[32m[OK][m                [36mgithub[m             1   snapshot.
- [33m ...[m                [36mgithub[m             2   capabilities.[32m[OK][m                [36mgithub[m             2   capabilities.
- [33m ...[m                [36mgithub[m             3   cleanup.[32m[OK][m                [36mgithub[m             3   cleanup.
- [33m ...[m                [36mgithub[m             4   events.[32m[OK][m                [36mgithub[m             4   events.
- [33m ...[m                [36mgithub[m             5   updates.[32m[OK][m                [36mgithub[m             5   updates.
- [33m ...[m                [36mgithub[m             6   startup.[32m[OK][m                [36mgithub[m             6   startup.
- [33m ...[m                [36mgithub[m             7   random-github.[32m[OK][m                [36mgithub[m             7   random-github.
- [33m ...[m                [36mgithub[m             8   random-github-*.[33m[SKIP][m              [36mgithub[m             8   random-github-*.
- [33m ...[m                [36mgithub[m             9   random-datakit.[32m[OK][m                [36mgithub[m             9   random-datakit.
- [33m ...[m                [36mgithub[m            10   random-datakit-*.[33m[SKIP][m              [36mgithub[m            10   random-datakit-*.
- The full test results are available in `_build/_tests`.
- [32mTest Successful[m in 3.720s. 21 tests run.
-> compiled  datakit-bridge-github.0.11.0
-> installed datakit-bridge-github.0.11.0
Done.
# Run eval $(opam env) to update the current shell environment
 ---> 083c891653e0
Removing intermediate container e1759f6ea839
Step 15/22 : RUN sudo cp $(opam config exec -- which datakit-bridge-github) /usr/bin/
 ---> Running in 3bf16585ba05
 ---> cb8942de8f72
Removing intermediate container 3bf16585ba05
Step 16/22 : FROM alpine:3.5
3.5: Pulling from library/alpine
Digest: sha256:b007a354427e1880de9cdba533e8e57382b7f2853a68a478a17d447b302c219c
Status: Image is up to date for alpine:3.5
 ---> 3823b001394d
Step 17/22 : RUN apk add --no-cache libev gmp tzdata ca-certificates
 ---> Using cache
 ---> 59fc4470b796
Step 18/22 : EXPOSE 5640
 ---> Using cache
 ---> 870dea284ccc
Step 19/22 : EXPOSE 5641
 ---> Using cache
 ---> a4b458d67a70
Step 20/22 : ENTRYPOINT /usr/bin/datakit-bridge-github
 ---> Using cache
 ---> 30935a61f0e4
Step 21/22 : CMD --listen=tcp://0.0.0.0:5641 -v --datakit=tcp:127.0.0.1:5640
 ---> Using cache
 ---> 108b73215347
Step 22/22 : COPY --from=0 /usr/bin/datakit-bridge-github /usr/bin/datakit-bridge-github
 ---> 49bcc8c6ef44
Removing intermediate container df70c1a87415
Successfully built 49bcc8c6ef44
[2017-11-20 11:08.40] Success
