=== Docker build Dockerfile.github
[2018-12-12 18:49.33] Starting...
Cloning into '/tmp/with_clone199d8d0a'...
done.
HEAD is now at cbc0e09 irmin: port to the 1.4.0 interfaces
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon  5.54 MBSending build context to Docker daemon  5.54 MB
Step 1/22 : FROM ocaml/opam-dev:alpine-3.5_ocaml-4.05.0
alpine-3.5_ocaml-4.05.0: Pulling from ocaml/opam-dev
Digest: sha256:56eabc77608dac440c0907a0d3d3c2fbff0d65141b20dc5296783c21d42310d3
Status: Image is up to date for ocaml/opam-dev:alpine-3.5_ocaml-4.05.0
 ---> 1b9232af4c8c
Step 2/22 : RUN sudo apk add --no-cache tzdata aspcud gmp-dev perl libev-dev m4
 ---> Using cache
 ---> 04e887bc34dd
Step 3/22 : ENV OPAMERRLOGLEN 0 OPAMYES 1
 ---> Using cache
 ---> edf1e303d39f
Step 4/22 : RUN git -C /home/opam/opam-repository fetch origin &&     git -C /home/opam/opam-repository reset 818ebb219 --hard &&     opam update -u
 ---> Using cache
 ---> 1a429c79664c
Step 5/22 : RUN opam install alcotest lwt conf-libev inotify tls
 ---> Running in 00f028a8d3b7
The following actions will be performed:
  - install   ppx_traverse_builtins   v0.10.0    [required by ppx_core, ppx_metaquot] 
  - install   conf-gmp                1          [required by zarith]                 
  - install   mirage-no-xen           1          [required by nocrypto]               
  - install   mirage-no-solo5         1          [required by nocrypto]               
  - install   astring                 0.8.3      [required by alcotest]               
  - install   cmdliner                1.0.2      [required by alcotest]               
  - install   conf-perl               1          [required by zarith]                 
  - install   base-bytes              base       [required by inotify]                
  - install   ppx_tools               5.0+4.05.0 [required by ppx_deriving]           
  - install   ocaml-compiler-libs     v0.10.0    [required by ppx_core]               
  - install   ocaml-migrate-parsetree 1.0.10     [required by ppx_cstruct]            
  - install   ppx_derivers            1.0        [required by ppx_deriving]           
  - install   conf-libev              4-11                                            
  - install   base-num                base       [required by num]                    
  - install   ptime                   0.8.3      [required by tls]                    
  - install   ocb-stubblr             0.1.1      [required by nocrypto]               
  - install   fmt                     0.8.5      [required by alcotest]               
  - recompile uutf                    1.0.1      [uses cmdliner]                      
  - install   zarith                  1.7        [required by nocrypto]               
  - install   cppo                    1.6.4      [required by lwt]                    
  - install   ppx_tools_versioned     5.1        [required by ppx_cstruct]            
  - install   ppx_ast                 v0.10.0    [required by ppx_core]               
  - install   num                     0          [required by sexplib]                
  - install   cpuid                   0.1.1      [required by nocrypto]               
  - install   alcotest                0.8.3                                           
  - recompile jsonm                   1.0.1      [uses uutf]                          
  - install   lwt                     4.0.1                                           For the PPX, please install package lwt_ppx
                                                                                      For Lwt_log and Lwt_daemon, please install package lwt_log
  - install   cppo_ocamlbuild         1.6.0      [required by ppx_deriving]           
  - install   sexplib                 v0.10.0    [required by tls]                    
  - install   inotify                 2.3                                             
  - install   ppx_deriving            4.2.1      [required by tls]                    
  - install   cstruct                 3.2.1      [required by tls]                    
  - install   base                    v0.10.0    [required by ppx_core]               
  - install   ppx_cstruct             3.2.1      [required by tls]                    
  - install   cstruct-lwt             3.2.1      [required by nocrypto]               
  - install   asn1-combinators        0.2.0      [required by x509]                   
  - install   stdio                   v0.10.0    [required by ppx_core]               
  - install   ppx_core                v0.10.0    [required by ppx_sexp_conv]          
  - install   ppx_optcomp             v0.10.0    [required by ppx_driver]             
  - install   ppx_driver              v0.10.4    [required by ppx_sexp_conv]          
  - install   ppx_metaquot            v0.10.0    [required by ppx_sexp_conv]          
  - install   ppx_type_conv           v0.10.0    [required by ppx_sexp_conv]          
  - install   ppx_sexp_conv           v0.10.0    [required by tls]                    
  - install   nocrypto                0.5.4      [required by tls]                    
  - install   x509                    0.6.1      [required by tls]                    
  - install   tls                     0.9.1                                           
===== 44 to install | 2 to recompile =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[astring.0.8.3] downloaded from http://erratique.ch/software/astring/releases/astring-0.8.3.tbz
[alcotest.0.8.3] downloaded from https://github.com/mirage/alcotest/releases/download/0.8.3/alcotest-0.8.3.tbz
[asn1-combinators.0.2.0] downloaded from https://github.com/mirleft/ocaml-asn1-combinators/releases/download/v0.2.0/asn1-combinators-0.2.0.tbz
[cmdliner.1.0.2] downloaded from http://erratique.ch/software/cmdliner/releases/cmdliner-1.0.2.tbz
[base.v0.10.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.10/files/base-v0.10.0.tar.gz
[cppo.1.6.4] downloaded from https://github.com/mjambon/cppo/archive/v1.6.4.tar.gz
[cpuid.0.1.1] downloaded from https://github.com/pqwy/cpuid/releases/download/v0.1.1/cpuid-0.1.1.tbz
[cppo_ocamlbuild.1.6.0] downloaded from https://github.com/mjambon/cppo/archive/v1.6.0.tar.gz
[fmt.0.8.5] downloaded from http://erratique.ch/software/fmt/releases/fmt-0.8.5.tbz
[cstruct.3.2.1] downloaded from https://github.com/mirage/ocaml-cstruct/releases/download/v3.2.1/cstruct-3.2.1.tbz
[jsonm.1.0.1] found in cache
[cstruct-lwt.3.2.1] downloaded from https://github.com/mirage/ocaml-cstruct/releases/download/v3.2.1/cstruct-3.2.1.tbz
[inotify.2.3] downloaded from https://github.com/whitequark/ocaml-inotify/archive/v2.3.tar.gz
[ocaml-compiler-libs.v0.10.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.10/files/ocaml-compiler-libs-v0.10.0.tar.gz
[lwt.4.0.1] downloaded from https://github.com/ocsigen/lwt/archive/4.0.1.tar.gz
[nocrypto.0.5.4] downloaded from https://github.com/mirleft/ocaml-nocrypto/releases/download/v0.5.4/nocrypto-0.5.4.tbz
[ocaml-migrate-parsetree.1.0.10] downloaded from https://github.com/ocaml-ppx/ocaml-migrate-parsetree/archive/v1.0.10.tar.gz
[ocb-stubblr.0.1.1] downloaded from https://github.com/pqwy/ocb-stubblr/releases/download/v0.1.1/ocb-stubblr-0.1.1.tbz
[ppx_cstruct.3.2.1] found in cache
[ppx_ast.v0.10.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.10/files/ppx_ast-v0.10.0.tar.gz
[ppx_core.v0.10.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.10/files/ppx_core-v0.10.0.tar.gz
[ppx_derivers.1.0] downloaded from https://github.com/diml/ppx_derivers/archive/1.0.tar.gz
[ppx_metaquot.v0.10.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.10/files/ppx_metaquot-v0.10.0.tar.gz
[ppx_deriving.4.2.1] downloaded from https://github.com/ocaml-ppx/ppx_deriving/archive/v4.2.1.tar.gz
[ppx_driver.v0.10.4] downloaded from https://github.com/janestreet/ppx_driver/archive/v0.10.4.tar.gz
[ppx_optcomp.v0.10.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.10/files/ppx_optcomp-v0.10.0.tar.gz
[ppx_sexp_conv.v0.10.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.10/files/ppx_sexp_conv-v0.10.0.tar.gz
[ppx_tools.5.0+4.05.0] downloaded from https://github.com/ocaml-ppx/ppx_tools/archive/5.0+4.05.0.tar.gz
[ppx_traverse_builtins.v0.10.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.10/files/ppx_traverse_builtins-v0.10.0.tar.gz
[ptime.0.8.3] downloaded from http://erratique.ch/software/ptime/releases/ptime-0.8.3.tbz
[ppx_type_conv.v0.10.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.10/files/ppx_type_conv-v0.10.0.tar.gz
[stdio.v0.10.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.10/files/stdio-v0.10.0.tar.gz
[sexplib.v0.10.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.10/files/sexplib-v0.10.0.tar.gz
[uutf.1.0.1] found in cache
[ppx_tools_versioned.5.1] downloaded from https://github.com/ocaml-ppx/ppx_tools_versioned/archive/5.1.tar.gz
[x509.0.6.1] downloaded from https://github.com/mirleft/ocaml-x509/releases/download/0.6.1/x509-0.6.1.tbz
[tls.0.9.1] downloaded from https://github.com/mirleft/ocaml-tls/releases/download/0.9.1/tls-0.9.1.tbz
[zarith.1.7] downloaded from https://github.com/ocaml/Zarith/archive/release-1.7.tar.gz

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> removed   jsonm.1.0.1
-> removed   uutf.1.0.1
-> installed astring.0.8.3
-> installed base-bytes.base
-> installed base-num.base
-> installed cmdliner.1.0.2
-> installed conf-gmp.1
-> installed conf-libev.4-11
-> installed conf-perl.1
-> installed cppo.1.6.4
-> installed cppo_ocamlbuild.1.6.0
-> installed fmt.0.8.5
-> installed alcotest.0.8.3
-> installed lwt.4.0.1
-> installed inotify.2.3
-> installed mirage-no-solo5.1
-> installed mirage-no-xen.1
-> installed num.0
-> installed ocaml-compiler-libs.v0.10.0
-> installed ocaml-migrate-parsetree.1.0.10
-> installed ocb-stubblr.0.1.1
-> installed cpuid.0.1.1
-> installed ppx_ast.v0.10.0
-> installed ppx_derivers.1.0
-> installed ppx_tools.5.0+4.05.0
-> installed ppx_deriving.4.2.1
-> installed ppx_tools_versioned.5.1
-> installed ppx_traverse_builtins.v0.10.0
-> installed ptime.0.8.3
-> installed sexplib.v0.10.0
-> installed base.v0.10.0
-> installed cstruct.3.2.1
-> installed cstruct-lwt.3.2.1
-> installed ppx_cstruct.3.2.1
-> installed stdio.v0.10.0
-> installed ppx_core.v0.10.0
-> installed ppx_optcomp.v0.10.0
-> installed ppx_driver.v0.10.4
-> installed ppx_metaquot.v0.10.0
-> installed ppx_type_conv.v0.10.0
-> installed ppx_sexp_conv.v0.10.0
-> installed uutf.1.0.1
-> installed jsonm.1.0.1
-> installed zarith.1.7
-> installed asn1-combinators.0.2.0
-> installed nocrypto.0.5.4
-> installed x509.0.6.1
-> installed tls.0.9.1
Done.

=-=- lwt.4.0.1 installed successfully -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
=> Lwt 4.0.0 has made some breaking changes. See
     https://github.com/ocsigen/lwt/issues/453
# Run eval $(opam env) to update the current shell environment
 ---> c6c018a42f9b
Removing intermediate container 00f028a8d3b7
Step 6/22 : COPY check-libev.ml /tmp/check-libev.ml
 ---> 88d1ec358eff
Removing intermediate container 4b9a5f01b319
Step 7/22 : RUN opam config exec -- ocaml /tmp/check-libev.ml
 ---> Running in a46598f031b7
 ---> 386cb9ebd92e
Removing intermediate container a46598f031b7
Step 8/22 : COPY *.opam /home/opam/src/datakit/
 ---> 465138218db8
Removing intermediate container 204f83ed2a2b
Step 9/22 : RUN opam pin add /home/opam/src/datakit/ -n
 ---> Running in 4d1e4949d587
This will pin the following packages: datakit, datakit-server, datakit-server-9p, datakit-github, datakit-client, datakit-client-git, datakit-client-9p, datakit-ci, datakit-bridge-local-git, datakit-bridge-github. Continue ? [Y/n] y
[datakit.0.12.0: rsync]
[datakit.0.12.0] synchronised from file:///home/opam/src/datakit
datakit is now pinned to file:///home/opam/src/datakit (version 0.12.0)
[datakit-server.0.12.0: rsync]
[datakit-server.0.12.0] synchronised from file:///home/opam/src/datakit
datakit-server is now pinned to file:///home/opam/src/datakit (version 0.12.0)
[datakit-server-9p.0.12.0: rsync]
[datakit-server-9p.0.12.0] synchronised from file:///home/opam/src/datakit
datakit-server-9p is now pinned to file:///home/opam/src/datakit (version 0.12.0)
[datakit-github.0.12.0: rsync]
[datakit-github.0.12.0] synchronised from file:///home/opam/src/datakit
datakit-github is now pinned to file:///home/opam/src/datakit (version 0.12.0)
[datakit-client.0.12.0: rsync]
[datakit-client.0.12.0] synchronised from file:///home/opam/src/datakit
datakit-client is now pinned to file:///home/opam/src/datakit (version 0.12.0)
[datakit-client-git.0.12.0: rsync]
[datakit-client-git.0.12.0] synchronised from file:///home/opam/src/datakit
datakit-client-git is now pinned to file:///home/opam/src/datakit (version 0.12.0)
[datakit-client-9p.0.12.0: rsync]
[datakit-client-9p.0.12.0] synchronised from file:///home/opam/src/datakit
datakit-client-9p is now pinned to file:///home/opam/src/datakit (version 0.12.0)
[datakit-ci.0.12.1: rsync]
[datakit-ci.0.12.1] synchronised from file:///home/opam/src/datakit
datakit-ci is now pinned to file:///home/opam/src/datakit (version 0.12.1)
[datakit-bridge-local-git.0.12.0: rsync]
[datakit-bridge-local-git.0.12.0] synchronised from file:///home/opam/src/datakit
datakit-bridge-local-git is now pinned to file:///home/opam/src/datakit (version 0.12.0)
[datakit-bridge-github.0.12.0: rsync]
[datakit-bridge-github.0.12.0] synchronised from file:///home/opam/src/datakit
datakit-bridge-github is now pinned to file:///home/opam/src/datakit (version 0.12.0)
 ---> e43d718209a2
Removing intermediate container 4d1e4949d587
Step 10/22 : RUN opam install datakit-bridge-github --deps -t
 ---> Running in 4e7d3558b103

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-bridge-github.0.12.0] no changes from file:///home/opam/src/datakit

The following dependencies couldn't be met:
  - datakit-bridge-github -> uri >= 2.0.0
    no matching version

No solution found, exiting
The command '/bin/sh -c opam install datakit-bridge-github --deps -t' returned a non-zero code: 20
[2018-12-12 18:52.47] Failed: Command "docker" "build" "--pull" "-f" "Dockerfile.github" "." exited with status 20
