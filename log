=== Docker build Dockerfile.github
[2017-06-01 14:59.55] Starting...
Cloning into '/tmp/with_clone1e1f81af'...
done.
warning: remote HEAD refers to nonexistent ref, unable to checkout.

HEAD is now at b76a908 Merge pull request #588 from talex5/fix-build
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 6.128 MBSending build context to Docker daemon 6.685 MBSending build context to Docker daemon 7.242 MBSending build context to Docker daemon 7.799 MBSending build context to Docker daemon   7.9 MB
Step 1/34 : FROM ocaml/opam-dev@sha256:1dd4440b3e5f182f705cb5a74f9d4e860c2842b45ed72c199de89a894d13f522
sha256:1dd4440b3e5f182f705cb5a74f9d4e860c2842b45ed72c199de89a894d13f522: Pulling from ocaml/opam-dev
Digest: sha256:1dd4440b3e5f182f705cb5a74f9d4e860c2842b45ed72c199de89a894d13f522
Status: Image is up to date for ocaml/opam-dev@sha256:1dd4440b3e5f182f705cb5a74f9d4e860c2842b45ed72c199de89a894d13f522
 ---> f03bf6a81395
Step 2/34 : ENV OPAMERRLOGLEN 0 OPAMYES 1
 ---> Using cache
 ---> c341aec5312c
Step 3/34 : RUN sudo apk add tzdata aspcud
 ---> Using cache
 ---> cf27a5020dc9
Step 4/34 : RUN opam pin add git.dev --dev -n
 ---> Running in 03be7513132b
[git.dev: git]
[git.dev: git]
[git.dev: git]
[git.dev: git]
[git.dev] synchronised from git+https://github.com/mirage/ocaml-git.git
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/git/git.opam from 1.2 to 2.0~beta
[0mgit is now pinned to git+https://github.com/mirage/ocaml-git.git (version dev)
 ---> b1a06e689d0c
Removing intermediate container 03be7513132b
Step 5/34 : RUN opam pin add git-unix.dev -n --dev
 ---> Running in 3038ca2ad02e
[git-unix.dev: git]
[git-unix.dev: git]
[git-unix.dev: git]
[git-unix.dev: git]
[git-unix.dev] synchronised from git+https://github.com/mirage/ocaml-git.git
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/git-unix/git-unix.opam from 1.2 to 2.0~beta
[0mgit-unix is now pinned to git+https://github.com/mirage/ocaml-git.git (version dev)
 ---> 42e5b412f9b6
Removing intermediate container 3038ca2ad02e
Step 6/34 : RUN opam pin add irmin.1.2.0 -n https://github.com/mirage/irmin.git#81ffa256d3aa6b73b689609f7a5ff01c298fe821
 ---> Running in b79796855da3
[irmin.1.2.0: git]
[irmin.1.2.0: git]
[irmin.1.2.0: git]
[irmin.1.2.0: git]
[irmin.1.2.0: git]
[irmin.1.2.0: git]
[irmin.1.2.0: git]
[irmin.1.2.0] synchronised from git+https://github.com/mirage/irmin.git#81ffa256d3aa6b73b689609f7a5ff01c298fe821
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/irmin/irmin.opam from 1.2 to 2.0~beta
[0mirmin is now pinned to git+https://github.com/mirage/irmin.git#81ffa256d3aa6b73b689609f7a5ff01c298fe821 (version 1.2.0)
 ---> b8e0e4b2a1e2
Error removing intermediate container b79796855da3: Driver aufs failed to remove root filesystem b79796855da32b255612005d8609994dad25731e54ea8f3105fe1da4812c9279: rename /var/lib/docker/aufs/mnt/97d123661316611a22bb36d141b3ceec88c6da32fe9532828636a3932eaeae23 /var/lib/docker/aufs/mnt/97d123661316611a22bb36d141b3ceec88c6da32fe9532828636a3932eaeae23-removing: device or resource busy
Step 7/34 : RUN opam pin add irmin-mem.1.2.0 -n https://github.com/mirage/irmin.git#81ffa256d3aa6b73b689609f7a5ff01c298fe821
 ---> Running in 3f78d77214d8
Package irmin-mem does not exist, create as a NEW package ? [Y/n] y
[irmin-mem.1.2.0: git]
[irmin-mem.1.2.0: git]
[irmin-mem.1.2.0: git]
[irmin-mem.1.2.0: git]
[irmin-mem.1.2.0: git]
[irmin-mem.1.2.0: git]
[irmin-mem.1.2.0: git]
[irmin-mem.1.2.0] synchronised from git+https://github.com/mirage/irmin.git#81ffa256d3aa6b73b689609f7a5ff01c298fe821
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/irmin-mem/irmin-mem.opam from 1.2 to 2.0~beta
[0mirmin-mem is now pinned to git+https://github.com/mirage/irmin.git#81ffa256d3aa6b73b689609f7a5ff01c298fe821 (version 1.2.0)
 ---> a525318d5818
Error removing intermediate container b79796855da3: No such container: b79796855da32b255612005d8609994dad25731e54ea8f3105fe1da4812c9279
Step 8/34 : RUN opam pin add irmin-git.1.2.0 -n https://github.com/mirage/irmin.git#81ffa256d3aa6b73b689609f7a5ff01c298fe821
 ---> Running in 904fa721216e
[irmin-git.1.2.0: git]
[irmin-git.1.2.0: git]
[irmin-git.1.2.0: git]
[irmin-git.1.2.0: git]
[irmin-git.1.2.0: git]
[irmin-git.1.2.0: git]
[irmin-git.1.2.0: git]
[irmin-git.1.2.0] synchronised from git+https://github.com/mirage/irmin.git#81ffa256d3aa6b73b689609f7a5ff01c298fe821
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/irmin-git/irmin-git.opam from 1.2 to 2.0~beta
[0mirmin-git is now pinned to git+https://github.com/mirage/irmin.git#81ffa256d3aa6b73b689609f7a5ff01c298fe821 (version 1.2.0)
 ---> 42d2ffc2edd1
Error removing intermediate container 904fa721216e: Driver aufs failed to remove root filesystem 904fa721216e684939cfc0c1bd421b5fb45191afee3615446a138b233b067c01: rename /var/lib/docker/aufs/mnt/6aef85e20badf8fb3d3a250f8581d46760ceb24b59d3cae91ee10eaf6364084d /var/lib/docker/aufs/mnt/6aef85e20badf8fb3d3a250f8581d46760ceb24b59d3cae91ee10eaf6364084d-removing: device or resource busy
Step 9/34 : RUN opam depext -ui lwt inotify alcotest conf-libev lambda-term cmdliner     github protocol-9p rresult prometheus-app asl win-eventlog mtime hex     github-hooks hvsock irmin-watcher git irmin
 ---> Running in b5a9d3de3c1f
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - gmp-dev
#  - libev-dev
#  - linux-headers
#  - m4
#  - ncurses-dev
#  - openssl-dev
#  - pcre-dev
#  - perl
#  - pkgconfig
#  - zlib-dev
ncurses-dev
pkgconf
# The following new OS packages need to be installed: gmp-dev libev-dev linux-headers m4 openssl-dev pcre-dev perl zlib-dev
The following command needs to be run through "sudo":
    apk update
fetch http://dl-cdn.alpinelinux.org/alpine/v3.5/main/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.5/community/x86_64/APKINDEX.tar.gz
v3.5.2-89-g852b09befc [http://dl-cdn.alpinelinux.org/alpine/v3.5/main]
v3.5.2-81-gf4d50b1370 [http://dl-cdn.alpinelinux.org/alpine/v3.5/community]
OK: 7964 distinct packages available
# OS package update successful
The following command needs to be run through "sudo":
    apk add gmp-dev libev-dev linux-headers m4 openssl-dev pcre-dev perl zlib-dev
(1/16) Upgrading zlib (1.2.8-r2 -> 1.2.11-r0)
(2/16) Installing libgmpxx (6.1.1-r0)
(3/16) Installing gmp-dev (6.1.1-r0)
(4/16) Installing libev (4.22-r0)
(5/16) Installing libev-dev (4.22-r0)
(6/16) Installing linux-headers (4.4.6-r1)
(7/16) Installing m4 (1.4.17-r1)
(8/16) Installing zlib-dev (1.2.11-r0)
(9/16) Installing libcrypto1.0 (1.0.2k-r0)
(10/16) Installing libssl1.0 (1.0.2k-r0)
(11/16) Installing openssl-dev (1.0.2k-r0)
(12/16) Installing libpcre16 (8.39-r0)
(13/16) Installing libpcre32 (8.39-r0)
(14/16) Installing libpcrecpp (8.39-r0)
(15/16) Installing pcre-dev (8.39-r0)
(16/16) Installing perl (5.24.0-r0)
Executing busybox-1.25.1-r0.trigger
OK: 644 MiB in 104 packages
# OS packages installation successful
# Now letting OPAM install the packages

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[git.dev] no changes from git+https://github.com/mirage/ocaml-git.git
[irmin.1.2.0] no changes from git+https://github.com/mirage/irmin.git#81ffa256d3aa6b73b689609f7a5ff01c298fe821

The following actions will be performed:
  - install conf-gmp                1                           [required by zarith]
  - install mirage-no-xen           1                           [required by nocrypto]
  - install conf-m4                 1                           [required by ocamlfind]
  - install uchar                   0.0.1                       [required by fmt, jsonm]
  - install mirage-no-solo5         1                           [required by nocrypto]
  - install conf-perl               1                           [required by zarith]
  - install conf-libev              4-11
  - install conf-which              1                           [required by bos]
  - install result                  1.2                         [required by rresult, lwt, cmdliner, etc.]
  - install ocamlfind               1.7.2                       [required by rresult, prometheus-app, lwt, etc.]
  - install zarith                  1.4.1                       [required by nocrypto]
  - install topkg                   0.9.0                       [required by mtime, github-hooks, alcotest, etc.]
  - install ppx_tools               5.0                         [required by lwt, protocol-9p]
  - install ocamlmod                0.0.8                       [required by oasis]
  - install ocamlify                0.0.1                       [required by oasis]
  - install ocamlgraph              1.8.7                       [required by git, irmin]
  - install menhir                  20170509                    [required by atd]
  - install magic-mime              1.0.0                       [required by cohttp]
  - install jbuilder                1.0+beta9                   [required by prometheus-app, irmin, asl, etc.]
  - install easy-format             1.2.0                       [required by biniou, atd, yojson]
  - install base-bytes              base                        [required by inotify, hvsock, protocol-9p]
  - install rresult                 0.5.0
  - install react                   1.2.1                       [required by lwt_react, zed]
  - install ptime                   0.8.3                       [required by tls]
  - install mtime                   1.0.0
  - install duration                0.1.0                       [required by hvsock]
  - install cmdliner                1.0.0
  - install astring                 0.8.3                       [required by irmin-watcher, git, alcotest, etc.]
  - install asetmap                 0.8.1                       [required by prometheus]
  - install oasis                   0.4.10                      [required by x509]
  - install sexplib                 v0.9.1                      [required by protocol-9p]
  - install ppx_traverse_builtins   v0.9.0                      [required by ppx_core, ppx_metaquot]
  - install ocaml-migrate-parsetree 1.0                         [required by fieldslib, cstruct, ppx_sexp_conv, ppx_fields_conv]
  - install ocaml-compiler-libs     v0.9.0                      [required by ppx_core]
  - install biniou                  1.0.13                      [required by atdgen]
  - install atd                     1.2.1                       [required by atdgen]
  - install win-error               0.2                         [required by protocol-9p]
  - install stringext               1.4.3                       [required by github]
  - install re                      1.7.1                       [required by prometheus-app]
  - install cppo                    1.5.0                       [required by irmin-watcher, lwt]
  - install base64                  2.1.2                       [required by cohttp]
  - install uutf                    1.0.1                       [required by jsonm]
  - install fmt                     0.8.3                       [required by prometheus-app, irmin, github-hooks, etc.]
  - install decompress              0.6                         [required by git]
  - install ocb-stubblr             0.1.1                       [required by irmin-watcher]
  - install fpath                   0.7.2                       [required by bos]
  - install base                    v0.9.2                      [required by fieldslib]
  - install ppx_tools_versioned     5.0.1                       [required by cstruct]
  - install ppx_ast                 v0.9.1                      [required by ppx_core]
  - install yojson                  1.3.3                       [required by github]
  - install ppx_deriving            4.1                         [required by protocol-9p]
  - install ocplib-endian           1.0                         [required by cstruct]
  - install lwt                     3.0.0
  - install camomile                0.8.5                       [required by zed]
  - install jsonm                   1.0.1                       [required by irmin]
  - install mirage-flow             1.2.0                       [required by mirage-channel]
  - install mirage-device           1.0.0                       [required by mirage-time]
  - install alcotest                0.7.2
  - install cpuid                   0.1.1                       [required by nocrypto]
  - install stdio                   v0.9.0                      [required by ppx_core]
  - install atdgen                  1.10.2                      [required by github]
  - install prometheus              0.2                         [required by prometheus-app]
  - install named-pipe              0.4.0                       [required by protocol-9p]
  - install lwt_react               1.0.1                       [required by lambda-term]
  - install logs                    0.6.2                       [required by protocol-9p, irmin, github-hooks, etc.]
  - install inotify                 2.3
  - install cstruct                 2.4.1                       [required by irmin, hex, hvsock, protocol-9p]
  - install zed                     1.5                         [required by lambda-term]
  - install mirage-channel          3.0.0                       [required by mirage-channel-lwt]
  - install mirage-time             1.0.0                       [required by mirage-time-lwt]
  - install mirage-kv               1.0.0                       [required by mirage-kv-lwt]
  - install mirage-clock            1.2.0                       [required by mirage-flow-lwt, tls]
  - install ppx_core                v0.9.0                      [required by ppx_sexp_conv, ppx_fields_conv]
  - install win-eventlog            0.1
  - install bos                     0.1.6                       [required by hvsock]
  - install asl                     0.11
  - install irmin-watcher           0.2.0
  - install mstruct                 1.3.2                       [required by git]
  - install io-page                 1.6.1                       [required by mirage-channel-lwt]
  - install hex                     1.0.0
  - install cstruct-lwt             0                           [required by protocol-9p]
  - install asn1-combinators        0.1.3                       [required by x509]
  - install lambda-term             1.11
  - install mirage-time-lwt         1.0.0                       [required by hvsock]
  - install mirage-kv-lwt           1.0.0                       [required by protocol-9p]
  - install mirage-flow-lwt         1.2.0                       [required by hvsock, protocol-9p]
  - install ppx_optcomp             v0.9.0                      [required by conduit]
  - install mirage-channel-lwt      3.0.0                       [required by protocol-9p]
  - install hvsock                  0.14.0
  - install ppx_driver              v0.9.1                      [required by fieldslib, ppx_sexp_conv, conduit, ppx_fields_conv]
  - install ppx_metaquot            v0.9.0                      [required by ppx_sexp_conv, ppx_fields_conv]
  - install fieldslib               v0.9.0                      [required by cohttp]
  - install ppx_type_conv           v0.9.0                      [required by ppx_sexp_conv, ppx_fields_conv]
  - install ppx_sexp_conv           v0.9.0                      [required by protocol-9p]
  - install ppx_fields_conv         v0.9.0                      [required by cohttp]
  - install uri                     1.9.2                       [required by github, git, irmin]
  - install protocol-9p             0.11.0
  - install nocrypto                0.5.4                       [required by github-hooks]
  - install ipaddr                  2.7.2                       [required by conduit]
  - install irmin                   1.2.0*
  - install git                     dev*
  - install x509                    0.5.3                       [required by tls]
  - install tls                     0.8.0                       [required by github]
  - install conduit                 0.15.3                      [required by cohttp]
  - install cohttp                  0.22.0                      [required by github-hooks, github, prometheus-app]
  - install prometheus-app          0.2
  - install github                  2.3.0
  - install github-hooks            0.1.2
===== 108 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[asetmap.0.8.1] downloaded from http://erratique.ch/software/asetmap/releases/asetmap-0.8.1.tbz
[asn1-combinators.0.1.3] downloaded from https://github.com/mirleft/ocaml-asn1-combinators/releases/download/v0.1.3/asn1-combinators-0.1.3.tbz
[astring.0.8.3] downloaded from http://erratique.ch/software/astring/releases/astring-0.8.3.tbz
[asl.0.11] downloaded from https://github.com/mirage/ocaml-asl/releases/download/0.11/asl-0.11.tbz
[atd.1.2.1] downloaded from https://github.com/mjambon/atd/archive/v1.2.1.tar.gz
[atdgen.1.10.2] downloaded from https://github.com/mjambon/atdgen/archive/v1.10.2.tar.gz
[base64.2.1.2] downloaded from https://github.com/mirage/ocaml-base64/releases/download/v2.1.2/base64-2.1.2.tbz
[biniou.1.0.13] downloaded from https://github.com/mjambon/biniou/archive/v1.0.13.tar.gz
[bos.0.1.6] downloaded from http://erratique.ch/software/bos/releases/bos-0.1.6.tbz
[alcotest.0.7.2] downloaded from https://github.com/mirage/alcotest/releases/download/0.7.2/alcotest-0.7.2.tbz
[cmdliner.1.0.0] downloaded from http://erratique.ch/software/cmdliner/releases/cmdliner-1.0.0.tbz
[cohttp.0.22.0] downloaded from https://github.com/mirage/ocaml-cohttp/archive/v0.22.0.tar.gz
[camomile.0.8.5] downloaded from https://github.com/yoriyuki/Camomile/releases/download/rel-0.8.5/camomile-0.8.5.tar.bz2
[cppo.1.5.0] downloaded from https://github.com/mjambon/cppo/archive/v1.5.0.tar.gz
[conduit.0.15.3] downloaded from https://github.com/mirage/ocaml-conduit/archive/v0.15.3.tar.gz
[cpuid.0.1.1] downloaded from https://github.com/pqwy/cpuid/releases/download/v0.1.1/cpuid-0.1.1.tbz
[cstruct.2.4.1] downloaded from https://github.com/mirage/ocaml-cstruct/archive/v2.4.1.tar.gz
[decompress.0.6] downloaded from https://github.com/mirage/decompress/releases/download/v0.6/decompress-0.6.tbz
[duration.0.1.0] downloaded from https://github.com/hannesm/duration/releases/download/0.1.0/duration-0.1.0.tbz
[fieldslib.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/fieldslib-v0.9.0.tar.gz
[fmt.0.8.3] downloaded from http://erratique.ch/software/fmt/releases/fmt-0.8.3.tbz
[fpath.0.7.2] downloaded from http://erratique.ch/software/fpath/releases/fpath-0.7.2.tbz
[easy-format.1.2.0] downloaded from https://github.com/mjambon/easy-format/archive/v1.2.0.tar.gz
[github.2.3.0] downloaded from https://github.com/mirage/ocaml-github/archive/v2.3.0.tar.gz
[git.dev] synchronised from git+https://github.com/mirage/ocaml-git.git
[hex.1.0.0] downloaded from https://github.com/mirage/ocaml-hex/archive/1.0.0.tar.gz
[base.v0.9.2] downloaded from https://github.com/janestreet/base/archive/v0.9.2.tar.gz
[hvsock.0.14.0] downloaded from https://github.com/mirage/ocaml-hvsock/archive/v0.14.0.tar.gz
[io-page.1.6.1] downloaded from https://github.com/mirage/io-page/archive/v1.6.1.tar.gz
[ipaddr.2.7.2] downloaded from https://github.com/mirage/ocaml-ipaddr/releases/download/2.7.2/ipaddr-2.7.2.tbz
[inotify.2.3] downloaded from https://github.com/whitequark/ocaml-inotify/archive/v2.3.tar.gz
[irmin.1.2.0] synchronised from git+https://github.com/mirage/irmin.git#81ffa256d3aa6b73b689609f7a5ff01c298fe821
[jbuilder.1.0+beta9] downloaded from https://github.com/janestreet/jbuilder/releases/download/1.0+beta9/jbuilder-1.0.beta9.tbz
[jsonm.1.0.1] downloaded from http://erratique.ch/software/jsonm/releases/jsonm-1.0.1.tbz
[irmin-watcher.0.2.0] downloaded from https://github.com/samoht/irmin-watcher/releases/download/0.2.0/irmin-watcher-0.2.0.tbz
[logs.0.6.2] downloaded from http://erratique.ch/software/logs/releases/logs-0.6.2.tbz
[lwt.3.0.0] downloaded from https://github.com/ocsigen/lwt/archive/3.0.0.tar.gz
[lambda-term.1.11] downloaded from https://github.com/diml/lambda-term/archive/1.11.tar.gz
[github-hooks.0.1.2] downloaded from https://github.com/dsheets/ocaml-github-hooks/releases/download/0.1.2/github-hooks-0.1.2.tbz
[menhir.20170509] downloaded from http://gallium.inria.fr/~fpottier/menhir/menhir-20170509.tar.gz
[magic-mime.1.0.0] downloaded from https://github.com/mirage/ocaml-magic-mime/archive/v1.0.0.tar.gz
[mirage-channel.3.0.0] downloaded from https://github.com/mirage/mirage-channel/releases/download/v3.0.0/mirage-channel-3.0.0.tbz
[lwt_react.1.0.1] downloaded from https://github.com/ocsigen/lwt/releases/download/3.0.0/lwt_react-1.0.1.tar.gz
[mirage-channel-lwt.3.0.0] downloaded from https://github.com/mirage/mirage-channel/releases/download/v3.0.0/mirage-channel-lwt-3.0.0.tbz
[mirage-device.1.0.0] downloaded from https://github.com/mirage/mirage-device/releases/download/1.0.0/mirage-device-1.0.0.tbz
[mirage-flow.1.2.0] downloaded from https://github.com/mirage/mirage-flow/releases/download/1.2.0/mirage-flow-1.2.0.tbz
[mirage-flow-lwt.1.2.0] downloaded from https://github.com/mirage/mirage-flow/releases/download/1.2.0/mirage-flow-lwt-1.2.0.tbz
[mirage-kv.1.0.0] downloaded from https://github.com/mirage/mirage-kv/releases/download/1.0.0/mirage-kv-1.0.0.tbz
[mirage-kv-lwt.1.0.0] downloaded from https://github.com/mirage/mirage-kv/releases/download/1.0.0/mirage-kv-lwt-1.0.0.tbz
[mirage-clock.1.2.0] downloaded from https://github.com/mirage/mirage-clock/releases/download/1.2.0/mirage-clock-1.2.0.tbz
[mirage-time-lwt.1.0.0] downloaded from https://github.com/mirage/mirage-time/releases/download/1.0.0/mirage-time-lwt-1.0.0.tbz
[mtime.1.0.0] downloaded from http://erratique.ch/software/mtime/releases/mtime-1.0.0.tbz
[mstruct.1.3.2] downloaded from https://github.com/mirage/ocaml-mstruct/archive/1.3.2.tar.gz
[named-pipe.0.4.0] downloaded from https://github.com/mirage/ocaml-named-pipe/releases/download/0.4.0/named-pipe-0.4.0.tbz
[oasis.0.4.10] downloaded from https://forge.ocamlcore.org/frs/download.php/1694/oasis-0.4.10.tar.gz
[ocaml-compiler-libs.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ocaml-compiler-libs-v0.9.0.tar.gz
[nocrypto.0.5.4] downloaded from https://github.com/mirleft/ocaml-nocrypto/releases/download/v0.5.4/nocrypto-0.5.4.tbz
[ocaml-migrate-parsetree.1.0] downloaded from https://github.com/let-def/ocaml-migrate-parsetree/archive/v1.0.tar.gz
[ocamlfind.1.7.2] downloaded from http://download.camlcity.org/download/findlib-1.7.2.tar.gz
[ocamlgraph.1.8.7] downloaded from http://ocamlgraph.lri.fr/download/ocamlgraph-1.8.7.tar.gz
[ocamlify.0.0.1] downloaded from http://forge.ocamlcore.org/frs/download.php/379/ocamlify-0.0.1.tar.gz
[ocamlmod.0.0.8] downloaded from https://forge.ocamlcore.org/frs/download.php/1544/ocamlmod-0.0.8.tar.gz
[ocplib-endian.1.0] downloaded from https://github.com/OCamlPro/ocplib-endian/archive/1.0.tar.gz
[ppx_ast.v0.9.1] downloaded from https://github.com/janestreet/ppx_ast/archive/v0.9.1.tar.gz
[ppx_core.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_core-v0.9.0.tar.gz
[ocb-stubblr.0.1.1] downloaded from https://github.com/pqwy/ocb-stubblr/releases/download/v0.1.1/ocb-stubblr-0.1.1.tbz
[ppx_driver.v0.9.1] downloaded from https://github.com/janestreet/ppx_driver/archive/v0.9.1.tar.gz
[mirage-time.1.0.0] downloaded from https://github.com/mirage/mirage-time/releases/download/1.0.0/mirage-time-1.0.0.tbz
[ppx_fields_conv.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_fields_conv-v0.9.0.tar.gz
[ppx_metaquot.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_metaquot-v0.9.0.tar.gz
[ppx_optcomp.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_optcomp-v0.9.0.tar.gz
[ppx_deriving.4.1] downloaded from https://github.com/whitequark/ppx_deriving/archive/v4.1.tar.gz
[ppx_sexp_conv.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_sexp_conv-v0.9.0.tar.gz
[ppx_traverse_builtins.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_traverse_builtins-v0.9.0.tar.gz
[ppx_tools.5.0] downloaded from https://github.com/alainfrisch/ppx_tools/tarball/f70ca1d07d565989a0041e312e8efc00ff2ad87e
[ppx_tools_versioned.5.0.1] downloaded from https://github.com/let-def/ppx_tools_versioned/archive/5.0.1.tar.gz
[ppx_type_conv.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_type_conv-v0.9.0.tar.gz
[prometheus.0.2] downloaded from https://github.com/mirage/prometheus/archive/v0.2.tar.gz
[ptime.0.8.3] downloaded from http://erratique.ch/software/ptime/releases/ptime-0.8.3.tbz
[prometheus-app.0.2] downloaded from https://github.com/mirage/prometheus/archive/v0.2.tar.gz
[react.1.2.1] downloaded from http://erratique.ch/software/react/releases/react-1.2.1.tbz
[re.1.7.1] downloaded from https://github.com/ocaml/ocaml-re/archive/1.7.1.tar.gz
[result.1.2] downloaded from https://github.com/janestreet/result/archive/1.2.tar.gz
[rresult.0.5.0] downloaded from http://erratique.ch/software/rresult/releases/rresult-0.5.0.tbz
[stdio.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/stdio-v0.9.0.tar.gz
[sexplib.v0.9.1] downloaded from https://github.com/janestreet/sexplib/archive/v0.9.1.tar.gz
[protocol-9p.0.11.0] downloaded from https://github.com/mirage/ocaml-9p/archive/v0.11.0.tar.gz
[topkg.0.9.0] downloaded from http://erratique.ch/software/topkg/releases/topkg-0.9.0.tbz
[stringext.1.4.3] downloaded from https://github.com/rgrinberg/stringext/archive/v1.4.3.tar.gz
[uchar.0.0.1] downloaded from https://github.com/ocaml/uchar/releases/download/v0.0.1/uchar-0.0.1.tbz
[uutf.1.0.1] downloaded from http://erratique.ch/software/uutf/releases/uutf-1.0.1.tbz
[uri.1.9.2] downloaded from https://github.com/mirage/ocaml-uri/archive/v1.9.2.tar.gz
[win-error.0.2] downloaded from https://github.com/djs55/ocaml-win-error/archive/v0.2.tar.gz
[tls.0.8.0] downloaded from https://github.com/mirleft/ocaml-tls/releases/download/0.8.0/tls-0.8.0.tbz
[x509.0.5.3] downloaded from https://github.com/mirleft/ocaml-x509/archive/0.5.3.tar.gz
[zarith.1.4.1] downloaded from https://forge.ocamlcore.org/frs/download.php/1574/zarith-1.4.1.tgz
[yojson.1.3.3] downloaded from https://github.com/mjambon/yojson/archive/v1.3.3.tar.gz
[win-eventlog.0.1] downloaded from https://github.com/djs55/ocaml-win-eventlog/archive/v0.1.tar.gz
[zed.1.5] downloaded from https://github.com/diml/zed/archive/1.5.tar.gz

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> installed conf-gmp.1
-> installed conf-libev.4-11
-> installed conf-m4.1
-> installed conf-perl.1
-> installed conf-which.1
-> installed mirage-no-solo5.1
-> installed mirage-no-xen.1
-> installed ocamlfind.1.7.2
-> installed base-bytes.base
-> installed cppo.1.5.0
-> installed camomile.0.8.5
-> installed easy-format.1.2.0
-> installed biniou.1.0.13
-> installed jbuilder.1.0+beta9
-> installed magic-mime.1.0.0
-> installed menhir.20170509
-> installed atd.1.2.1
-> installed ocaml-compiler-libs.v0.9.0
-> installed ocamlgraph.1.8.7
-> installed ocamlify.0.0.1
-> installed ocamlmod.0.0.8
-> installed oasis.0.4.10
-> installed ocplib-endian.1.0
-> installed ppx_tools.5.0
-> installed ppx_traverse_builtins.v0.9.0
-> installed re.1.7.1
-> installed result.1.2
-> installed lwt.3.0.0
-> installed inotify.2.3
-> installed ocaml-migrate-parsetree.1.0
-> installed ppx_ast.v0.9.1
-> installed ppx_deriving.4.1
-> installed ppx_tools_versioned.5.0.1
-> installed sexplib.v0.9.1
-> installed base.v0.9.2
-> installed cstruct.2.4.1
-> installed cstruct-lwt.0
-> installed hex.1.0.0
-> installed io-page.1.6.1
-> installed mstruct.1.3.2
-> installed stdio.v0.9.0
-> installed ppx_core.v0.9.0
-> installed ppx_optcomp.v0.9.0
-> installed ppx_driver.v0.9.1
-> installed fieldslib.v0.9.0
-> installed ppx_metaquot.v0.9.0
-> installed ppx_type_conv.v0.9.0
-> installed ppx_fields_conv.v0.9.0
-> installed ppx_sexp_conv.v0.9.0
-> installed stringext.1.4.3
-> installed topkg.0.9.0
-> installed asetmap.0.8.1
-> installed astring.0.8.3
-> installed base64.2.1.2
-> installed cmdliner.1.0.0
-> installed decompress.0.6
-> installed duration.0.1.0
-> installed fpath.0.7.2
-> installed ipaddr.2.7.2
-> installed mtime.1.0.0
-> installed ocb-stubblr.0.1.1
-> installed cpuid.0.1.1
-> installed named-pipe.0.4.0
-> installed ptime.0.8.3
-> installed react.1.2.1
-> installed lwt_react.1.0.1
-> installed rresult.0.5.0
-> installed uchar.0.0.1
-> installed fmt.0.8.3
-> installed alcotest.0.7.2
-> installed logs.0.6.2
-> installed asl.0.11
-> installed bos.0.1.6
-> installed irmin-watcher.0.2.0
-> installed mirage-device.1.0.0
-> installed mirage-clock.1.2.0
-> installed mirage-flow.1.2.0
-> installed mirage-channel.3.0.0
-> installed mirage-flow-lwt.1.2.0
-> installed mirage-channel-lwt.3.0.0
-> installed mirage-kv.1.0.0
-> installed mirage-kv-lwt.1.0.0
-> installed mirage-time.1.0.0
-> installed mirage-time-lwt.1.0.0
-> installed hvsock.0.14.0
-> installed prometheus.0.2
-> installed uri.1.9.2
-> installed git.dev
-> installed uutf.1.0.1
-> installed jsonm.1.0.1
-> installed irmin.1.2.0
-> installed win-error.0.2
-> installed protocol-9p.0.11.0
-> installed win-eventlog.0.1
-> installed yojson.1.3.3
-> installed atdgen.1.10.2
-> installed zarith.1.4.1
-> installed asn1-combinators.0.1.3
-> installed nocrypto.0.5.4
-> installed x509.0.5.3
-> installed tls.0.8.0
-> installed conduit.0.15.3
-> installed cohttp.0.22.0
-> installed prometheus-app.0.2
-> installed zed.1.5
-> installed lambda-term.1.11
-> installed github.2.3.0
-> installed github-hooks.0.1.2
Done.

=-=- lwt.3.0.0 installed successfully -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
=> Lwt 3.0.0 made some minor breaking changes, announced in 2.7.0. See
     https://github.com/ocsigen/lwt/issues/308
# Run eval `opam env` to update the current shell environment
 ---> b635e5448db4
Error removing intermediate container b79796855da3: No such container: b79796855da32b255612005d8609994dad25731e54ea8f3105fe1da4812c9279
Step 10/34 : COPY check-libev.ml /tmp/check-libev.ml
 ---> cf74f59d806d
Error removing intermediate container b79796855da3: No such container: b79796855da32b255612005d8609994dad25731e54ea8f3105fe1da4812c9279
Step 11/34 : RUN opam config exec -- ocaml /tmp/check-libev.ml
 ---> Running in 4b1ed57d8cdc
 ---> e6ad8875b7d0
Error removing intermediate container 904fa721216e: No such container: 904fa721216e684939cfc0c1bd421b5fb45191afee3615446a138b233b067c01
Step 12/34 : COPY datakit.opam /home/opam/src/datakit/datakit.opam
 ---> 9b7f31eec90c
Error removing intermediate container b79796855da3: No such container: b79796855da32b255612005d8609994dad25731e54ea8f3105fe1da4812c9279
Step 13/34 : COPY datakit-client.opam /home/opam/src/datakit/datakit-client.opam
 ---> 1f75f7e49317
Removing intermediate container 99636c854b4a
Error removing intermediate container b79796855da3: No such container: b79796855da32b255612005d8609994dad25731e54ea8f3105fe1da4812c9279
Step 14/34 : COPY datakit-client-9p.opam /home/opam/src/datakit/datakit-client-9p.opam
 ---> 652862d15fda
Removing intermediate container 4b1ed57d8cdc
Removing intermediate container 5a2deb7179b2
Error removing intermediate container 458ed4a490b3: Driver aufs failed to remove root filesystem 458ed4a490b3541db218c1dcd8620666730f2cadb89d4e62e055cd57f0b40353: rename /var/lib/docker/aufs/mnt/7ed223380499477fc15da50665553732e0fa23becfb9e7454162bb4510c35a6b /var/lib/docker/aufs/mnt/7ed223380499477fc15da50665553732e0fa23becfb9e7454162bb4510c35a6b-removing: device or resource busy
Step 15/34 : COPY datakit-client-git.opam /home/opam/src/datakit/datakit-client-git.opam
 ---> dec5470ded10
Error removing intermediate container b79796855da3: No such container: b79796855da32b255612005d8609994dad25731e54ea8f3105fe1da4812c9279
Step 16/34 : COPY datakit-server.opam /home/opam/src/datakit/datakit-server.opam
 ---> 0ae82f8fda6f
Removing intermediate container 3f78d77214d8
Error removing intermediate container 904fa721216e: No such container: 904fa721216e684939cfc0c1bd421b5fb45191afee3615446a138b233b067c01
Step 17/34 : COPY datakit-server-9p.opam /home/opam/src/datakit/datakit-server-9p.opam
 ---> 2ae658862463
Removing intermediate container b5a9d3de3c1f
Removing intermediate container c486a0157044
Removing intermediate container c6e0f4b37265
Removing intermediate container e65f45845e80
Error removing intermediate container 458ed4a490b3: No such container: 458ed4a490b3541db218c1dcd8620666730f2cadb89d4e62e055cd57f0b40353
Step 18/34 : COPY datakit-github.opam /home/opam/src/datakit/datakit-github.opam
 ---> c33d33752276
Removing intermediate container 7b948754b611
Error removing intermediate container 904fa721216e: No such container: 904fa721216e684939cfc0c1bd421b5fb45191afee3615446a138b233b067c01
Step 19/34 : COPY datakit-bridge-github.opam /home/opam/src/datakit/datakit-bridge-github.opam
 ---> 1733b72d41b9
Removing intermediate container ad8377c15543
Error removing intermediate container 458ed4a490b3: No such container: 458ed4a490b3541db218c1dcd8620666730f2cadb89d4e62e055cd57f0b40353
Step 20/34 : RUN opam pin add datakit.dev /home/opam/src/datakit -yn &&     opam pin add datakit-server.dev /home/opam/src/datakit -yn &&     opam pin add datakit-server-9p.dev /home/opam/src/datakit -yn &&     opam pin add datakit-client.dev /home/opam/src/datakit -yn &&     opam pin add datakit-client-9p.dev /home/opam/src/datakit -yn &&     opam pin add datakit-client-git.dev /home/opam/src/datakit -yn &&     opam pin add datakit-github.dev /home/opam/src/datakit -yn &&     opam pin add datakit-bridge-github.dev /home/opam/src/datakit -yn
 ---> Running in 08e154215dfe
[datakit.dev: rsync]
[datakit.dev] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit/datakit.opam from 1.2 to 2.0~beta
[0mdatakit is now pinned to file:///home/opam/src/datakit (version dev)
[datakit-server.dev: rsync]
[datakit-server.dev] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit-server/datakit-server.opam from 1.2 to 2.0~beta
[0mdatakit-server is now pinned to file:///home/opam/src/datakit (version dev)
Package datakit-server-9p does not exist, create as a NEW package ? [Y/n] y
[datakit-server-9p.dev: rsync]
[datakit-server-9p.dev] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit-server-9p/datakit-server-9p.opam from 1.2 to 2.0~beta
[0mdatakit-server-9p is now pinned to file:///home/opam/src/datakit (version dev)
[datakit-client.dev: rsync]
[datakit-client.dev] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit-client/datakit-client.opam from 1.2 to 2.0~beta
[0mdatakit-client is now pinned to file:///home/opam/src/datakit (version dev)
Package datakit-client-9p does not exist, create as a NEW package ? [Y/n] y
[datakit-client-9p.dev: rsync]
[datakit-client-9p.dev] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit-client-9p/datakit-client-9p.opam from 1.2 to 2.0~beta
[0mdatakit-client-9p is now pinned to file:///home/opam/src/datakit (version dev)
Package datakit-client-git does not exist, create as a NEW package ? [Y/n] y
[datakit-client-git.dev: rsync]
[datakit-client-git.dev] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit-client-git/datakit-client-git.opam from 1.2 to 2.0~beta
[0mdatakit-client-git is now pinned to file:///home/opam/src/datakit (version dev)
[datakit-github.dev: rsync]
[datakit-github.dev] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit-github/datakit-github.opam from 1.2 to 2.0~beta
[0mdatakit-github is now pinned to file:///home/opam/src/datakit (version dev)
[datakit-bridge-github.dev: rsync]
[datakit-bridge-github.dev] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit-bridge-github/datakit-bridge-github.opam from 1.2 to 2.0~beta
[0mdatakit-bridge-github is now pinned to file:///home/opam/src/datakit (version dev)
 ---> 2a8afeb94fe0
Error removing intermediate container b79796855da3: No such container: b79796855da32b255612005d8609994dad25731e54ea8f3105fe1da4812c9279
Step 21/34 : COPY . /home/opam/src/datakit
 ---> f09337c3703b
Removing intermediate container 08446211ad16
Error removing intermediate container 458ed4a490b3: No such container: 458ed4a490b3541db218c1dcd8620666730f2cadb89d4e62e055cd57f0b40353
Step 22/34 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in aa6472019741
 ---> 7ed2625eca1b
Removing intermediate container 08e154215dfe
Removing intermediate container aa6472019741
Error removing intermediate container 458ed4a490b3: No such container: 458ed4a490b3541db218c1dcd8620666730f2cadb89d4e62e055cd57f0b40353
Step 23/34 : RUN cd /home/opam/src/datakit &&     scripts/watermark.sh &&     git status --porcelain
 ---> Running in 4c0ad024e3f6
 M src/version.ml
 ---> 62017071d2c0
Error removing intermediate container 904fa721216e: No such container: 904fa721216e684939cfc0c1bd421b5fb45191afee3615446a138b233b067c01
Step 24/34 : RUN opam install datakit
 ---> Running in 86e2aa760ef1

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit.dev] synchronised from file:///home/opam/src/datakit

The following actions will be performed:
  - install protocol-9p-unix  0.11.0                            [required by datakit]
  - install irmin-git         1.2.0*                            [required by datakit]
  - install datakit-server    dev*                              [required by datakit-server-9p]
  - install irmin-mem         1.2.0*                            [required by datakit]
  - install datakit-server-9p dev*                              [required by datakit]
  - install datakit           dev*
===== 6 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-server.dev] synchronised from file:///home/opam/src/datakit
[datakit.dev] synchronised from file:///home/opam/src/datakit
[datakit-server-9p.dev] synchronised from file:///home/opam/src/datakit
[protocol-9p-unix.0.11.0] found in cache
[irmin-mem.1.2.0] synchronised from git+https://github.com/mirage/irmin.git#81ffa256d3aa6b73b689609f7a5ff01c298fe821
[irmin-git.1.2.0] synchronised from git+https://github.com/mirage/irmin.git#81ffa256d3aa6b73b689609f7a5ff01c298fe821

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> installed datakit-server.dev
-> installed datakit-server-9p.dev
-> installed irmin-git.1.2.0
-> installed irmin-mem.1.2.0
-> installed protocol-9p-unix.0.11.0
-> installed datakit.dev
Done.
# Run eval `opam env` to update the current shell environment
 ---> ab316111a4b2
Removing intermediate container 4dffd14703aa
Error removing intermediate container 904fa721216e: No such container: 904fa721216e684939cfc0c1bd421b5fb45191afee3615446a138b233b067c01
Step 25/34 : RUN opam install datakit-bridge-github -ytv
 ---> Running in 509eee39aba7

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/1: [datakit-bridge-github.dev: rsync]
[datakit-bridge-github.dev] synchronised from file:///home/opam/src/datakit

The following actions will be performed:
  - install datakit-client        dev*                          [required by datakit-bridge-github]
  - install git-http              1.10.0                        [required by git-unix]
  - install datakit-github        dev*                          [required by datakit-bridge-github]
  - install datakit-client-9p     dev*                          [required by datakit-bridge-github]
  - install git-unix              dev*                          [required by datakit-client-git]
  - install datakit-client-git    dev*                          [required by datakit-bridge-github]
  - install datakit-bridge-github dev*
===== 7 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/7: [datakit-bridge-github.dev: rsync]
Processing  2/7: [datakit-bridge-github.dev: rsync] [datakit-client.dev: rsync]
Processing  3/7: [datakit-bridge-github.dev: rsync] [datakit-client.dev: rsync] [datakit-client-9p.dev: rsync]
[datakit-client.dev] synchronised from file:///home/opam/src/datakit
Processing  3/7: [datakit-bridge-github.dev: rsync] [datakit-client-9p.dev: rsync]
Processing  4/7: [datakit-bridge-github.dev: rsync] [datakit-client-9p.dev: rsync] [datakit-client-git.dev: rsync]
[datakit-bridge-github.dev] synchronised from file:///home/opam/src/datakit
Processing  4/7: [datakit-client-9p.dev: rsync] [datakit-client-git.dev: rsync]
Processing  5/7: [datakit-client-9p.dev: rsync] [datakit-client-git.dev: rsync] [datakit-github.dev: rsync]
[datakit-client-9p.dev] synchronised from file:///home/opam/src/datakit
Processing  5/7: [datakit-client-git.dev: rsync] [datakit-github.dev: rsync]
Processing  6/7: [datakit-client-git.dev: rsync] [datakit-github.dev: rsync] [git-http.1.10.0: http]
[datakit-client-git.dev] synchronised from file:///home/opam/src/datakit
Processing  6/7: [datakit-github.dev: rsync] [git-http.1.10.0: http]
Processing  7/7: [datakit-github.dev: rsync] [git-http.1.10.0: http] [git-unix.dev: git]
[datakit-github.dev] synchronised from file:///home/opam/src/datakit
Processing  7/7: [git-http.1.10.0: http] [git-unix.dev: git]
[git-unix.dev] synchronised from git+https://github.com/mirage/ocaml-git.git
Processing  7/7: [git-http.1.10.0: http]
[git-http.1.10.0] downloaded from https://github.com/mirage/ocaml-git/releases/download/1.10.0/git-1.10.0.tbz
Processing  7/7:

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/14: [datakit-client: jbuilder build]
+ jbuilder "build" "-p" "datakit-client" "-j" "1" (CWD=/home/opam/.opam/default/.opam-switch/build/datakit-client.dev)
-     ocamldep api/ocaml/datakit_client.depends.ocamldep-output
-     ocamldep api/ocaml/datakit_client.dependsi.ocamldep-output
-       ocamlc api/ocaml/datakit_client.{cmi,cmti}
-       ocamlc api/ocaml/datakit_client.{cmo,cmt}
-     ocamlopt api/ocaml/datakit_client.{cmx,o}
-       ocamlc api/ocaml/datakit_client.cma
-     ocamlopt api/ocaml/datakit_client.{a,cmxa}
-     ocamlopt api/ocaml/datakit_client.cmxs
-> compiled  datakit-client.dev
Processing  2/14: [git-http: ocaml build]
+ ocaml "pkg/pkg.ml" "build" "--pinned" "false" "-n" "git-http" (CWD=/home/opam/.opam/default/.opam-switch/build/git-http.1.10.0)
- ocamlfind ocamldep -package 'cohttp.lwt uri' -package 'cstruct astring fmt hex logs lwt ocamlgraph re uri mstruct' -package bytes -package git -modules src-http/git_http.ml > src-http/git_http.ml.depends
- ocamlfind ocamldep -package 'cohttp.lwt uri' -package 'cstruct astring fmt hex logs lwt ocamlgraph re uri mstruct' -package bytes -package git -modules src-http/git_http.mli > src-http/git_http.mli.depends
- ocamlfind ocamlc -c -g -safe-string -short-paths -package 'cohttp.lwt uri' -package 'cstruct astring fmt hex logs lwt ocamlgraph re uri mstruct' -warn-error +1..49+60 -w A-4-41-44 -package bytes -package git -I src-http -o src-http/git_http.cmi src-http/git_http.mli
- ocamlfind ocamlopt -c -g -safe-string -short-paths -package 'cohttp.lwt uri' -package 'cstruct astring fmt hex logs lwt ocamlgraph re uri mstruct' -warn-error +1..49+60 -w A-4-41-44 -package bytes -package git -I src-http -o src-http/git_http.cmx src-http/git_http.ml
- ocamlfind ocamlopt -a -package 'cohttp.lwt uri' -package 'cstruct astring fmt hex logs lwt ocamlgraph re uri mstruct' -package bytes -package git -I src-http src-http/git_http.cmx -o src-http/git-http.cmxa
- ocamlfind ocamlopt -shared -linkall -package 'cohttp.lwt uri' -package 'cstruct astring fmt hex logs lwt ocamlgraph re uri mstruct' -package bytes -package git -I src-http src-http/git-http.cmxa -o src-http/git-http.cmxs
- ocamlfind ocamlc -c -g -safe-string -short-paths -package 'cohttp.lwt uri' -package 'cstruct astring fmt hex logs lwt ocamlgraph re uri mstruct' -warn-error +1..49+60 -w A-4-41-44 -package bytes -package git -I src-http -o src-http/git_http.cmo src-http/git_http.ml
- ocamlfind ocamlc -a -package 'cohttp.lwt uri' -package 'cstruct astring fmt hex logs lwt ocamlgraph re uri mstruct' -package bytes -package git -I src-http src-http/git_http.cmo -o src-http/git-http.cma
-> compiled  git-http.1.10.0
-> installed datakit-client.dev
Processing  4/14: [datakit-client-9p: jbuilder build]
+ jbuilder "build" "-p" "datakit-client-9p" "-j" "1" (CWD=/home/opam/.opam/default/.opam-switch/build/datakit-client-9p.dev)
-     ocamldep api/ocaml/9p/mount/mount.depends.ocamldep-output
-     ocamldep api/ocaml/9p/datakit_client_9p.depends.ocamldep-output
-     ocamldep api/ocaml/9p/datakit_client_9p.dependsi.ocamldep-output
-       ocamlc api/ocaml/9p/mount/version.{cmi,cmo,cmt}
-       ocamlc api/ocaml/9p/datakit_client_9p.{cmi,cmti}
-     ocamlopt api/ocaml/9p/mount/version.{cmx,o}
-       ocamlc api/ocaml/9p/mount/mount.{cmi,cmo,cmt}
-       ocamlc api/ocaml/9p/datakit_client_9p.{cmo,cmt}
-     ocamlopt api/ocaml/9p/datakit_client_9p.{cmx,o}
-     ocamlopt api/ocaml/9p/mount/mount.{cmx,o}
-       ocamlc api/ocaml/9p/datakit_client_9p.cma
-     ocamlopt api/ocaml/9p/datakit_client_9p.{a,cmxa}
-     ocamlopt api/ocaml/9p/mount/mount.exe
-     ocamlopt api/ocaml/9p/datakit_client_9p.cmxs
-> compiled  datakit-client-9p.dev
Processing  5/14: [datakit-github: jbuilder build]
+ jbuilder "build" "-p" "datakit-github" "-j" "1" (CWD=/home/opam/.opam/default/.opam-switch/build/datakit-github.dev)
-     ocamldep src/datakit-github/datakit_github.depends.ocamldep-output
-     ocamldep src/datakit-github/datakit_github.dependsi.ocamldep-output
-       ocamlc src/datakit-github/datakit_github.{cmi,cmti}
-       ocamlc src/datakit-github/datakit_github.{cmo,cmt}
-     ocamlopt src/datakit-github/datakit_github.{cmx,o}
-       ocamlc src/datakit-github/datakit_github_conv.{cmi,cmti}
-       ocamlc src/datakit-github/datakit_github_conv.{cmo,cmt}
-     ocamlopt src/datakit-github/datakit_github_conv.{cmx,o}
-       ocamlc src/datakit-github/datakit_github.cma
-     ocamlopt src/datakit-github/datakit_github.{a,cmxa}
-     ocamlopt src/datakit-github/datakit_github.cmxs
-> compiled  datakit-github.dev
-> installed datakit-client-9p.dev
-> installed datakit-github.dev
-> installed git-http.1.10.0
Processing  9/14: [git-unix: jbuilder build]
+ jbuilder "build" "-p" "git-unix" "-j" "1" (CWD=/home/opam/.opam/default/.opam-switch/build/git-unix.dev)
- File "test/git/jbuild", line 5, characters 13-16:
- Warning: This field is useless without a (public_name ...) field.
- File "test/git-mirage/jbuild", line 5, characters 13-23:
- Warning: This field is useless without a (public_name ...) field.
- File "test/git-unix/jbuild", line 5, characters 13-21:
- Warning: This field is useless without a (public_name ...) field.
-     ocamldep src/git-unix/ogit/main.depends.ocamldep-output
-     ocamldep src/git-unix/git_unix.depends.ocamldep-output
-     ocamldep src/git-unix/git_unix.dependsi.ocamldep-output
-       ocamlc src/git-unix/git_unix.{cmi,cmti}
-       ocamlc src/git-unix/git_unix.{cmo,cmt}
-     ocamlopt src/git-unix/git_unix.{cmx,o}
-       ocamlc src/git-unix/ogit/main.{cmi,cmo,cmt}
-       ocamlc src/git-unix/git_unix.cma
-     ocamlopt src/git-unix/git_unix.{a,cmxa}
-     ocamlopt src/git-unix/ogit/main.{cmx,o}
-     ocamlopt src/git-unix/git_unix.cmxs
-     ocamlopt src/git-unix/ogit/main.exe
-> compiled  git-unix.dev
-> installed git-unix.dev
Processing 11/14: [datakit-client-git: jbuilder build]
+ jbuilder "build" "-p" "datakit-client-git" "-j" "1" (CWD=/home/opam/.opam/default/.opam-switch/build/datakit-client-git.dev)
-     ocamldep api/ocaml/git/datakit_client_git.depends.ocamldep-output
-     ocamldep api/ocaml/git/datakit_client_git.dependsi.ocamldep-output
-       ocamlc api/ocaml/git/datakit_client_git.{cmi,cmti}
-       ocamlc api/ocaml/git/datakit_client_git.{cmo,cmt}
-     ocamlopt api/ocaml/git/datakit_client_git.{cmx,o}
-       ocamlc api/ocaml/git/datakit_client_git.cma
-     ocamlopt api/ocaml/git/datakit_client_git.{a,cmxa}
-     ocamlopt api/ocaml/git/datakit_client_git.cmxs
-> compiled  datakit-client-git.dev
-> installed datakit-client-git.dev
Processing 13/14: [datakit-bridge-github: jbuilder build]
+ jbuilder "build" "-p" "datakit-bridge-github" "-j" "1" (CWD=/home/opam/.opam/default/.opam-switch/build/datakit-bridge-github.dev)
-     ocamldep bridge/github/main.depends.ocamldep-output
-     ocamldep bridge/github/datakit_bridge_github.depends.ocamldep-output
-     ocamldep bridge/github/datakit_bridge_github.dependsi.ocamldep-output
-     ocamldep src/datakit-log/datakit_log.dependsi.ocamldep-output
-     ocamldep src/datakit-log/datakit_log.depends.ocamldep-output
-     ocamldep bridge/github/main.dependsi.ocamldep-output
-       ocamlc bridge/github/datakit_github_api.{cmi,cmti}
-       ocamlc bridge/github/datakit_github_state.{cmi,cmti}
-       ocamlc bridge/github/datakit_github_sync.{cmi,cmti}
-       ocamlc src/datakit-log/datakit_log.{cmi,cmti}
-     ocamlopt bridge/github/datakit_github_api.{cmx,o}
-     ocamlopt bridge/github/datakit_github_state.{cmx,o}
-       ocamlc bridge/github/version.{cmi,cmo,cmt}
-       ocamlc bridge/github/main.{cmi,cmti}
-     ocamlopt src/datakit-log/datakit_log.{cmx,o}
-     ocamlopt bridge/github/datakit_github_sync.{cmx,o}
-     ocamlopt src/datakit-log/datakit_log.{a,cmxa}
-     ocamlopt bridge/github/version.{cmx,o}
-     ocamlopt bridge/github/datakit_bridge_github.{a,cmxa}
-     ocamlopt bridge/github/main.{cmx,o}
-     ocamlopt bridge/github/main.exe
Processing 13/14: [datakit-bridge-github: jbuilder runtest]
+ jbuilder "runtest" "tests/datakit-bridge-github" (CWD=/home/opam/.opam/default/.opam-switch/build/datakit-bridge-github.dev)
-     ocamldep tests/datakit-bridge-github/test.depends.ocamldep-output
-     ocamldep api/ocaml/datakit_client.depends.ocamldep-output
-     ocamldep api/ocaml/datakit_client.dependsi.ocamldep-output
-     ocamldep src/datakit-github/datakit_github.dependsi.ocamldep-output
-     ocamldep api/ocaml/9p/datakit_client_9p.depends.ocamldep-output
-     ocamldep src/datakit-io/datakit_io.depends.ocamldep-output
-     ocamldep src/datakit-server-9p/datakit_server_9p.depends.ocamldep-output
-     ocamldep src/datakit-server/datakit_server.depends.ocamldep-output
-     ocamldep api/ocaml/9p/datakit_client_9p.dependsi.ocamldep-output
-     ocamldep src/datakit-io/datakit_io.dependsi.ocamldep-output
-     ocamldep src/datakit-github/datakit_github.depends.ocamldep-output
-     ocamldep src/datakit/datakit.depends.ocamldep-output
-     ocamldep tests/common/test.depends.ocamldep-output
-     ocamldep src/datakit-server-9p/datakit_server_9p.dependsi.ocamldep-output
-     ocamldep src/datakit-server/datakit_server.dependsi.ocamldep-output
-     ocamldep src/datakit/datakit.dependsi.ocamldep-output
-       ocamlc src/datakit/datakit__.{cmi,cmo,cmt}
-     ocamldep tests/common/test.dependsi.ocamldep-output
-     ocamldep tests/datakit-bridge-github/test.dependsi.ocamldep-output
-       ocamlc src/datakit-io/datakit_io.{cmi,cmti}
-       ocamlc api/ocaml/datakit_client.{cmi,cmti}
-       ocamlc src/datakit-server/vfs.{cmi,cmti}
-     ocamlopt src/datakit/datakit__.{cmx,o}
-       ocamlc api/ocaml/9p/datakit_client_9p.{cmi,cmti}
-       ocamlc src/datakit-github/datakit_github.{cmi,cmti}
-       ocamlc tests/common/test_client.{cmi,cmti}
-       ocamlc src/datakit-server-9p/fs9p.{cmi,cmti}
-       ocamlc src/datakit-server-9p/fs9p_error.{cmi,cmti}
-     ocamlopt api/ocaml/datakit_client.{cmx,o}
-       ocamlc src/datakit/datakit__Blob.{cmi,cmti}
-       ocamlc tests/common/test_utils.{cmi,cmo,cmt}
-       ocamlc src/datakit/datakit__Branch.{cmi,cmti}
-     ocamlopt src/datakit-io/datakit_io.{cmx,o}
-       ocamlc src/datakit/datakit__Metadata.{cmi,cmti}
-       ocamlc src/datakit/datakit__Path.{cmi,cmti}
-       ocamlc src/datakit-github/datakit_github_conv.{cmi,cmti}
-       ocamlc src/datakit/datakit.{cmi,cmti}
-     ocamlopt api/ocaml/datakit_client.{a,cmxa}
-     ocamlopt src/datakit-server/vfs.{cmx,o}
-     ocamlopt src/datakit-io/datakit_io.{a,cmxa}
-     ocamlopt tests/common/test_utils.{cmx,o}
-       ocamlc bridge/github/datakit_github_api.{cmi,cmti}
-       ocamlc bridge/github/datakit_github_state.{cmi,cmti}
-     ocamlopt api/ocaml/9p/datakit_client_9p.{cmx,o}
-       ocamlc src/datakit/datakit__Store.{cmi,cmti}
-       ocamlc bridge/github/datakit_github_sync.{cmi,cmti}
-     ocamlopt src/datakit-server-9p/fs9p_error.{cmx,o}
-     ocamlopt src/datakit/datakit__Branch.{cmx,o}
-     ocamlopt src/datakit/datakit__Metadata.{cmx,o}
-     ocamlopt src/datakit/datakit__Blob.{cmx,o}
-     ocamlopt src/datakit-server/datakit_server.{a,cmxa}
-     ocamlopt api/ocaml/9p/datakit_client_9p.{a,cmxa}
-     ocamlopt src/datakit/datakit__Path.{cmx,o}
-     ocamlopt src/datakit-github/datakit_github.{cmx,o}
-       ocamlc src/datakit/datakit__Dir.{cmi,cmti}
-       ocamlc src/datakit/datakit__Merge.{cmi,cmti}
-       ocamlc src/datakit/datakit__Remote.{cmi,cmti}
-     ocamlopt src/datakit-server-9p/fs9p.{cmx,o}
-       ocamlc tests/datakit-bridge-github/test.{cmi,cmti}
-     ocamlopt src/datakit/datakit__Store.{cmx,o}
-     ocamlopt src/datakit-server-9p/datakit_server_9p.{a,cmxa}
-     ocamlopt src/datakit/datakit__Dir.{cmx,o}
-     ocamlopt tests/common/test_client.{cmx,o}
-     ocamlopt src/datakit/datakit__Merge.{cmx,o}
-     ocamlopt tests/common/test.{a,cmxa}
-     ocamlopt src/datakit-github/datakit_github_conv.{cmx,o}
-     ocamlopt src/datakit-github/datakit_github.{a,cmxa}
-     ocamlopt src/datakit/datakit__Remote.{cmx,o}
-     ocamlopt bridge/github/datakit_github_state.{cmx,o}
-     ocamlopt bridge/github/datakit_github_api.{cmx,o}
-     ocamlopt bridge/github/datakit_github_sync.{cmx,o}
-     ocamlopt bridge/github/datakit_bridge_github.{a,cmxa}
-     ocamlopt src/datakit/datakit.{cmx,o}
-     ocamlopt src/datakit/datakit.{a,cmxa}
-     ocamlopt tests/datakit-bridge-github/test.{cmx,o}
-     ocamlopt tests/datakit-bridge-github/test.exe
-         test alias tests/datakit-bridge-github/runtest
- /bin/sh: tput: not found
- stty: standard input: Not a tty
- Testing datakit-github.
- [33m ...[m                [36mgithub-9p[m          0   Transaction.[32m[OK][m                [36mgithub-9p[m          0   Transaction.
- [33m ...[m                [36mgithub-9p[m          1   Watch.[32m[OK][m                [36mgithub-9p[m          1   Watch.
- [33m ...[m                [36mgithub-9p[m          2   Make dirs.[32m[OK][m                [36mgithub-9p[m          2   Make dirs.
- [33m ...[m                [36mgithub-9p[m          3   Truncate.[32m[OK][m                [36mgithub-9p[m          3   Truncate.
- [33m ...[m                [36mgithub-9p[m          4   Parents.[32m[OK][m                [36mgithub-9p[m          4   Parents.
- [33m ...[m                [36mgithub-9p[m          5   Merge.[32m[OK][m                [36mgithub-9p[m          5   Merge.
- [33m ...[m                [36mgithub-9p[m          6   Diff.[32m[OK][m                [36mgithub-9p[m          6   Diff.
- [33m ...[m                [36mgithub-9p[m          7   Merge_metadata.[32m[OK][m                [36mgithub-9p[m          7   Merge_metadata.
- [33m ...[m                [36mgithub-9p[m          8   Merge empty.[32m[OK][m                [36mgithub-9p[m          8   Merge empty.
- [33m ...[m                [36mgithub-9p[m          9   Conflicts.[32m[OK][m                [36mgithub-9p[m          9   Conflicts.
- [33m ...[m                [36mgithub-9p[m         10   Large write.[32m[OK][m                [36mgithub-9p[m         10   Large write.
- [33m ...[m                [36mgithub-9p[m         11   Remove.[32m[OK][m                [36mgithub-9p[m         11   Remove.
- [33m ...[m                [36mgithub-9p[m         12   Remotes.[33m[SKIP][m              [36mgithub-9p[m         12   Remotes.
- [33m ...[m                [36mgithub-9p[m         13   Create_or_replace.[33m[SKIP][m              [36mgithub-9p[m         13   Create_or_replace.
- [33m ...[m                [36mgithub[m             0   basic-snapshot.[32m[OK][m                [36mgithub[m             0   basic-snapshot.
- [33m ...[m                [36mgithub[m             1   snapshot.[32m[OK][m                [36mgithub[m             1   snapshot.
- [33m ...[m                [36mgithub[m             2   capabilities.[32m[OK][m                [36mgithub[m             2   capabilities.
- [33m ...[m                [36mgithub[m             3   cleanup.[32m[OK][m                [36mgithub[m             3   cleanup.
- [33m ...[m                [36mgithub[m             4   events.[32m[OK][m                [36mgithub[m             4   events.
- [33m ...[m                [36mgithub[m             5   updates.[32m[OK][m                [36mgithub[m             5   updates.
- [33m ...[m                [36mgithub[m             6   startup.[32m[OK][m                [36mgithub[m             6   startup.
- [33m ...[m                [36mgithub[m             7   random-github.[32m[OK][m                [36mgithub[m             7   random-github.
- [33m ...[m                [36mgithub[m             8   random-github-*.[33m[SKIP][m              [36mgithub[m             8   random-github-*.
- [33m ...[m                [36mgithub[m             9   random-datakit.[32m[OK][m                [36mgithub[m             9   random-datakit.
- [33m ...[m                [36mgithub[m            10   random-datakit-*.[33m[SKIP][m              [36mgithub[m            10   random-datakit-*.
- The full test results are available in `_build/_tests`.
- [32mTest Successful[m in 3.224s. 21 tests run.
-> compiled  datakit-bridge-github.dev
-> installed datakit-bridge-github.dev
Done.
# Run eval `opam env` to update the current shell environment
 ---> 53e1a2ce25d5
Error removing intermediate container 904fa721216e: No such container: 904fa721216e684939cfc0c1bd421b5fb45191afee3615446a138b233b067c01
Step 26/34 : RUN sudo cp $(opam config exec -- which datakit-bridge-github) /usr/bin/
 ---> Running in d69d1c66f676
 ---> f63517c77150
Removing intermediate container d69d1c66f676
Error removing intermediate container 458ed4a490b3: No such container: 458ed4a490b3541db218c1dcd8620666730f2cadb89d4e62e055cd57f0b40353
Step 27/34 : USER root
 ---> Running in d71b894d915f
 ---> 25b25004f470
Error removing intermediate container 904fa721216e: No such container: 904fa721216e684939cfc0c1bd421b5fb45191afee3615446a138b233b067c01
Step 28/34 : FROM alpine:3.5
3.5: Pulling from library/alpine
Digest: sha256:f02537b30c729bb1ee0c67c8bff3a28972bed0abbee8f5520421994c5247b896
Status: Image is up to date for alpine:3.5
 ---> 75b63e430bd1
Removing intermediate container d71b894d915f
Error removing intermediate container 458ed4a490b3: No such container: 458ed4a490b3541db218c1dcd8620666730f2cadb89d4e62e055cd57f0b40353
Step 29/34 : RUN apk add --no-cache libev gmp tzdata ca-certificates
 ---> Using cache
 ---> c44da31caef8
Removing intermediate container 509eee39aba7
Error removing intermediate container 904fa721216e: No such container: 904fa721216e684939cfc0c1bd421b5fb45191afee3615446a138b233b067c01
Step 30/34 : EXPOSE 5640
 ---> Running in 4ba4a519e29d
 ---> af7ff63a0042
Removing intermediate container 4ba4a519e29d
Error removing intermediate container 904fa721216e: No such container: 904fa721216e684939cfc0c1bd421b5fb45191afee3615446a138b233b067c01
Step 31/34 : EXPOSE 5641
 ---> Running in 4dfe7674d664
 ---> b5eff5a2e38f
Error removing intermediate container b79796855da3: No such container: b79796855da32b255612005d8609994dad25731e54ea8f3105fe1da4812c9279
Step 32/34 : ENTRYPOINT /usr/bin/datakit-bridge-github
 ---> Running in 92d55d33d273
 ---> 356c78b08f34
Error removing intermediate container b79796855da3: No such container: b79796855da32b255612005d8609994dad25731e54ea8f3105fe1da4812c9279
Step 33/34 : CMD --listen=tcp://0.0.0.0:5641 -v --datakit=tcp:127.0.0.1:5640
 ---> Running in 53b9842cbb22
 ---> 95657ffd6cac
Error removing intermediate container b79796855da3: No such container: b79796855da32b255612005d8609994dad25731e54ea8f3105fe1da4812c9279
Step 34/34 : COPY --from=0 /usr/bin/datakit-bridge-github /usr/bin/datakit-bridge-github
 ---> 282797d548a5
Removing intermediate container 86e2aa760ef1
Removing intermediate container 4912abd608d4
Error removing intermediate container b79796855da3: No such container: b79796855da32b255612005d8609994dad25731e54ea8f3105fe1da4812c9279
Successfully built 282797d548a5
[2017-06-01 15:11.29] Success
