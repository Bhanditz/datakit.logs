=== Docker build Dockerfile.client
[2017-05-18 16:53.07] Starting...
Cloning into '/tmp/with_clonefdf50ec'...
done.
warning: remote HEAD refers to nonexistent ref, unable to checkout.

HEAD is now at a0bacea datakit-client-git: more Dockerfile surgery
[2017-05-18 16:53.10] Rewrite Dockerfile's first line to:
FROM ocaml/opam:alpine_ocaml-4.03.0
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 6.128 MBSending build context to Docker daemon 6.685 MBSending build context to Docker daemon  7.06 MB
Step 1/34 : FROM ocaml/opam:alpine_ocaml-4.03.0
 ---> 1254c1838b00
Step 2/34 : RUN git -C /home/opam/opam-repository fetch origin &&     git -C /home/opam/opam-repository reset origin/master --hard &&     opam update -u
 ---> Using cache
 ---> 459f59634637
Step 3/34 : ENV OPAMERRLOGLEN 0 OPAMYES 1
 ---> Using cache
 ---> c4bab497fa6a
Step 4/34 : RUN opam depext -ui lwt alcotest conf-libev
 ---> Using cache
 ---> 87f62ca2006e
Step 5/34 : RUN opam pin add git.dev --dev -n
 ---> Running in f615f3c99f65
git is now git-pinned to https://github.com/mirage/ocaml-git.git

[git: git]
[git: git]
[git: git]
[git: git]
[git: git]
[git: git]
[git] https://github.com/mirage/ocaml-git.git updated
[git] Installing new package description from
https://github.com/mirage/ocaml-git.git

 ---> 5eca9fabfc0f
Removing intermediate container f615f3c99f65
Step 6/34 : RUN opam pin add git-http.dev --dev -n
 ---> Running in 918ecbab28af
git-http is now git-pinned to https://github.com/mirage/ocaml-git.git

[git-http: git]
[git-http: git]
[git-http: git]
[git-http: git]
[git-http: git]
[git-http: git]
[git-http] https://github.com/mirage/ocaml-git.git updated
[git-http] Installing new package description from
https://github.com/mirage/ocaml-git.git

 ---> 3158ec40d6b6
Removing intermediate container 918ecbab28af
Step 7/34 : RUN opam pin add git-mirage.dev --dev -n
 ---> Running in 63c298b372ea
git-mirage is now git-pinned to https://github.com/mirage/ocaml-git.git

[git-mirage: git]
[git-mirage: git]
[git-mirage: git]
[git-mirage: git]
[git-mirage: git]
[git-mirage: git]
[git-mirage] https://github.com/mirage/ocaml-git.git updated
[git-mirage] Installing new package description from
https://github.com/mirage/ocaml-git.git

 ---> ae549e397580
Removing intermediate container 63c298b372ea
Step 8/34 : RUN opam pin add git-unix.dev --dev -n
 ---> Running in 4393aa38f3a7
git-unix is now git-pinned to https://github.com/mirage/ocaml-git.git

[git-unix: git]
[git-unix: git]
[git-unix: git]
[git-unix: git]
[git-unix: git]
[git-unix: git]
[git-unix] https://github.com/mirage/ocaml-git.git updated
[git-unix] Installing new package description from
https://github.com/mirage/ocaml-git.git

 ---> 2dd0c9b5140f
Removing intermediate container 4393aa38f3a7
Step 9/34 : RUN opam pin add irmin.dev --dev -n
 ---> Running in 3ea630ae575d
irmin is now git-pinned to https://github.com/mirage/irmin.git

[irmin: git]
[irmin: git]
[irmin: git]
[irmin: git]
[irmin: git]
[irmin: git]
[irmin] https://github.com/mirage/irmin.git updated
[irmin] Installing new package description from
https://github.com/mirage/irmin.git

 ---> 18d2f0754589
Removing intermediate container 3ea630ae575d
Step 10/34 : RUN opam pin add irmin-fs.dev https://github.com/mirage/irmin.git -n
 ---> Running in 50a6ca4636d8
Package irmin-fs does not exist, create as a NEW package ? [Y/n] y
irmin-fs is now git-pinned to https://github.com/mirage/irmin.git

[irmin-fs: git]
[irmin-fs: git]
[irmin-fs: git]
[irmin-fs: git]
[irmin-fs: git]
[irmin-fs: git]
[irmin-fs] https://github.com/mirage/irmin.git updated
[irmin-fs] Installing new package description from
https://github.com/mirage/irmin.git

 ---> 9c2f2da592d9
Removing intermediate container 50a6ca4636d8
Step 11/34 : RUN opam pin add irmin-mem.dev https://github.com/mirage/irmin.git -n
 ---> Running in 16f23fd40c98
Package irmin-mem does not exist, create as a NEW package ? [Y/n] y
irmin-mem is now git-pinned to https://github.com/mirage/irmin.git

[irmin-mem: git]
[irmin-mem: git]
[irmin-mem: git]
[irmin-mem: git]
[irmin-mem: git]
[irmin-mem: git]
[irmin-mem] https://github.com/mirage/irmin.git updated
[irmin-mem] Installing new package description from
https://github.com/mirage/irmin.git

 ---> 6fdd07e85910
Error removing intermediate container 16f23fd40c98: Driver aufs failed to remove root filesystem 16f23fd40c98f916209eaf031dfb8b01e9a5c25181cf9d32792ae3822f468159: rename /var/lib/docker/aufs/mnt/bf6a4a7ebc6d64917eac4f1c5d58fc82a666e0824b26f92a1f6dfb79d598aece /var/lib/docker/aufs/mnt/bf6a4a7ebc6d64917eac4f1c5d58fc82a666e0824b26f92a1f6dfb79d598aece-removing: device or resource busy
Step 12/34 : RUN opam pin add irmin-git.dev --dev -n
 ---> Running in d71e724301c9
irmin-git is now git-pinned to https://github.com/mirage/irmin.git

[irmin-git: git]
[irmin-git: git]
[irmin-git: git]
[irmin-git: git]
[irmin-git: git]
[irmin-git: git]
[irmin-git] https://github.com/mirage/irmin.git updated
[irmin-git] Installing new package description from
https://github.com/mirage/irmin.git

 ---> 53d2a3b84425
Error removing intermediate container 16f23fd40c98: No such container: 16f23fd40c98f916209eaf031dfb8b01e9a5c25181cf9d32792ae3822f468159
Step 13/34 : RUN opam pin add irmin-http.dev --dev -n
 ---> Running in 58bd06310a7f
irmin-http is now git-pinned to https://github.com/mirage/irmin.git

[irmin-http: git]
[irmin-http: git]
[irmin-http: git]
[irmin-http: git]
[irmin-http: git]
[irmin-http: git]
[irmin-http] https://github.com/mirage/irmin.git updated
[irmin-http] Installing new package description from
https://github.com/mirage/irmin.git

 ---> 25450e95fa1a
Error removing intermediate container 16f23fd40c98: No such container: 16f23fd40c98f916209eaf031dfb8b01e9a5c25181cf9d32792ae3822f468159
Step 14/34 : RUN opam pin add irmin-mirage.dev --dev -n
 ---> Running in 47fa05107464
irmin-mirage is now git-pinned to https://github.com/mirage/irmin.git

[irmin-mirage: git]
[irmin-mirage: git]
[irmin-mirage: git]
[irmin-mirage: git]
[irmin-mirage: git]
[irmin-mirage: git]
[irmin-mirage] https://github.com/mirage/irmin.git updated
[irmin-mirage] Installing new package description from
https://github.com/mirage/irmin.git

 ---> ace48ee4c6fc
Error removing intermediate container 16f23fd40c98: No such container: 16f23fd40c98f916209eaf031dfb8b01e9a5c25181cf9d32792ae3822f468159
Step 15/34 : RUN opam pin add irmin-unix.dev --dev -n
 ---> Running in fcf8963cd6dd
irmin-unix is now git-pinned to https://github.com/mirage/irmin.git

[irmin-unix: git]
[irmin-unix: git]
[irmin-unix: git]
[irmin-unix: git]
[irmin-unix: git]
[irmin-unix: git]
[irmin-unix] https://github.com/mirage/irmin.git updated
[irmin-unix] Installing new package description from
https://github.com/mirage/irmin.git

 ---> fe50b766dcef
Removing intermediate container 58bd06310a7f
Removing intermediate container 47fa05107464
Removing intermediate container fcf8963cd6dd
Error removing intermediate container 16f23fd40c98: No such container: 16f23fd40c98f916209eaf031dfb8b01e9a5c25181cf9d32792ae3822f468159
Step 16/34 : COPY datakit-client.opam /home/opam/src/datakit/datakit-client.opam
 ---> f91ee2ed621d
Error removing intermediate container 16f23fd40c98: No such container: 16f23fd40c98f916209eaf031dfb8b01e9a5c25181cf9d32792ae3822f468159
Step 17/34 : RUN opam pin add datakit-client.dev /home/opam/src/datakit -n
 ---> Running in f886690de079
datakit-client is now path-pinned to /home/opam/src/datakit

[datakit-client: local]
[datakit-client] /home/opam/src/datakit/ synchronized
[datakit-client] Installing new package description from /home/opam/src/datakit

 ---> 0241194231e7
Error removing intermediate container 16f23fd40c98: No such container: 16f23fd40c98f916209eaf031dfb8b01e9a5c25181cf9d32792ae3822f468159
Step 18/34 : COPY datakit-client-9p.opam /home/opam/src/datakit/datakit-client-9p.opam
 ---> 3d2a625a6f0d
Removing intermediate container 4b051d51afdf
Removing intermediate container f886690de079
Removing intermediate container dad1ce39060d
Error removing intermediate container 16f23fd40c98: No such container: 16f23fd40c98f916209eaf031dfb8b01e9a5c25181cf9d32792ae3822f468159
Step 19/34 : RUN opam pin add datakit-client-9p.dev /home/opam/src/datakit -n
 ---> Running in a66fc339e2e6
Package datakit-client-9p does not exist, create as a NEW package ? [Y/n] y
datakit-client-9p is now path-pinned to /home/opam/src/datakit

[datakit-client-9p: local]
[datakit-client-9p] /home/opam/src/datakit/ synchronized
[datakit-client-9p] Installing new package description from
/home/opam/src/datakit

 ---> ba935bcb7a7a
Error removing intermediate container 16f23fd40c98: No such container: 16f23fd40c98f916209eaf031dfb8b01e9a5c25181cf9d32792ae3822f468159
Step 20/34 : COPY datakit-client-git.opam /home/opam/src/datakit/datakit-client-git.opam
 ---> 6947da36e688
Error removing intermediate container 16f23fd40c98: No such container: 16f23fd40c98f916209eaf031dfb8b01e9a5c25181cf9d32792ae3822f468159
Step 21/34 : RUN opam pin add datakit-client-git.dev /home/opam/src/datakit -n
 ---> Running in b8881e28d80b
Package datakit-client-git does not exist, create as a NEW package ? [Y/n] y
datakit-client-git is now path-pinned to /home/opam/src/datakit

[datakit-client-git: local]
[datakit-client-git] /home/opam/src/datakit/ synchronized
[datakit-client-git] Installing new package description from
/home/opam/src/datakit

 ---> 97e824cfb2da
Removing intermediate container d71e724301c9
Removing intermediate container a66fc339e2e6
Removing intermediate container 64bb3de5a2be
Removing intermediate container b8881e28d80b
Error removing intermediate container 16f23fd40c98: No such container: 16f23fd40c98f916209eaf031dfb8b01e9a5c25181cf9d32792ae3822f468159
Step 22/34 : RUN opam depext datakit-client datakit-client-9p datakit-client-git inotify
 ---> Running in 7a07560f206b
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - gmp-dev
#  - linux-headers
#  - m4
#  - ncurses-dev
#  - perl
#  - pkgconfig
m4
ncurses-dev
pkgconf
# The following new OS packages need to be installed: gmp-dev linux-headers perl
The following command needs to be run through "sudo":
    apk add gmp-dev linux-headers perl
(1/4) Installing libgmpxx (6.1.1-r0)
(2/4) Installing gmp-dev (6.1.1-r0)
(3/4) Installing linux-headers (4.4.6-r1)
(4/4) Installing perl (5.24.0-r0)
Executing busybox-1.25.1-r0.trigger
OK: 633 MiB in 97 packages
# OS packages installation successful
 ---> d61de9677e0f
Error removing intermediate container 16f23fd40c98: No such container: 16f23fd40c98f916209eaf031dfb8b01e9a5c25181cf9d32792ae3822f468159
Step 23/34 : RUN opam install datakit-client --deps
 ---> Running in bb9b4b3ccb08

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: local] Command started
[datakit-client] /home/opam/src/datakit/ synchronized
The following actions will be performed:
  - install jbuilder                1.0+beta8
  - install ocplib-endian           1.0      
  - install sexplib                 v0.9.1   
  - install ocaml-migrate-parsetree 1.0      
  - install ppx_tools_versioned     5.0.1    
  - install cstruct                 2.4.1    
===== 6 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[cstruct: http] Command started
[jbuilder: http] Command started
[ocaml-migrate-parsetree: http] Command started
[ocaml-migrate-parsetree: http] Command started
[ocaml-migrate-parsetree.1.0] https://github.com/let-def/ocaml-migrate-parsetree/archive/v1.0.tar.gz downloaded
[ocplib-endian: http] Command started
[jbuilder: http] Command started
[cstruct: http] Command started
[jbuilder.1.0+beta8] https://github.com/janestreet/jbuilder/archive/1.0+beta8.tar.gz downloaded
[ppx_tools_versioned: http] Command started
[cstruct.2.4.1] https://github.com/mirage/ocaml-cstruct/archive/v2.4.1.tar.gz downloaded
[sexplib: http] Command started
[ocplib-endian: http] Command started
[ocplib-endian.1.0] https://github.com/OCamlPro/ocplib-endian/archive/1.0.tar.gz downloaded
[ppx_tools_versioned: http] Command started
[ppx_tools_versioned.5.0.1] https://github.com/let-def/ppx_tools_versioned/archive/5.0.1.tar.gz downloaded
[sexplib: http] Command started
[sexplib.v0.9.1] https://github.com/janestreet/sexplib/archive/v0.9.1.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[jbuilder: ocaml bootstrap.ml] Command started
[ocplib-endian: ocaml setup.ml] Command started
[ocplib-endian: ocaml setup.ml] Command started
[jbuilder: ./boot.exe 4] Command started
[ocplib-endian: ocaml setup.ml] Command started
-> installed ocplib-endian.1.0
-> installed jbuilder.1.0+beta8
[ocaml-migrate-parsetree: jbuilder build] Command started
[sexplib: jbuilder build] Command started
-> installed sexplib.v0.9.1
-> installed ocaml-migrate-parsetree.1.0
[ppx_tools_versioned: make all] Command started
[ppx_tools_versioned: make install] Command started
-> installed ppx_tools_versioned.5.0.1
[cstruct: ./configure] Command started
[cstruct: make] Command started
[cstruct: make install] Command started
[cstruct: make js-install] Command started
-> installed cstruct.2.4.1
Done.
 ---> de3d12241331
Error removing intermediate container 16f23fd40c98: No such container: 16f23fd40c98f916209eaf031dfb8b01e9a5c25181cf9d32792ae3822f468159
Step 24/34 : RUN opam install irmin-git irmin-watch git-unix inotify     astring logs fmt cstruct protocol-9p-unix cmdliner
 ---> Running in 96a690c35641
[91m[ERROR] No package named irmin-watch found.
[0mThe command '/bin/sh -c opam install irmin-git irmin-watch git-unix inotify     astring logs fmt cstruct protocol-9p-unix cmdliner' returned a non-zero code: 66
[2017-05-18 16:54.54] Failed: Command "docker" "build" "-f" "Dockerfile.client" "." exited with status 66
