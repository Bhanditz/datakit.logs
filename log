=== Docker build Dockerfile.client
[2017-05-04 14:25.51] Starting...
Cloning into '/tmp/with_clone28c62aeb'...
done.
warning: remote HEAD refers to nonexistent ref, unable to checkout.

HEAD is now at 849678e Update to lwt 3.0.0
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 5.643 MB
Step 1/15 : FROM ocaml/opam:alpine
alpine: Pulling from ocaml/opam
627beaf3eaaf: Already exists
870b23276b1d: Pulling fs layer
d4041d649126: Pulling fs layer
fe64bb95a764: Pulling fs layer
d4041d649126: Verifying Checksum
d4041d649126: Download complete
fe64bb95a764: Verifying Checksum
fe64bb95a764: Download complete
870b23276b1d: Verifying Checksum
870b23276b1d: Download complete
870b23276b1d: Pull complete
d4041d649126: Pull complete
fe64bb95a764: Pull complete
Digest: sha256:08d1e426dd3a4261ee370557479695942b049d32ccc6dd6e1d8de71f5e7c1c6f
Status: Downloaded newer image for ocaml/opam:alpine
 ---> 766dbb0d4ff5
Step 2/15 : ENV OPAMERRLOGLEN 0 OPAMYES 1
 ---> Running in 97d01cf1353f
 ---> dc470d727222
Removing intermediate container 97d01cf1353f
Step 3/15 : RUN cd /home/opam/opam-repository && git pull && opam update -y
 ---> Running in d468cc53a176
[91mFrom git://github.com/ocaml/opam-repository
   99024cada..06722e87d  master     -> origin/master
[0mUpdating 99024cada..06722e87d
Fast-forward
 compilers/4.06.0/4.06.0+pr1063/4.06.0+pr1063.descr |  2 +-
 compilers/4.06.0/4.06.0+pr1157/4.06.0+pr1157.comp  | 11 ----
 compilers/4.06.0/4.06.0+pr1157/4.06.0+pr1157.descr |  1 -
 packages/conduit/conduit.0.15.2/descr              | 15 ++++++
 packages/conduit/conduit.0.15.2/opam               | 51 ++++++++++++++++++
 packages/conduit/conduit.0.15.2/url                |  2 +
 packages/cstruct/cstruct.2.4.1/descr               | 22 ++++++++
 packages/cstruct/cstruct.2.4.1/opam                | 61 ++++++++++++++++++++++
 packages/cstruct/cstruct.2.4.1/url                 |  2 +
 .../datakit-bridge-github.0.10.0/descr             |  8 +++
 .../datakit-bridge-github.0.10.0/opam              | 30 +++++++++++
 .../datakit-bridge-github.0.10.0/url               |  2 +
 .../datakit-bridge-github.0.9.0/opam               |  8 +--
 .../datakit-bridge-local-git.0.10.0/descr          | 21 ++++++++
 .../datakit-bridge-local-git.0.10.0/opam           | 23 ++++++++
 .../datakit-bridge-local-git.0.10.0/url            |  2 +
 .../datakit-bridge-local-git.0.9.0/opam            |  4 +-
 packages/datakit-ci/datakit-ci.0.10.0/descr        |  7 +++
 packages/datakit-ci/datakit-ci.0.10.0/opam         | 42 +++++++++++++++
 packages/datakit-ci/datakit-ci.0.10.0/url          |  2 +
 packages/datakit-ci/datakit-ci.0.9.0/opam          |  6 +--
 .../datakit-client/datakit-client.0.10.0/descr     |  5 ++
 packages/datakit-client/datakit-client.0.10.0/opam | 20 +++++++
 packages/datakit-client/datakit-client.0.10.0/url  |  2 +
 packages/datakit-client/datakit-client.0.6.0/opam  |  2 +-
 packages/datakit-client/datakit-client.0.7.0/opam  |  2 +-
 packages/datakit-client/datakit-client.0.8.0/opam  |  2 +-
 packages/datakit-client/datakit-client.0.9.0/opam  |  2 +-
 .../datakit-github/datakit-github.0.10.0/descr     |  1 +
 packages/datakit-github/datakit-github.0.10.0/opam | 23 ++++++++
 packages/datakit-github/datakit-github.0.10.0/url  |  2 +
 packages/datakit-github/datakit-github.0.8.1/opam  |  8 +--
 packages/datakit-github/datakit-github.0.9.0/opam  |  2 +-
 .../datakit-server/datakit-server.0.10.0/descr     |  6 +++
 packages/datakit-server/datakit-server.0.10.0/opam | 23 ++++++++
 packages/datakit-server/datakit-server.0.10.0/url  |  2 +
 packages/datakit/datakit.0.10.0/descr              | 12 +++++
 packages/datakit/datakit.0.10.0/opam               | 40 ++++++++++++++
 packages/datakit/datakit.0.10.0/url                |  2 +
 packages/datakit/datakit.0.8.0/opam                |  4 +-
 packages/datakit/datakit.0.9.0/opam                |  6 +--
 packages/herdtools7/herdtools7.7.45/descr          |  7 +++
 packages/herdtools7/herdtools7.7.45/opam           | 18 +++++++
 packages/herdtools7/herdtools7.7.45/url            |  2 +
 packages/key-parsers/key-parsers.0.8.1/descr       |  3 ++
 packages/key-parsers/key-parsers.0.8.1/opam        | 28 ++++++++++
 packages/key-parsers/key-parsers.0.8.1/url         |  2 +
 packages/lua_pattern/lua_pattern.1.7/descr         |  2 +
 packages/lua_pattern/lua_pattern.1.7/opam          | 36 +++++++++++++
 packages/lua_pattern/lua_pattern.1.7/url           |  3 ++
 packages/merlin-of-pds/merlin-of-pds.1.4/descr     |  2 +
 packages/merlin-of-pds/merlin-of-pds.1.4/opam      | 31 +++++++++++
 packages/merlin-of-pds/merlin-of-pds.1.4/url       |  3 ++
 packages/mirage-conduit/mirage-conduit.2.3.1/descr |  1 +
 packages/mirage-conduit/mirage-conduit.2.3.1/opam  | 25 +++++++++
 packages/mirage-conduit/mirage-conduit.2.3.1/url   |  2 +
 packages/opass/opass.2.15/descr                    |  3 ++
 packages/opass/opass.2.15/opam                     | 39 ++++++++++++++
 packages/opass/opass.2.15/url                      |  3 ++
 packages/pds/pds.5.24/descr                        |  2 +
 packages/pds/pds.5.24/opam                         | 35 +++++++++++++
 packages/pds/pds.5.24/url                          |  3 ++
 packages/pkcs11/pkcs11.0.7.3/descr                 |  6 +++
 packages/pkcs11/pkcs11.0.7.3/opam                  | 32 ++++++++++++
 packages/pkcs11/pkcs11.0.7.3/url                   |  2 +
 .../ppx_tools_versioned.5.0.1/descr                |  1 +
 .../ppx_tools_versioned.5.0.1/opam                 | 18 +++++++
 .../ppx_tools_versioned.5.0.1/url                  |  2 +
 packages/stog/stog.0.17.1/descr                    | 18 +++++++
 packages/stog/stog.0.17.1/files/stog.install       | 16 ++++++
 packages/stog/stog.0.17.1/opam                     | 29 ++++++++++
 packages/stog/stog.0.17.1/url                      |  2 +
 packages/tsdl/tsdl.0.9.3/descr                     | 11 ++++
 packages/tsdl/tsdl.0.9.3/opam                      | 28 ++++++++++
 packages/tsdl/tsdl.0.9.3/url                       |  2 +
 packages/vpnkit/vpnkit.0.0.0/opam                  |  4 +-
 packages/xe/xe.0.6.0/opam                          |  2 +-
 packages/xe/xe.0.6.2/opam                          |  2 +-
 packages/xe/xe.0.6.3/opam                          |  2 +-
 packages/zxcvbn/zxcvbn.2.0+2/descr                 |  3 ++
 packages/zxcvbn/zxcvbn.2.0+2/opam                  | 24 +++++++++
 packages/zxcvbn/zxcvbn.2.0+2/url                   |  2 +
 82 files changed, 903 insertions(+), 41 deletions(-)
 delete mode 100644 compilers/4.06.0/4.06.0+pr1157/4.06.0+pr1157.comp
 delete mode 100644 compilers/4.06.0/4.06.0+pr1157/4.06.0+pr1157.descr
 create mode 100644 packages/conduit/conduit.0.15.2/descr
 create mode 100644 packages/conduit/conduit.0.15.2/opam
 create mode 100644 packages/conduit/conduit.0.15.2/url
 create mode 100644 packages/cstruct/cstruct.2.4.1/descr
 create mode 100644 packages/cstruct/cstruct.2.4.1/opam
 create mode 100644 packages/cstruct/cstruct.2.4.1/url
 create mode 100644 packages/datakit-bridge-github/datakit-bridge-github.0.10.0/descr
 create mode 100644 packages/datakit-bridge-github/datakit-bridge-github.0.10.0/opam
 create mode 100644 packages/datakit-bridge-github/datakit-bridge-github.0.10.0/url
 create mode 100644 packages/datakit-bridge-local-git/datakit-bridge-local-git.0.10.0/descr
 create mode 100644 packages/datakit-bridge-local-git/datakit-bridge-local-git.0.10.0/opam
 create mode 100644 packages/datakit-bridge-local-git/datakit-bridge-local-git.0.10.0/url
 create mode 100644 packages/datakit-ci/datakit-ci.0.10.0/descr
 create mode 100644 packages/datakit-ci/datakit-ci.0.10.0/opam
 create mode 100644 packages/datakit-ci/datakit-ci.0.10.0/url
 create mode 100644 packages/datakit-client/datakit-client.0.10.0/descr
 create mode 100644 packages/datakit-client/datakit-client.0.10.0/opam
 create mode 100644 packages/datakit-client/datakit-client.0.10.0/url
 create mode 100644 packages/datakit-github/datakit-github.0.10.0/descr
 create mode 100644 packages/datakit-github/datakit-github.0.10.0/opam
 create mode 100644 packages/datakit-github/datakit-github.0.10.0/url
 create mode 100644 packages/datakit-server/datakit-server.0.10.0/descr
 create mode 100644 packages/datakit-server/datakit-server.0.10.0/opam
 create mode 100644 packages/datakit-server/datakit-server.0.10.0/url
 create mode 100644 packages/datakit/datakit.0.10.0/descr
 create mode 100644 packages/datakit/datakit.0.10.0/opam
 create mode 100644 packages/datakit/datakit.0.10.0/url
 create mode 100644 packages/herdtools7/herdtools7.7.45/descr
 create mode 100644 packages/herdtools7/herdtools7.7.45/opam
 create mode 100644 packages/herdtools7/herdtools7.7.45/url
 create mode 100644 packages/key-parsers/key-parsers.0.8.1/descr
 create mode 100644 packages/key-parsers/key-parsers.0.8.1/opam
 create mode 100644 packages/key-parsers/key-parsers.0.8.1/url
 create mode 100644 packages/lua_pattern/lua_pattern.1.7/descr
 create mode 100644 packages/lua_pattern/lua_pattern.1.7/opam
 create mode 100644 packages/lua_pattern/lua_pattern.1.7/url
 create mode 100644 packages/merlin-of-pds/merlin-of-pds.1.4/descr
 create mode 100644 packages/merlin-of-pds/merlin-of-pds.1.4/opam
 create mode 100644 packages/merlin-of-pds/merlin-of-pds.1.4/url
 create mode 100644 packages/mirage-conduit/mirage-conduit.2.3.1/descr
 create mode 100644 packages/mirage-conduit/mirage-conduit.2.3.1/opam
 create mode 100644 packages/mirage-conduit/mirage-conduit.2.3.1/url
 create mode 100644 packages/opass/opass.2.15/descr
 create mode 100644 packages/opass/opass.2.15/opam
 create mode 100644 packages/opass/opass.2.15/url
 create mode 100644 packages/pds/pds.5.24/descr
 create mode 100644 packages/pds/pds.5.24/opam
 create mode 100644 packages/pds/pds.5.24/url
 create mode 100644 packages/pkcs11/pkcs11.0.7.3/descr
 create mode 100644 packages/pkcs11/pkcs11.0.7.3/opam
 create mode 100644 packages/pkcs11/pkcs11.0.7.3/url
 create mode 100644 packages/ppx_tools_versioned/ppx_tools_versioned.5.0.1/descr
 create mode 100644 packages/ppx_tools_versioned/ppx_tools_versioned.5.0.1/opam
 create mode 100644 packages/ppx_tools_versioned/ppx_tools_versioned.5.0.1/url
 create mode 100644 packages/stog/stog.0.17.1/descr
 create mode 100644 packages/stog/stog.0.17.1/files/stog.install
 create mode 100644 packages/stog/stog.0.17.1/opam
 create mode 100644 packages/stog/stog.0.17.1/url
 create mode 100644 packages/tsdl/tsdl.0.9.3/descr
 create mode 100644 packages/tsdl/tsdl.0.9.3/opam
 create mode 100644 packages/tsdl/tsdl.0.9.3/url
 create mode 100644 packages/zxcvbn/zxcvbn.2.0+2/descr
 create mode 100644 packages/zxcvbn/zxcvbn.2.0+2/opam
 create mode 100644 packages/zxcvbn/zxcvbn.2.0+2/url

=-=- Updating package repositories =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[default: local] Command started
[default: local] Command started
[default: local] Command started
[default] /home/opam/opam-repository synchronized
 ---> 08a615d526ea
Removing intermediate container d468cc53a176
Step 4/15 : RUN opam depext -ui lwt alcotest conf-libev
 ---> Running in 69e86df418a8
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - libev-dev
#  - m4
The following command needs to be run through "sudo":
    apk update
fetch http://dl-cdn.alpinelinux.org/alpine/v3.5/main/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.5/community/x86_64/APKINDEX.tar.gz
v3.5.2-70-gec9876f375 [http://dl-cdn.alpinelinux.org/alpine/v3.5/main]
v3.5.2-70-gec9876f375 [http://dl-cdn.alpinelinux.org/alpine/v3.5/community]
OK: 7963 distinct packages available
# OS package update successful
The following command needs to be run through "sudo":
    apk add libev-dev m4
(1/3) Installing libev (4.22-r0)
(2/3) Installing libev-dev (4.22-r0)
(3/3) Installing m4 (1.4.17-r1)
Executing busybox-1.25.1-r0.trigger
OK: 582 MiB in 93 packages
# OS packages installation successful
# Now letting OPAM install the packages
The following actions will be performed:
  - install conf-m4    1                                        [required by ocamlfind]
  - install conf-libev 4-11 
  - install result     1.2                                      [required by alcotest, lwt]
  - install uchar      0.0.1                                    [required by fmt]
  - install ocamlfind  1.7.1                                    [required by alcotest, lwt]
  - install topkg      0.9.0                                    [required by alcotest]
  - install ppx_tools  5.0                                      [required by lwt]
  - install base-bytes base                                     [required by cppo]
  - install cmdliner   1.0.0                                    [required by alcotest]
  - install astring    0.8.3                                    [required by alcotest]
  - install cppo       1.5.0                                    [required by lwt]
  - install fmt        0.8.3                                    [required by alcotest]
  - install lwt        3.0.0
  - install alcotest   0.7.2
===== 14 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[alcotest: http] Command started
[astring: http] Command started
[cmdliner: http] Command started
[astring: http] Command started
[astring.0.8.3] http://erratique.ch/software/astring/releases/astring-0.8.3.tbz downloaded
[cppo: http] Command started
[cmdliner: http] Command started
[cmdliner.1.0.0] http://erratique.ch/software/cmdliner/releases/cmdliner-1.0.0.tbz downloaded
[fmt: http] Command started
[fmt: http] Command started
[fmt.0.8.3] http://erratique.ch/software/fmt/releases/fmt-0.8.3.tbz downloaded
[lwt: http] Command started
[cppo: http] Command started
[cppo.1.5.0] https://github.com/mjambon/cppo/archive/v1.5.0.tar.gz downloaded
[ocamlfind: http] Command started
[ocamlfind: http] Command started
[ocamlfind.1.7.1] http://download.camlcity.org/download/findlib-1.7.1.tar.gz downloaded
[ppx_tools: http] Command started
[alcotest: http] Command started
[alcotest.0.7.2] https://github.com/mirage/alcotest/releases/download/0.7.2/alcotest-0.7.2.tbz downloaded
[result: http] Command started
[lwt: http] Command started
[lwt.3.0.0] https://github.com/ocsigen/lwt/archive/3.0.0.tar.gz downloaded
[topkg: http] Command started
[topkg: http] Command started
[topkg.0.9.0] http://erratique.ch/software/topkg/releases/topkg-0.9.0.tbz downloaded
[uchar: http] Command started
[result: http] Command started
[result.1.2] https://github.com/janestreet/result/archive/1.2.tar.gz downloaded
[ppx_tools: http] Command started
[ppx_tools.5.0] https://github.com/alainfrisch/ppx_tools/tarball/f70ca1d07d565989a0041e312e8efc00ff2ad87e downloaded
[uchar: http] Command started
[uchar.0.0.1] https://github.com/ocaml/uchar/releases/download/v0.0.1/uchar-0.0.1.tbz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[conf-libev: sh] Command started
[conf-m4: sh echo | m4] Command started
[result: make] Command started
[uchar: ocaml] Command started
-> installed conf-m4.1
[ocamlfind: ./configure] Command started
[uchar: ocaml] Command started
-> installed result.1.2
-> installed conf-libev.4-11
-> installed uchar.0.0.1
[ocamlfind: make all] Command started
[ocamlfind: make opt] Command started
[ocamlfind: make install] Command started
-> installed ocamlfind.1.7.1
-> installed base-bytes.base
[cppo: make opt] Command started
[ppx_tools: make all] Command started
[topkg: ocaml build] Command started
[cppo: make ocamlbuild] Command started
[cppo: make install-lib] Command started
-> installed cppo.1.5.0
[ppx_tools: make install] Command started
-> installed ppx_tools.5.0
[lwt: make setup] Command started
[lwt: ocaml setup.ml] Command started
-> installed topkg.0.9.0
[astring: ocaml build] Command started
[cmdliner: ocaml build] Command started
-> installed astring.0.8.3
-> installed cmdliner.1.0.0
[fmt: ocaml build] Command started
-> installed fmt.0.8.3
[alcotest: ocaml build] Command started
[lwt: make build] Command started
-> installed alcotest.0.7.2
[lwt: make install] Command started
-> installed lwt.3.0.0
Done.

=-=- lwt.3.0.0 installed successfully -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
=> Lwt 3.0.0 made some minor breaking changes, announced in 2.7.0. See
     https://github.com/ocsigen/lwt/issues/308
 ---> b4e46ff6f255
Removing intermediate container 69e86df418a8
Step 5/15 : COPY datakit-client.opam /home/opam/src/datakit/datakit-client.opam
 ---> c7d207f6dde3
Error removing intermediate container 728b5de51b93: Driver aufs failed to remove root filesystem 728b5de51b93a74195e19dfd66a71ed28042f788929c10212722a35c78e5038f: rename /var/lib/docker/aufs/mnt/6abf84fd919c359abbfd8c4428ccb675ae2a1b16174d30715671e65037b33c1b /var/lib/docker/aufs/mnt/6abf84fd919c359abbfd8c4428ccb675ae2a1b16174d30715671e65037b33c1b-removing: device or resource busy
Step 6/15 : RUN opam pin add datakit-client.dev /home/opam/src/datakit -n
 ---> Running in 33484c821dea
datakit-client is now path-pinned to /home/opam/src/datakit

[datakit-client: local]
[datakit-client] /home/opam/src/datakit/ synchronized
[datakit-client] Installing new package description from /home/opam/src/datakit

 ---> e6860e64ecd5
Error removing intermediate container 728b5de51b93: No such container: 728b5de51b93a74195e19dfd66a71ed28042f788929c10212722a35c78e5038f
Step 7/15 : RUN opam depext datakit-client &&     opam install datakit-client --deps
 ---> Running in 1e66a8c28e88
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - m4
#  - ncurses-dev
#  - pkgconfig
m4
ncurses-dev
pkgconf
# All required OS packages found.

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: local] Command started
[datakit-client] /home/opam/src/datakit/ already up-to-date
The following actions will be performed:
  - install stringext               1.4.3    
  - install jbuilder                1.0+beta8
  - install ocb-stubblr             0.1.1    
  - install rresult                 0.5.0    
  - install logs                    0.6.2    
  - install ppx_deriving            4.1      
  - install ocplib-endian           1.0      
  - install re                      1.7.1    
  - install mirage-flow             1.2.0    
  - install win-error               0.2      
  - install mirage-device           1.0.0    
  - install sexplib                 v0.9.1   
  - install ppx_traverse_builtins   v0.9.0   
  - install ocaml-migrate-parsetree 1.0      
  - install ocaml-compiler-libs     v0.9.0   
  - install named-pipe              0.4.0    
  - install mirage-channel          3.0.0    
  - install mirage-kv               1.0.0    
  - install mirage-clock            1.2.0    
  - install base                    v0.9.2   
  - install ppx_tools_versioned     5.0.1    
  - install ppx_ast                 v0.9.1   
  - install stdio                   v0.9.0   
  - install cstruct                 2.4.1    
  - install ppx_core                v0.9.0   
  - install mirage-kv-lwt           1.0.0    
  - install mirage-flow-lwt         1.2.0    
  - install io-page                 1.6.1    
  - install ppx_optcomp             v0.9.0   
  - install mirage-channel-lwt      3.0.0    
  - install ppx_driver              v0.9.1   
  - install ppx_metaquot            v0.9.0   
  - install ppx_type_conv           v0.9.0   
  - install ppx_sexp_conv           v0.9.0   
  - install uri                     1.9.2    
  - install protocol-9p             0.10.0   
  - install protocol-9p-unix        0.10.0   
===== 37 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[base: http] Command started
[cstruct: http] Command started
[io-page: http] Command started
[base: http] Command started
[cstruct: http] Command started
[base.v0.9.2] https://github.com/janestreet/base/archive/v0.9.2.tar.gz downloaded
[jbuilder: http] Command started
[cstruct.2.4.1] https://github.com/mirage/ocaml-cstruct/archive/v2.4.1.tar.gz downloaded
[logs: http] Command started
[logs: http] Command started
[logs.0.6.2] http://erratique.ch/software/logs/releases/logs-0.6.2.tbz downloaded
[mirage-channel: http] Command started
[mirage-channel: http] Command started
[mirage-channel.3.0.0] https://github.com/mirage/mirage-channel/releases/download/v3.0.0/mirage-channel-3.0.0.tbz downloaded
[mirage-channel-lwt: http] Command started
[io-page: http] Command started
[io-page.1.6.1] https://github.com/mirage/io-page/archive/v1.6.1.tar.gz downloaded
[mirage-clock: http] Command started
[jbuilder: http] Command started
[jbuilder.1.0+beta8] https://github.com/janestreet/jbuilder/archive/1.0+beta8.tar.gz downloaded
[mirage-device: http] Command started
[mirage-clock: http] Command started
[mirage-clock.1.2.0] https://github.com/mirage/mirage-clock/releases/download/1.2.0/mirage-clock-1.2.0.tbz downloaded
[mirage-flow: http] Command started
[mirage-channel-lwt: http] Command started
[mirage-channel-lwt.3.0.0] https://github.com/mirage/mirage-channel/releases/download/v3.0.0/mirage-channel-lwt-3.0.0.tbz downloaded
[mirage-flow-lwt: http] Command started
[mirage-device: http] Command started
[mirage-device.1.0.0] https://github.com/mirage/mirage-device/releases/download/1.0.0/mirage-device-1.0.0.tbz downloaded
[mirage-kv: http] Command started
[mirage-kv: http] Command started
[mirage-kv.1.0.0] https://github.com/mirage/mirage-kv/releases/download/1.0.0/mirage-kv-1.0.0.tbz downloaded
[mirage-kv-lwt: http] Command started
[mirage-flow-lwt: http] Command started
[mirage-flow-lwt.1.2.0] https://github.com/mirage/mirage-flow/releases/download/1.2.0/mirage-flow-lwt-1.2.0.tbz downloaded
[named-pipe: http] Command started
[mirage-flow: http] Command started
[mirage-flow.1.2.0] https://github.com/mirage/mirage-flow/releases/download/1.2.0/mirage-flow-1.2.0.tbz downloaded
[ocaml-compiler-libs: http] Command started
[ocaml-compiler-libs: http] Command started
[ocaml-compiler-libs.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ocaml-compiler-libs-v0.9.0.tar.gz downloaded
[ocaml-migrate-parsetree: http] Command started
[named-pipe: http] Command started
[named-pipe.0.4.0] https://github.com/mirage/ocaml-named-pipe/releases/download/0.4.0/named-pipe-0.4.0.tbz downloaded
[ocb-stubblr: http] Command started
[ocaml-migrate-parsetree: http] Command started
[ocaml-migrate-parsetree.1.0] https://github.com/let-def/ocaml-migrate-parsetree/archive/v1.0.tar.gz downloaded
[ocplib-endian: http] Command started
[ocb-stubblr: http] Command started
[ocb-stubblr.0.1.1] https://github.com/pqwy/ocb-stubblr/releases/download/v0.1.1/ocb-stubblr-0.1.1.tbz downloaded
[ppx_ast: http] Command started
[ocplib-endian: http] Command started
[ocplib-endian.1.0] https://github.com/OCamlPro/ocplib-endian/archive/1.0.tar.gz downloaded
[ppx_core: http] Command started
[ppx_ast: http] Command started
[ppx_ast.v0.9.1] https://github.com/janestreet/ppx_ast/archive/v0.9.1.tar.gz downloaded
[ppx_deriving: http] Command started
[ppx_core: http] Command started
[ppx_core.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_core-v0.9.0.tar.gz downloaded
[ppx_driver: http] Command started
[ppx_driver: http] Command started
[ppx_driver.v0.9.1] https://github.com/janestreet/ppx_driver/archive/v0.9.1.tar.gz downloaded
[ppx_metaquot: http] Command started
[ppx_metaquot: http] Command started
[ppx_metaquot.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_metaquot-v0.9.0.tar.gz downloaded
[ppx_optcomp: http] Command started
[ppx_optcomp: http] Command started
[ppx_optcomp.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_optcomp-v0.9.0.tar.gz downloaded
[ppx_sexp_conv: http] Command started
[ppx_deriving: http] Command started
[ppx_deriving.4.1] https://github.com/whitequark/ppx_deriving/archive/v4.1.tar.gz downloaded
[ppx_tools_versioned: http] Command started
[ppx_sexp_conv: http] Command started
[ppx_sexp_conv.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_sexp_conv-v0.9.0.tar.gz downloaded
[ppx_traverse_builtins: http] Command started
[ppx_traverse_builtins: http] Command started
[ppx_traverse_builtins.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_traverse_builtins-v0.9.0.tar.gz downloaded
[ppx_type_conv: http] Command started
[ppx_tools_versioned: http] Command started
[ppx_type_conv: http] Command started
[ppx_tools_versioned.5.0.1] https://github.com/let-def/ppx_tools_versioned/archive/5.0.1.tar.gz downloaded
[protocol-9p: http] Command started
[ppx_type_conv.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_type_conv-v0.9.0.tar.gz downloaded
[protocol-9p-unix: http] Command started
[mirage-kv-lwt: http] Command started
[mirage-kv-lwt.1.0.0] https://github.com/mirage/mirage-kv/releases/download/1.0.0/mirage-kv-lwt-1.0.0.tbz downloaded
[re: http] Command started
[protocol-9p-unix: http] Command started
[protocol-9p-unix.0.10.0] https://github.com/mirage/ocaml-9p/archive/v0.10.0.tar.gz downloaded
[rresult: http] Command started
[rresult: http] Command started
[rresult.0.5.0] http://erratique.ch/software/rresult/releases/rresult-0.5.0.tbz downloaded
[sexplib: http] Command started
[protocol-9p: http] Command started
[protocol-9p.0.10.0] https://github.com/mirage/ocaml-9p/archive/v0.10.0.tar.gz downloaded
[stdio: http] Command started
[stdio: http] Command started
[stdio.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/stdio-v0.9.0.tar.gz downloaded
[stringext: http] Command started
[re: http] Command started
[re.1.7.1] https://github.com/ocaml/ocaml-re/archive/1.7.1.tar.gz downloaded
[uri: http] Command started
[sexplib: http] Command started
[sexplib.v0.9.1] https://github.com/janestreet/sexplib/archive/v0.9.1.tar.gz downloaded
[win-error: http] Command started
[stringext: http] Command started
[stringext.1.4.3] https://github.com/rgrinberg/stringext/archive/v1.4.3.tar.gz downloaded
[uri: http] Command started
[uri.1.9.2] https://github.com/mirage/ocaml-uri/archive/v1.9.2.tar.gz downloaded
[win-error: http] Command started
[win-error.0.2] https://github.com/djs55/ocaml-win-error/archive/v0.2.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[jbuilder: ocaml bootstrap.ml] Command started
[logs: ocaml build] Command started
[mirage-device: ocaml build] Command started
[mirage-flow: ocaml build] Command started
-> installed mirage-device.1.0.0
[mirage-clock: ocaml build] Command started
-> installed mirage-flow.1.2.0
[mirage-channel: ocaml build] Command started
-> installed mirage-channel.3.0.0
[mirage-kv: ocaml build] Command started
-> installed mirage-clock.1.2.0
[ocb-stubblr: ocaml build] Command started
-> installed mirage-kv.1.0.0
[ocplib-endian: ocaml setup.ml] Command started
-> installed logs.0.6.2
[ppx_deriving: ocaml] Command started
-> installed ocb-stubblr.0.1.1
[named-pipe: ocaml build] Command started
[ocplib-endian: ocaml setup.ml] Command started
[jbuilder: ./boot.exe 4] Command started
-> installed named-pipe.0.4.0
[re: ocaml setup.ml] Command started
[ocplib-endian: ocaml setup.ml] Command started
[re: ocaml setup.ml] Command started
-> installed jbuilder.1.0+beta8
[ocaml-compiler-libs: jbuilder build] Command started
-> installed ocaml-compiler-libs.v0.9.0
[ocaml-migrate-parsetree: jbuilder build] Command started
-> installed ocplib-endian.1.0
[ppx_traverse_builtins: jbuilder build] Command started
-> installed ppx_deriving.4.1
[rresult: ocaml build] Command started
-> installed ppx_traverse_builtins.v0.9.0
[sexplib: jbuilder build] Command started
-> installed rresult.0.5.0
[stringext: ocaml setup.ml] Command started
-> installed sexplib.v0.9.1
[base: jbuilder build] Command started
[stringext: ocaml setup.ml] Command started
[re: ocaml setup.ml] Command started
-> installed ocaml-migrate-parsetree.1.0
[ppx_ast: jbuilder build] Command started
[stringext: ocaml setup.ml] Command started
-> installed re.1.7.1
[ppx_tools_versioned: make all] Command started
-> installed stringext.1.4.3
[win-error: make] Command started
-> installed ppx_ast.v0.9.1
-> installed base.v0.9.2
[stdio: jbuilder build] Command started
[win-error: make install] Command started
-> installed stdio.v0.9.0
[ppx_core: jbuilder build] Command started
[ppx_tools_versioned: make install] Command started
-> installed win-error.0.2
-> installed ppx_tools_versioned.5.0.1
[cstruct: ./configure] Command started
[cstruct: make] Command started
-> installed ppx_core.v0.9.0
[ppx_optcomp: jbuilder build] Command started
-> installed ppx_optcomp.v0.9.0
[ppx_driver: jbuilder build] Command started
[cstruct: make install] Command started
-> installed ppx_driver.v0.9.1
[ppx_metaquot: jbuilder build] Command started
[cstruct: make js-install] Command started
-> installed cstruct.2.4.1
[io-page: ./configure] Command started
[mirage-flow-lwt: ocaml build] Command started
[mirage-kv-lwt: ocaml build] Command started
-> installed mirage-kv-lwt.1.0.0
-> installed mirage-flow-lwt.1.2.0
-> installed ppx_metaquot.v0.9.0
[ppx_type_conv: jbuilder build] Command started
[io-page: make] Command started
-> installed ppx_type_conv.v0.9.0
[ppx_sexp_conv: jbuilder build] Command started
[io-page: make install] Command started
-> installed ppx_sexp_conv.v0.9.0
[uri: ocaml setup.ml] Command started
-> installed io-page.1.6.1
[mirage-channel-lwt: ocaml build] Command started
-> installed mirage-channel-lwt.3.0.0
[protocol-9p: jbuilder build] Command started
[uri: ocaml setup.ml] Command started
-> installed protocol-9p.0.10.0
[protocol-9p-unix: jbuilder build] Command started
[uri: ocaml setup.ml] Command started
-> installed protocol-9p-unix.0.10.0
-> installed uri.1.9.2
Done.
 ---> 1631e89a6b40
Removing intermediate container 1e66a8c28e88
Error removing intermediate container 728b5de51b93: No such container: 728b5de51b93a74195e19dfd66a71ed28042f788929c10212722a35c78e5038f
Step 8/15 : COPY . /home/opam/src/datakit
 ---> 2555fe47620b
Error removing intermediate container 728b5de51b93: No such container: 728b5de51b93a74195e19dfd66a71ed28042f788929c10212722a35c78e5038f
Step 9/15 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in 6b28686b6f8f
 ---> 3b31513d7807
Removing intermediate container 6b28686b6f8f
Error removing intermediate container 728b5de51b93: No such container: 728b5de51b93a74195e19dfd66a71ed28042f788929c10212722a35c78e5038f
Step 10/15 : RUN cd /home/opam/src/datakit &&     scripts/watermark.sh &&     git status --porcelain
 ---> Running in 0741e8238b49
 M src/version.ml
 ---> 6482da87a5da
Error removing intermediate container 728b5de51b93: No such container: 728b5de51b93a74195e19dfd66a71ed28042f788929c10212722a35c78e5038f
Step 11/15 : RUN opam update datakit-client
 ---> Running in e721e7408f9e

=-=- Synchronizing development packages -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: local] Command started
[datakit-client] /home/opam/src/datakit/ synchronized
 ---> b2e31ecd528a
Error removing intermediate container 728b5de51b93: No such container: 728b5de51b93a74195e19dfd66a71ed28042f788929c10212722a35c78e5038f
Step 12/15 : RUN opam info datakit-client --raw
 ---> Running in 949b31cfd91f
opam-version: "1.2"
name: "datakit-client"
version: "dev"
maintainer: "thomas@gazagnaire.org"
authors: [
  "Thomas Leonard" "Magnus Skjegstad" "David Scott" "Thomas Gazagnaire"
]
homepage: "https://github.com/moby/datakit"
bug-reports: "https://github.com/moby/datakit/issues"
license: "Apache"
doc: "https://docker.github.io/datakit/"
dev-repo: "https://github.com/moby/datakit.git"
build: ["jbuilder" "build" "-p" name "-j" jobs]
depends: [
  "jbuilder" {build}
  "base-bytes"
  "astring"
  "logs"
  "uri"
  "rresult"
  "fmt"
  "cstruct" {> "2.2.0"}
  "protocol-9p-unix" {>= "0.10.0"}
  "cmdliner"
]
 ---> 017049d5f556
Removing intermediate container 0741e8238b49
Removing intermediate container e721e7408f9e
Removing intermediate container 949b31cfd91f
Error removing intermediate container 728b5de51b93: No such container: 728b5de51b93a74195e19dfd66a71ed28042f788929c10212722a35c78e5038f
Step 13/15 : RUN opam install datakit-client.dev -vv
 ---> Running in 4945500c83f0

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/4.04.1/packages.dev/datakit-client"
- sending incremental file list
- 
- sent 8,055 bytes  received 46 bytes  16,202.00 bytes/sec
- total size is 1,250,427  speedup is 154.35
[datakit-client] /home/opam/src/datakit/ already up-to-date
The following actions will be performed:
  - install datakit-client dev*

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/4.04.1/packages.dev/datakit-client"
- sending incremental file list
- 
- sent 8,055 bytes  received 46 bytes  16,202.00 bytes/sec
- total size is 1,250,427  speedup is 154.35
[datakit-client.dev] /home/opam/src/datakit/ already up-to-date

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: jbuilder build] Command started
+ jbuilder "build" "-p" "datakit-client" "-j" "4" (CWD=/home/opam/.opam/4.04.1/build/datakit-client.dev)
-     ocamldep api/ocaml/datakit_client.dependsi.ocamldep-output
-     ocamldep api/ocaml/bin/mount.depends.ocamldep-output
-     ocamldep api/ocaml/datakit_client.depends.ocamldep-output
-       ocamlc api/ocaml/bin/version.{cmi,cmo,cmt}
-       ocamlc api/ocaml/datakit_path.{cmi,cmti}
-     ocamlopt api/ocaml/bin/version.{cmx,o}
-       ocamlc api/ocaml/bin/mount.{cmi,cmo,cmt}
-       ocamlc api/ocaml/datakit_path.{cmo,cmt}
-       ocamlc api/ocaml/datakit_S.{cmi,cmo,cmt}
-     ocamlopt api/ocaml/datakit_path.{cmx,o}
-     ocamlopt api/ocaml/bin/mount.{cmx,o}
-       ocamlc api/ocaml/datakit_client_9p.{cmi,cmti}
-     ocamlopt api/ocaml/datakit_S.{cmx,o}
-       ocamlc api/ocaml/datakit_client_9p.{cmo,cmt}
-       ocamlc api/ocaml/datakit_client.cma
-     ocamlopt api/ocaml/bin/mount.exe
-     ocamlopt api/ocaml/datakit_client_9p.{cmx,o}
-     ocamlopt api/ocaml/datakit_client.{a,cmxa}
-     ocamlopt api/ocaml/datakit_client.cmxs
+ install "-m" "0755" "/home/opam/.opam/4.04.1/build/datakit-client.dev/_build/install/default/bin/datakit-mount" "/home/opam/.opam/4.04.1/bin/datakit-mount"
+ install "-m" "0644" "/home/opam/.opam/4.04.1/build/datakit-client.dev/_build/install/default/lib/datakit-client/META" "/home/opam/.opam/4.04.1/lib/datakit-client/META"
+ install "-m" "0644" "/home/opam/.opam/4.04.1/build/datakit-client.dev/_build/install/default/lib/datakit-client/opam" "/home/opam/.opam/4.04.1/lib/datakit-client/opam"
+ install "-m" "0644" "/home/opam/.opam/4.04.1/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_S.cmi" "/home/opam/.opam/4.04.1/lib/datakit-client/datakit_S.cmi"
+ install "-m" "0644" "/home/opam/.opam/4.04.1/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_S.cmx" "/home/opam/.opam/4.04.1/lib/datakit-client/datakit_S.cmx"
+ install "-m" "0644" "/home/opam/.opam/4.04.1/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_S.cmt" "/home/opam/.opam/4.04.1/lib/datakit-client/datakit_S.cmt"
+ install "-m" "0644" "/home/opam/.opam/4.04.1/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_S.ml" "/home/opam/.opam/4.04.1/lib/datakit-client/datakit_S.ml"
+ install "-m" "0644" "/home/opam/.opam/4.04.1/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client_9p.cmi" "/home/opam/.opam/4.04.1/lib/datakit-client/datakit_client_9p.cmi"
+ install "-m" "0644" "/home/opam/.opam/4.04.1/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client_9p.cmx" "/home/opam/.opam/4.04.1/lib/datakit-client/datakit_client_9p.cmx"
+ install "-m" "0644" "/home/opam/.opam/4.04.1/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client_9p.cmt" "/home/opam/.opam/4.04.1/lib/datakit-client/datakit_client_9p.cmt"
+ install "-m" "0644" "/home/opam/.opam/4.04.1/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client_9p.cmti" "/home/opam/.opam/4.04.1/lib/datakit-client/datakit_client_9p.cmti"
+ install "-m" "0644" "/home/opam/.opam/4.04.1/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client_9p.mli" "/home/opam/.opam/4.04.1/lib/datakit-client/datakit_client_9p.mli"
+ install "-m" "0644" "/home/opam/.opam/4.04.1/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_path.cmi" "/home/opam/.opam/4.04.1/lib/datakit-client/datakit_path.cmi"
+ install "-m" "0644" "/home/opam/.opam/4.04.1/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_path.cmx" "/home/opam/.opam/4.04.1/lib/datakit-client/datakit_path.cmx"
+ install "-m" "0644" "/home/opam/.opam/4.04.1/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_path.cmt" "/home/opam/.opam/4.04.1/lib/datakit-client/datakit_path.cmt"
+ install "-m" "0644" "/home/opam/.opam/4.04.1/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_path.cmti" "/home/opam/.opam/4.04.1/lib/datakit-client/datakit_path.cmti"
+ install "-m" "0644" "/home/opam/.opam/4.04.1/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_path.mli" "/home/opam/.opam/4.04.1/lib/datakit-client/datakit_path.mli"
+ install "-m" "0644" "/home/opam/.opam/4.04.1/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.cma" "/home/opam/.opam/4.04.1/lib/datakit-client/datakit_client.cma"
+ install "-m" "0644" "/home/opam/.opam/4.04.1/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.cmxa" "/home/opam/.opam/4.04.1/lib/datakit-client/datakit_client.cmxa"
+ install "-m" "0644" "/home/opam/.opam/4.04.1/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.a" "/home/opam/.opam/4.04.1/lib/datakit-client/datakit_client.a"
+ install "-m" "0644" "/home/opam/.opam/4.04.1/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.cmxs" "/home/opam/.opam/4.04.1/lib/datakit-client/datakit_client.cmxs"
+ install "-m" "0644" "/home/opam/.opam/4.04.1/build/datakit-client.dev/_build/install/default/doc/datakit-client/README.md" "/home/opam/.opam/4.04.1/doc/datakit-client/README.md"
+ install "-m" "0644" "/home/opam/.opam/4.04.1/build/datakit-client.dev/_build/install/default/doc/datakit-client/LICENSE.md" "/home/opam/.opam/4.04.1/doc/datakit-client/LICENSE.md"
+ install "-m" "0644" "/home/opam/.opam/4.04.1/build/datakit-client.dev/_build/install/default/doc/datakit-client/CHANGES.md" "/home/opam/.opam/4.04.1/doc/datakit-client/CHANGES.md"
-> installed datakit-client.dev
Done.
 ---> 497ba1fdf841
Removing intermediate container 4422563cd369
Removing intermediate container 4945500c83f0
Error removing intermediate container 728b5de51b93: No such container: 728b5de51b93a74195e19dfd66a71ed28042f788929c10212722a35c78e5038f
Step 14/15 : RUN sudo mkdir /data && sudo chown opam.nogroup /data && chmod 700 /data &&     sudo cp $(opam config exec -- which datakit-mount) /usr/bin/datakit-mount
 ---> Running in 5b17ed5b5a24
 ---> 2a3d6ef22d57
Error removing intermediate container 728b5de51b93: No such container: 728b5de51b93a74195e19dfd66a71ed28042f788929c10212722a35c78e5038f
Step 15/15 : CMD bash -c "/usr/bin/datakit-mount -h $(getent hosts datakit | awk '{print $1}')";     bash
 ---> Running in a74ec1a5f826
 ---> 927396f96aaf
Removing intermediate container 5b17ed5b5a24
Removing intermediate container a74ec1a5f826
Error removing intermediate container 728b5de51b93: No such container: 728b5de51b93a74195e19dfd66a71ed28042f788929c10212722a35c78e5038f
Successfully built 927396f96aaf
[2017-05-04 14:29.09] Success
