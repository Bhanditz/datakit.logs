=== Docker build Dockerfile
[2017-03-14 09:31.47] Starting...
Cloning into '/tmp/with_clone3034ea74'...
done.
HEAD is now at fd382cc Merge pull request #499 from talex5/appveyor
[2017-03-14 09:31.49] Rewrite Dockerfile's first line to:
FROM sha256:b263c2cb78b1b5585219473b62d9939ae29c8e48b2b236088737a3c09b6cd093
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 6.128 MBSending build context to Docker daemon 6.685 MBSending build context to Docker daemon 7.242 MBSending build context to Docker daemon 7.567 MB
Step 1/15 : FROM sha256:b263c2cb78b1b5585219473b62d9939ae29c8e48b2b236088737a3c09b6cd093
 ---> b263c2cb78b1
Step 2/15 : COPY opam /home/opam/src/datakit/opam
 ---> 6f6b5b3af183
Removing intermediate container 88dcf77c9d8d
Step 3/15 : RUN opam pin add datakit.dev /home/opam/src/datakit -n
 ---> Running in 821a339be926
[91m[NOTE] Will pin to 'master' using git
[0m[datakit.dev: git]
[datakit.dev: git]
[datakit.dev: git]
[datakit.dev: git]
[datakit.dev] synchronised from git+file:///home/opam/src/datakit#master
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit/opam from 1.2 to 2.0~beta
[0mdatakit is now pinned to git+file:///home/opam/src/datakit#master (version dev)
 ---> 70efcc827aaf
Removing intermediate container 821a339be926
Step 4/15 : RUN opam pin add datakit-github.dev /home/opam/src/datakit -n
 ---> Running in 8b9bc972d6ba
[91m[NOTE] Will pin to 'master' using git
[0m[datakit-github.dev: git]
[datakit-github.dev: git]
[datakit-github.dev: git]
[datakit-github.dev: git]
[datakit-github.dev] synchronised from git+file:///home/opam/src/datakit#master
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit-github/datakit-github.opam from 1.2 to 2.0~beta
[0mdatakit-github is now pinned to git+file:///home/opam/src/datakit#master (version dev)
 ---> d553f74f3ba9
Removing intermediate container 8b9bc972d6ba
Step 5/15 : RUN opam depext datakit && opam install datakit -y --deps
 ---> Running in c5eb72efb84c
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - gmp-dev
#  - linux-headers
#  - m4
#  - ncurses-dev
#  - openssl-dev
#  - pcre-dev
#  - perl
#  - pkgconfig
#  - zlib-dev
m4
ncurses-dev
pcre-dev
pkgconf
# The following new OS packages need to be installed: gmp-dev linux-headers openssl-dev perl zlib-dev
The following command needs to be run through "sudo":
    apk add gmp-dev linux-headers openssl-dev perl zlib-dev
(1/8) Installing libgmpxx (6.1.1-r0)
(2/8) Installing gmp-dev (6.1.1-r0)
(3/8) Installing linux-headers (4.4.6-r1)
(4/8) Installing zlib-dev (1.2.8-r2)
(5/8) Installing libcrypto1.0 (1.0.2k-r0)
(6/8) Installing libssl1.0 (1.0.2k-r0)
(7/8) Installing openssl-dev (1.0.2k-r0)
(8/8) Installing perl (5.24.0-r0)
Executing busybox-1.25.1-r0.trigger
OK: 631 MiB in 96 packages
# OS packages installation successful

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[91m[NOTE] Ignoring uncommitted changes in /home/opam/src/datakit (`--working-dir' not active).
[0m[datakit.dev] no changes from git+file:///home/opam/src/datakit#master
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit/opam from 1.2 to 2.0~beta
[0m
The following actions will be performed:
  - install   asl             0.10
  - install   win-eventlog    0.1
  - install   uutf            0.9.4
  - install   camlzip         1.07
  - install   irmin-watcher   0.2.0
  - install   asetmap         0.8.1
  - install   mtime           0.8.4
  - install   base64          2.1.2
  - install   mirage-flow     1.1.0
  - install   stringext       1.4.3                             [required by uri]
  - install   ocamlgraph      1.8.7
  - install   bin_prot        113.33.00+4.03
  - install   fieldslib       113.24.00
  - install   magic-mime      1.0.0
  - install   crunch          2.0.0
  - install   hex             1.0.0
  - install   mstruct         1.3.2
  - install   jsonm           0.9.1
  - install   prometheus      0.1
  - install   hvsock          0.10.0
  - upgrade   uri             1.3.12 to 1.9.2
  - install   ppx_fields_conv 113.33.00+4.03
  - install   ezjsonm         0.4.3
  - install   conduit         0.14.5
  - recompile datakit-server  dev*                              [uses uri]
  - install   mirage-tc       0.3.0
  - install   cohttp          0.21.1
  - install   prometheus-app  0.1
  - install   git             1.9.3
  - install   irmin           0.12.0
===== 28 to install | 1 to recompile | 1 to upgrade =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[asetmap.0.8.1] downloaded from http://erratique.ch/software/asetmap/releases/asetmap-0.8.1.tbz
[base64.2.1.2] downloaded from https://github.com/mirage/ocaml-base64/releases/download/v2.1.2/base64-2.1.2.tbz
[bin_prot.113.33.00+4.03] downloaded from https://ocaml.janestreet.com/ocaml-core/113.33/files/bin_prot-113.33.00+4.03.tar.gz
[asl.0.10] downloaded from https://github.com/mirage/ocaml-asl/archive/v0.10.tar.gz
[camlzip.1.07] downloaded from https://github.com/xavierleroy/camlzip/archive/rel107.zip
[cohttp.0.21.1] downloaded from https://github.com/mirage/ocaml-cohttp/archive/v0.21.1.tar.gz
[conduit.0.14.5] downloaded from https://github.com/mirage/ocaml-conduit/archive/v0.14.5.tar.gz
[crunch.2.0.0] downloaded from https://github.com/mirage/ocaml-crunch/releases/download/2.0.0/crunch-2.0.0.tbz
[fieldslib.113.24.00] downloaded from https://ocaml.janestreet.com/ocaml-core/113.24/files/fieldslib-113.24.00.tar.gz
[ezjsonm.0.4.3] downloaded from https://github.com/mirage/ezjsonm/archive//0.4.3.tar.gz
[hex.1.0.0] downloaded from https://github.com/mirage/ocaml-hex/archive/1.0.0.tar.gz
[git.1.9.3] downloaded from https://github.com/mirage/ocaml-git/releases/download/1.9.3/git-1.9.3.tbz
[hvsock.0.10.0] downloaded from https://github.com/djs55/ocaml-hvsock/archive/v0.10.0.tar.gz
[jsonm.0.9.1] downloaded from http://erratique.ch/software/jsonm/releases/jsonm-0.9.1.tbz
[irmin-watcher.0.2.0] downloaded from https://github.com/samoht/irmin-watcher/releases/download/0.2.0/irmin-watcher-0.2.0.tbz
[irmin.0.12.0] downloaded from https://github.com/mirage/irmin/releases/download/0.12.0/irmin-0.12.0.tbz
[magic-mime.1.0.0] downloaded from https://github.com/mirage/ocaml-magic-mime/archive/v1.0.0.tar.gz
[mirage-flow.1.1.0] downloaded from https://github.com/mirage/mirage-flow/archive/v1.1.0.tar.gz
[mtime.0.8.4] downloaded from http://erratique.ch/software/mtime/releases/mtime-0.8.4.tbz
[mirage-tc.0.3.0] downloaded from https://github.com/mirage/mirage-tc/archive//0.3.0.tar.gz
[mstruct.1.3.2] downloaded from https://github.com/mirage/ocaml-mstruct/archive/1.3.2.tar.gz
[ppx_fields_conv.113.33.00+4.03] downloaded from https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_fields_conv-113.33.00+4.03.tar.gz
[prometheus.0.1] downloaded from https://github.com/mirage/prometheus/releases/download/v0.1/prometheus-0.1.tbz
[prometheus-app.0.1] downloaded from https://github.com/mirage/prometheus/releases/download/v0.1/prometheus-0.1.tbz
[ocamlgraph.1.8.7] downloaded from http://ocamlgraph.lri.fr/download/ocamlgraph-1.8.7.tar.gz
[uutf.0.9.4] downloaded from http://erratique.ch/software/uutf/releases/uutf-0.9.4.tbz
[stringext.1.4.3] downloaded from https://github.com/rgrinberg/stringext/archive/v1.4.3.tar.gz
[win-eventlog.0.1] downloaded from https://github.com/djs55/ocaml-win-eventlog/archive/v0.1.tar.gz
[uri.1.9.2] downloaded from https://github.com/mirage/ocaml-uri/archive/v1.9.2.tar.gz

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> removed   datakit-server.dev
-> removed   uri.1.3.12
-> installed asetmap.0.8.1
-> installed asl.0.10
-> installed base64.2.1.2
-> installed bin_prot.113.33.00+4.03
-> installed camlzip.1.07
-> installed crunch.2.0.0
-> installed fieldslib.113.24.00
-> installed hex.1.0.0
-> installed irmin-watcher.0.2.0
-> installed magic-mime.1.0.0
-> installed mirage-flow.1.1.0
-> installed hvsock.0.10.0
-> installed mstruct.1.3.2
-> installed mtime.0.8.4
-> installed ocamlgraph.1.8.7
-> installed ppx_fields_conv.113.33.00+4.03
-> installed prometheus.0.1
-> installed stringext.1.4.3
-> installed uri.1.9.2
-> installed conduit.0.14.5
-> installed cohttp.0.21.1
-> installed datakit-server.dev
-> installed git.1.9.3
-> installed prometheus-app.0.1
-> installed uutf.0.9.4
-> installed jsonm.0.9.1
-> installed ezjsonm.0.4.3
-> installed mirage-tc.0.3.0
-> installed irmin.0.12.0
-> installed win-eventlog.0.1
Done.
# Run eval `opam env` to update the current shell environment
 ---> e45e64edf62e
Removing intermediate container c5eb72efb84c
Step 6/15 : COPY . /home/opam/src/datakit/
 ---> 3a3c7c9ba0b5
Removing intermediate container 053d1e9f201a
Step 7/15 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in 75ed71e4e275
 ---> d89c95118b0e
Removing intermediate container 75ed71e4e275
Step 8/15 : RUN cd /home/opam/src/datakit &&     git diff && git status --porcelain &&     git checkout . && scripts/watermark.sh &&     git status --porcelain
 ---> Running in 326505b07493
diff --git a/Dockerfile b/Dockerfile
index 33277c4..08c2801 100644
--- a/Dockerfile
+++ b/Dockerfile
@@ -1,4 +1,4 @@
-FROM docker/datakit:server
+FROM sha256:b263c2cb78b1b5585219473b62d9939ae29c8e48b2b236088737a3c09b6cd093
 
 COPY opam /home/opam/src/datakit/opam
 RUN opam pin add datakit.dev /home/opam/src/datakit -n
 M Dockerfile
 M src/version.ml
 ---> ae4a5b149e8f
Removing intermediate container 326505b07493
Step 9/15 : RUN opam update datakit
 ---> Running in e8b2646a2396

=-=- Synchronizing development packages -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[91m[NOTE] Ignoring uncommitted changes in /home/opam/src/datakit (`--working-dir' not active).
[0m[datakit.dev] no changes from git+file:///home/opam/src/datakit#master
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit/opam from 1.2 to 2.0~beta
[0mNow run 'opam upgrade' to apply any package updates.
 ---> 89c50ce6e9cc
Removing intermediate container e8b2646a2396
Step 10/15 : RUN opam install datakit -vv -y
 ---> Running in 8c82eeb3e2f6

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/1:
+ git "symbolic-ref" "--quiet" "--short" "HEAD" (CWD=/home/opam/src/datakit)
- master
+ git "diff" "--quiet" (CWD=/home/opam/src/datakit)
[91m[NOTE] Ignoring uncommitted changes in /home/opam/src/datakit (`--working-dir' not active).
[0mProcessing  1/1: [datakit.dev: git]
+ git "fetch" "-q" "file:///home/opam/src/datakit" "--update-shallow" "+master:refs/remotes/opam-ref-master" (CWD=/home/opam/.opam/default/.opam-switch/sources/datakit)
+ git "diff" "--quiet" "refs/remotes/opam-ref-master" "--" (CWD=/home/opam/.opam/default/.opam-switch/sources/datakit)
[datakit.dev] no changes from git+file:///home/opam/src/datakit#master
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit/opam from 1.2 to 2.0~beta
[0m
+ uname "-m"
- x86_64
+ ocamlc "-vnum"
- 4.04.0
The following actions will be performed:
  - install datakit dev*
+ git "init" (CWD=/home/opam/.opam/default/.opam-switch/sources/datakit)
- Initialized empty Git repository in /home/opam/.opam/default/.opam-switch/sources/datakit/.git/
+ git "config" "--local" "fetch.prune" "false" (CWD=/home/opam/.opam/default/.opam-switch/sources/datakit)
+ git "fetch" "-q" "file:///home/opam/src/datakit" "--update-shallow" "+master:refs/remotes/opam-ref-master" (CWD=/home/opam/.opam/default/.opam-switch/sources/datakit)
+ git "reset" "--hard" "refs/remotes/opam-ref-master" "--" (CWD=/home/opam/.opam/default/.opam-switch/sources/datakit)
- HEAD is now at fd382cc Merge pull request #499 from talex5/appveyor
[datakit.dev] synchronised from git+file:///home/opam/src/datakit#master

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/2: [datakit: ocaml build]
+ ocaml "pkg/pkg.ml" "build" "--pinned" "true" "--tests" "false" (CWD=/home/opam/.opam/default/.opam-switch/build/datakit.dev)
- pkg.ml: [WARNING] Watermarks: OPAM fields of opam: topkg: no such command. Did you install topkg-care ?
- pkg.ml: [WARNING] file opam: opam field "maintainer" undefined or unsupported
- pkg.ml: [WARNING] file opam: opam field "authors" undefined or unsupported
- pkg.ml: [WARNING] file opam: opam field "homepage" undefined or unsupported
- pkg.ml: [WARNING] file opam: opam field "bug-reports" undefined or unsupported
- pkg.ml: [WARNING] file opam: opam field "doc" undefined or unsupported
- pkg.ml: [WARNING] file opam: opam field "license" undefined or unsupported
- pkg.ml: [WARNING] file opam: opam field "dev-repo" undefined or unsupported
- ocamlfind ocamlopt unix.cmxa -I /home/opam/.opam/default/lib/ocamlbuild /home/opam/.opam/default/lib/ocamlbuild/ocamlbuildlib.cmxa -linkpkg myocamlbuild.ml /home/opam/.opam/default/lib/ocamlbuild/ocamlbuild.cmx -o myocamlbuild
- ocamlfind ocamldep -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/ivfs.ml > src/datakit/ivfs.ml.depends
- ocamlfind ocamldep -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/ivfs.mli > src/datakit/ivfs.mli.depends
- ocamlfind ocamldep -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/ivfs_tree.mli > src/datakit/ivfs_tree.mli.depends
- ocamlfind ocamldep -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/ivfs_blob.mli > src/datakit/ivfs_blob.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_blob.cmi src/datakit/ivfs_blob.mli
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_tree.cmi src/datakit/ivfs_tree.mli
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs.cmi src/datakit/ivfs.mli
- ocamlfind ocamldep -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/ivfs_blob.ml > src/datakit/ivfs_blob.ml.depends
- ocamlfind ocamldep -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/ivfs_merge.ml > src/datakit/ivfs_merge.ml.depends
- ocamlfind ocamldep -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/ivfs_merge.mli > src/datakit/ivfs_merge.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_merge.cmi src/datakit/ivfs_merge.mli
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_blob.cmx src/datakit/ivfs_blob.ml
- ocamlfind ocamldep -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/ivfs_tree.ml > src/datakit/ivfs_tree.ml.depends
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_tree.cmx src/datakit/ivfs_tree.ml
- ocamlfind ocamldep -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/ivfs_remote.ml > src/datakit/ivfs_remote.ml.depends
- ocamlfind ocamldep -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/ivfs_remote.mli > src/datakit/ivfs_remote.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_remote.cmi src/datakit/ivfs_remote.mli
- ocamlfind ocamldep -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/ivfs_rw.ml > src/datakit/ivfs_rw.ml.depends
- ocamlfind ocamldep -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/ivfs_rw.mli > src/datakit/ivfs_rw.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_rw.cmi src/datakit/ivfs_rw.mli
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_merge.cmx src/datakit/ivfs_merge.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_remote.cmx src/datakit/ivfs_remote.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_rw.cmx src/datakit/ivfs_rw.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs.cmx src/datakit/ivfs.ml
- ocamlfind ocamlopt -a -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -I src/datakit src/datakit/ivfs_blob.cmx src/datakit/ivfs_tree.cmx src/datakit/ivfs_merge.cmx src/datakit/ivfs_remote.cmx src/datakit/ivfs_rw.cmx src/datakit/ivfs.cmx -o src/datakit/ivfs.cmxa
- ocamlfind ocamlopt -shared -linkall -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -I src/datakit src/datakit/ivfs.cmxa -o src/datakit/ivfs.cmxs
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs.cmo src/datakit/ivfs.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_tree.cmo src/datakit/ivfs_tree.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_remote.cmo src/datakit/ivfs_remote.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_blob.cmo src/datakit/ivfs_blob.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_merge.cmo src/datakit/ivfs_merge.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_rw.cmo src/datakit/ivfs_rw.ml
- ocamlfind ocamlc -a -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -I src/datakit src/datakit/ivfs_blob.cmo src/datakit/ivfs_tree.cmo src/datakit/ivfs_merge.cmo src/datakit/ivfs_remote.cmo src/datakit/ivfs_rw.cmo src/datakit/ivfs.cmo -o src/datakit/ivfs.cma
- ocamlfind ocamldep -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'protocol-9p.unix camlzip' -package 'irmin.http cohttp.lwt irmin-watcher' -package 'git irmin irmin.git irmin.mem irmin-watcher' -package 'cmdliner fmt.cli fmt.tty logs.fmt asetmap' -package prometheus-app.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/main.ml > src/datakit/main.ml.depends
- ocamlfind ocamldep -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit_conduit.mli > src/datakit_conduit.mli.depends
- ocamlfind ocamldep -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit_io.mli > src/datakit_io.mli.depends
- ocamlfind ocamldep -package 'asl win-eventlog cmdliner logs.cli mtime.os' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit_log.mli > src/datakit_log.mli.depends
- ocamlfind ocamldep -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/version.ml > src/version.ml.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -thread -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src -I src/datakit -o src/datakit_conduit.cmi src/datakit_conduit.mli
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src -I src/datakit -o src/datakit_io.cmi src/datakit_io.mli
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'asl win-eventlog cmdliner logs.cli mtime.os' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src -I src/datakit -o src/datakit_log.cmi src/datakit_log.mli
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src -I src/datakit -o src/version.cmo src/version.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -thread -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'protocol-9p.unix camlzip' -package 'irmin.http cohttp.lwt irmin-watcher' -package 'git irmin irmin.git irmin.mem irmin-watcher' -package 'cmdliner fmt.cli fmt.tty logs.fmt asetmap' -package prometheus-app.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/main.cmo src/datakit/main.ml
- ocamlfind ocamldep -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit_conduit.ml > src/datakit_conduit.ml.depends
- ocamlfind ocamldep -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit_io.ml > src/datakit_io.ml.depends
- ocamlfind ocamldep -package 'asl win-eventlog cmdliner logs.cli mtime.os' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit_log.ml > src/datakit_log.ml.depends
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -thread -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src -I src/datakit -o src/datakit_conduit.cmx src/datakit_conduit.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src -I src/datakit -o src/datakit_io.cmx src/datakit_io.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'asl win-eventlog cmdliner logs.cli mtime.os' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src -I src/datakit -o src/datakit_log.cmx src/datakit_log.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src -I src/datakit -o src/version.cmx src/version.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -thread -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'protocol-9p.unix camlzip' -package 'irmin.http cohttp.lwt irmin-watcher' -package 'git irmin irmin.git irmin.mem irmin-watcher' -package 'cmdliner fmt.cli fmt.tty logs.fmt asetmap' -package prometheus-app.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/main.cmx src/datakit/main.ml
- ocamlfind ocamlopt -linkpkg -g -thread -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'protocol-9p.unix camlzip' -package 'irmin.http cohttp.lwt irmin-watcher' -package 'git irmin irmin.git irmin.mem irmin-watcher' -package 'cmdliner fmt.cli fmt.tty logs.fmt asetmap' -package prometheus-app.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src src/datakit/ivfs_blob.cmx src/datakit/ivfs_tree.cmx src/datakit/ivfs_merge.cmx src/datakit/ivfs_remote.cmx src/datakit/ivfs_rw.cmx src/datakit/ivfs.cmx src/datakit_conduit.cmx src/datakit_io.cmx src/datakit_log.cmx src/version.cmx src/datakit/main.cmx -o src/datakit/main.native
- ocamlfind ocamldep -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit-client/mount.ml > src/datakit-client/mount.ml.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit-client -I src -I src/datakit -o src/datakit-client/mount.cmo src/datakit-client/mount.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit-client -I src -I src/datakit -o src/datakit-client/mount.cmx src/datakit-client/mount.ml
- ocamlfind ocamlopt -linkpkg -g -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -I src -I src/datakit-client src/version.cmx src/datakit-client/mount.cmx -o src/datakit-client/mount.native
- pkg.ml: [WARNING] Package description has 8 warning(s), see log above.
-> compiled  datakit.dev
+ install "-m" "0755" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit-client/mount.native" "/home/opam/.opam/default/bin/datakit-mount"
+ install "-m" "0755" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/main.native" "/home/opam/.opam/default/bin/datakit"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/opam" "/home/opam/.opam/default/lib/datakit/opam"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/pkg/META" "/home/opam/.opam/default/lib/datakit/META"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs.a" "/home/opam/.opam/default/lib/datakit/ivfs.a"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs.cma" "/home/opam/.opam/default/lib/datakit/ivfs.cma"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs.cmi" "/home/opam/.opam/default/lib/datakit/ivfs.cmi"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs.cmti" "/home/opam/.opam/default/lib/datakit/ivfs.cmti"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs.cmx" "/home/opam/.opam/default/lib/datakit/ivfs.cmx"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs.cmxa" "/home/opam/.opam/default/lib/datakit/ivfs.cmxa"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs.cmxs" "/home/opam/.opam/default/lib/datakit/ivfs.cmxs"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs.mli" "/home/opam/.opam/default/lib/datakit/ivfs.mli"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_blob.cmi" "/home/opam/.opam/default/lib/datakit/ivfs_blob.cmi"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_blob.cmti" "/home/opam/.opam/default/lib/datakit/ivfs_blob.cmti"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_blob.cmx" "/home/opam/.opam/default/lib/datakit/ivfs_blob.cmx"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_blob.mli" "/home/opam/.opam/default/lib/datakit/ivfs_blob.mli"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_merge.cmi" "/home/opam/.opam/default/lib/datakit/ivfs_merge.cmi"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_merge.cmti" "/home/opam/.opam/default/lib/datakit/ivfs_merge.cmti"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_merge.cmx" "/home/opam/.opam/default/lib/datakit/ivfs_merge.cmx"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_merge.mli" "/home/opam/.opam/default/lib/datakit/ivfs_merge.mli"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_remote.cmi" "/home/opam/.opam/default/lib/datakit/ivfs_remote.cmi"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_remote.cmti" "/home/opam/.opam/default/lib/datakit/ivfs_remote.cmti"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_remote.cmx" "/home/opam/.opam/default/lib/datakit/ivfs_remote.cmx"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_remote.mli" "/home/opam/.opam/default/lib/datakit/ivfs_remote.mli"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_rw.cmi" "/home/opam/.opam/default/lib/datakit/ivfs_rw.cmi"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_rw.cmti" "/home/opam/.opam/default/lib/datakit/ivfs_rw.cmti"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_rw.cmx" "/home/opam/.opam/default/lib/datakit/ivfs_rw.cmx"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_rw.mli" "/home/opam/.opam/default/lib/datakit/ivfs_rw.mli"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_tree.cmi" "/home/opam/.opam/default/lib/datakit/ivfs_tree.cmi"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_tree.cmti" "/home/opam/.opam/default/lib/datakit/ivfs_tree.cmti"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_tree.cmx" "/home/opam/.opam/default/lib/datakit/ivfs_tree.cmx"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_tree.mli" "/home/opam/.opam/default/lib/datakit/ivfs_tree.mli"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/CHANGES.md" "/home/opam/.opam/default/doc/datakit/CHANGES.md"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/LICENSE.md" "/home/opam/.opam/default/doc/datakit/LICENSE.md"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/README.md" "/home/opam/.opam/default/doc/datakit/README.md"
-> installed datakit.dev
Done.
# Run eval `opam env` to update the current shell environment
 ---> ad7789f7c33d
Removing intermediate container 8c82eeb3e2f6
Step 11/15 : EXPOSE 5640
 ---> Running in 47081c8b6cee
 ---> 07bf8e3fe952
Removing intermediate container 47081c8b6cee
Step 12/15 : RUN sudo mkdir /data && sudo chown opam.nogroup /data && chmod 700 /data &&     sudo cp $(opam config exec -- which datakit) /usr/bin/datakit &&     sudo cp $(opam config exec -- which datakit-mount) /usr/bin/datakit-mount
 ---> Running in 04662710de95
 ---> c408f8a132a4
Removing intermediate container 04662710de95
Step 13/15 : RUN opam config exec -- ocaml /home/opam/src/datakit/check-libev.ml
 ---> Running in 8f078948de9c
 ---> 73132a17d72c
Removing intermediate container 8f078948de9c
Step 14/15 : ENTRYPOINT /usr/bin/datakit
 ---> Running in eb737fc227c5
 ---> 768ef7464af9
Removing intermediate container eb737fc227c5
Step 15/15 : CMD --url=tcp://0.0.0.0:5640 --git=/data -v
 ---> Running in ff35b3d8c855
 ---> 2c9ccc94df3c
Removing intermediate container ff35b3d8c855
Successfully built 2c9ccc94df3c
[2017-03-14 09:35.16] Success
