=== Run docker-build-client on commit 61c296e4ef47553016a1b24eec1b81a39a6ffdfe
[2017-01-04 12:26.55] Starting...
Cloning into '/tmp/with_clone23fd72ef'...
done.
HEAD is now at 61c296e Bound the size of Term.wait_for_all status messages
[2017-01-04 12:26.55] Running "docker" "build" "--pull" "-f" "Dockerfile.client" "."...
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.271 MB
Step 1 : FROM ocaml/opam:alpine
alpine: Pulling from ocaml/opam
b7f33cc0b48e: Already exists
fd675b4eebd1: Already exists
74ff86c25a23: Pulling fs layer
dbd18f2d0768: Pulling fs layer
74ff86c25a23: Pull complete
dbd18f2d0768: Verifying Checksum
dbd18f2d0768: Download complete
dbd18f2d0768: Pull complete
Digest: sha256:54890484167302bbe9b4d6d34050f44f3458abe99e273e0efc11e01b4ab79330
Status: Downloaded newer image for ocaml/opam:alpine
 ---> 53906d2de939
Step 2 : RUN cd /home/opam/opam-repository && git pull && opam update -y
 ---> Running in 97c7fdc77de8
[91mFrom git://github.com/ocaml/opam-repository
   8c8cdf3..2208a38  master     -> origin/master
[0mUpdating 8c8cdf3..2208a38
Fast-forward
 README.md                                          |  2 +-
 .../4.02.2+improved-errors.comp}                   | 14 ++++--
 .../4.02.2+improved-errors.descr                   |  1 +
 compilers/4.04.0/4.04.0+BER/4.04.0+BER.comp        | 15 ++++++
 compilers/4.04.0/4.04.0+BER/4.04.0+BER.descr       |  1 +
 compilers/4.05.0/4.05.0+pr875/4.05.0+pr875.descr   |  1 -
 compilers/4.05.0/4.05.0+pr881/4.05.0+pr881.descr   |  1 -
 .../4.05.0+pr995.comp}                             |  2 +-
 compilers/4.05.0/4.05.0+pr995/4.05.0+pr995.descr   |  1 +
 .../files/metaocaml.native.conf                    |  3 ++
 .../base-metaocaml-ocamlfind.base/opam             | 12 +++--
 packages/camlgpc/camlgpc.1.0/opam                  |  1 +
 packages/cfgen/cfgen.1.0/descr                     |  8 ++++
 packages/cfgen/cfgen.1.0/opam                      | 17 +++++++
 packages/cfgen/cfgen.1.0/url                       |  2 +
 packages/conduit/conduit.0.14.0/opam               |  1 -
 packages/conduit/conduit.0.14.1/opam               |  1 -
 packages/conduit/conduit.0.14.2/descr              | 15 ++++++
 packages/conduit/conduit.0.14.2/opam               | 52 ++++++++++++++++++++
 packages/conduit/conduit.0.14.2/url                |  2 +
 packages/conduit/conduit.0.14.3/descr              | 15 ++++++
 packages/conduit/conduit.0.14.3/opam               | 52 ++++++++++++++++++++
 packages/conduit/conduit.0.14.3/url                |  2 +
 packages/conduit/conduit.0.14.4/descr              | 15 ++++++
 packages/conduit/conduit.0.14.4/opam               | 56 ++++++++++++++++++++++
 packages/conduit/conduit.0.14.4/url                |  2 +
 packages/dns-forward/dns-forward.0.7.2/opam        |  2 +-
 .../google-drive-ocamlfuse.0.6.8/descr             |  4 ++
 .../google-drive-ocamlfuse.0.6.8/opam              | 32 +++++++++++++
 .../google-drive-ocamlfuse.0.6.8/url               |  2 +
 packages/ocaml-expat/ocaml-expat.1.0.0/descr       |  4 ++
 packages/ocaml-expat/ocaml-expat.1.0.0/findlib     |  1 +
 packages/ocaml-expat/ocaml-expat.1.0.0/opam        | 19 ++++++++
 packages/ocaml-expat/ocaml-expat.1.0.0/url         |  2 +
 packages/ocsigen-i18n/ocsigen-i18n.1.0.0/descr     |  1 +
 packages/ocsigen-i18n/ocsigen-i18n.1.0.0/opam      | 21 ++++++++
 packages/ocsigen-i18n/ocsigen-i18n.1.0.0/url       |  2 +
 packages/records/records.0.8.0/descr               |  3 ++
 packages/records/records.0.8.0/opam                | 24 ++++++++++
 packages/records/records.0.8.0/url                 |  2 +
 packages/sessions/sessions.0.1.0/descr             |  5 ++
 packages/sessions/sessions.0.1.0/opam              | 26 ++++++++++
 packages/sessions/sessions.0.1.0/url               |  2 +
 43 files changed, 433 insertions(+), 13 deletions(-)
 rename compilers/{4.05.0/4.05.0+pr881/4.05.0+pr881.comp => 4.02.2/4.02.2+improved-errors/4.02.2+improved-errors.comp} (51%)
 create mode 100644 compilers/4.02.2/4.02.2+improved-errors/4.02.2+improved-errors.descr
 create mode 100644 compilers/4.04.0/4.04.0+BER/4.04.0+BER.comp
 create mode 100644 compilers/4.04.0/4.04.0+BER/4.04.0+BER.descr
 delete mode 100644 compilers/4.05.0/4.05.0+pr875/4.05.0+pr875.descr
 delete mode 100644 compilers/4.05.0/4.05.0+pr881/4.05.0+pr881.descr
 rename compilers/4.05.0/{4.05.0+pr875/4.05.0+pr875.comp => 4.05.0+pr995/4.05.0+pr995.comp} (78%)
 create mode 100644 compilers/4.05.0/4.05.0+pr995/4.05.0+pr995.descr
 create mode 100644 packages/base-metaocaml-ocamlfind/base-metaocaml-ocamlfind.base/files/metaocaml.native.conf
 create mode 100644 packages/cfgen/cfgen.1.0/descr
 create mode 100644 packages/cfgen/cfgen.1.0/opam
 create mode 100644 packages/cfgen/cfgen.1.0/url
 create mode 100644 packages/conduit/conduit.0.14.2/descr
 create mode 100644 packages/conduit/conduit.0.14.2/opam
 create mode 100644 packages/conduit/conduit.0.14.2/url
 create mode 100644 packages/conduit/conduit.0.14.3/descr
 create mode 100644 packages/conduit/conduit.0.14.3/opam
 create mode 100644 packages/conduit/conduit.0.14.3/url
 create mode 100644 packages/conduit/conduit.0.14.4/descr
 create mode 100644 packages/conduit/conduit.0.14.4/opam
 create mode 100644 packages/conduit/conduit.0.14.4/url
 create mode 100644 packages/google-drive-ocamlfuse/google-drive-ocamlfuse.0.6.8/descr
 create mode 100644 packages/google-drive-ocamlfuse/google-drive-ocamlfuse.0.6.8/opam
 create mode 100644 packages/google-drive-ocamlfuse/google-drive-ocamlfuse.0.6.8/url
 create mode 100644 packages/ocaml-expat/ocaml-expat.1.0.0/descr
 create mode 100644 packages/ocaml-expat/ocaml-expat.1.0.0/findlib
 create mode 100644 packages/ocaml-expat/ocaml-expat.1.0.0/opam
 create mode 100644 packages/ocaml-expat/ocaml-expat.1.0.0/url
 create mode 100644 packages/ocsigen-i18n/ocsigen-i18n.1.0.0/descr
 create mode 100644 packages/ocsigen-i18n/ocsigen-i18n.1.0.0/opam
 create mode 100644 packages/ocsigen-i18n/ocsigen-i18n.1.0.0/url
 create mode 100644 packages/records/records.0.8.0/descr
 create mode 100644 packages/records/records.0.8.0/opam
 create mode 100644 packages/records/records.0.8.0/url
 create mode 100644 packages/sessions/sessions.0.1.0/descr
 create mode 100644 packages/sessions/sessions.0.1.0/opam
 create mode 100644 packages/sessions/sessions.0.1.0/url

=-=- Updating package repositories =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[default: local] Command started
[default: local] Command started
[default: local] Command started
[default] /home/opam/opam-repository synchronized
 ---> 961232f3520c
Removing intermediate container 97c7fdc77de8
Step 3 : RUN opam depext -ui lwt alcotest conf-libev
 ---> Running in a2988cb32ab5
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - libev-dev
#  - m4
The following command needs to be run through "sudo":
    apk update
fetch http://dl-cdn.alpinelinux.org/alpine/v3.4/main/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.4/community/x86_64/APKINDEX.tar.gz
fetch http://www.cl.cam.ac.uk/~avsm2/alpine-ocaml/3.4/x86_64/APKINDEX.tar.gz
v3.4.6-40-g80cc0ea [http://dl-cdn.alpinelinux.org/alpine/v3.4/main]
v3.4.6-33-g38ef2d2 [http://dl-cdn.alpinelinux.org/alpine/v3.4/community]
testing v3.3.0-55-g55836a9 [http://www.cl.cam.ac.uk/~avsm2/alpine-ocaml/3.4]
OK: 5976 distinct packages available
# OS package update successful
The following command needs to be run through "sudo":
    apk add libev-dev m4
(1/3) Installing libev (4.22-r0)
(2/3) Installing libev-dev (4.22-r0)
(3/3) Installing m4 (1.4.17-r1)
Executing busybox-1.24.2-r12.trigger
OK: 422 MiB in 84 packages
# OS packages installation successful
# Now letting OPAM install the packages
The following actions will be performed:
  - install conf-m4    1                                        [required by ocamlfind]
  - install conf-libev 4-11      
  - install result     1.2                                      [required by alcotest, lwt]
  - install ocamlfind  1.7.1                                    [required by alcotest, lwt]
  - install topkg      0.8.1                                    [required by alcotest]
  - install ppx_tools  5.0+4.03.0                               [required by lwt]
  - install base-bytes base                                     [required by lwt]
  - install fmt        0.8.0                                    [required by alcotest]
  - install astring    0.8.3                                    [required by alcotest]
  - install lwt        2.6.0     
  - install alcotest   0.7.2     
===== 11 to install =====
Do you want to continue ? [Y/n] y

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[alcotest: http] Command started
[astring: http] Command started
[fmt: http] Command started
[fmt: http] Command started
[astring: http] Command started
[fmt.0.8.0] http://erratique.ch/software/fmt/releases/fmt-0.8.0.tbz downloaded
[lwt: http] Command started
[astring.0.8.3] http://erratique.ch/software/astring/releases/astring-0.8.3.tbz downloaded
[ocamlfind: http] Command started
[ocamlfind: http] Command started
[ocamlfind.1.7.1] http://download.camlcity.org/download/findlib-1.7.1.tar.gz downloaded
[ppx_tools: http] Command started
[alcotest: http] Command started
[alcotest.0.7.2] https://github.com/mirage/alcotest/releases/download/0.7.2/alcotest-0.7.2.tbz downloaded
[result: http] Command started
[lwt: http] Command started
[lwt.2.6.0] https://github.com/ocsigen/lwt/archive/2.6.0.tar.gz downloaded
[topkg: http] Command started
[topkg: http] Command started
[ppx_tools: http] Command started
[topkg.0.8.1] http://erratique.ch/software/topkg/releases/topkg-0.8.1.tbz downloaded
[ppx_tools.5.0+4.03.0] https://github.com/alainfrisch/ppx_tools/archive/5.0+4.03.0.tar.gz downloaded
[result: http] Command started
[result.1.2] https://github.com/janestreet/result/archive/1.2.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[conf-libev: sh] Command started
[conf-m4: sh echo | m4] Command started
[result: make] Command started
-> installed conf-m4.1
[ocamlfind: ./configure] Command started
-> installed conf-libev.4-11
-> installed result.1.2
[ocamlfind: make all] Command started
[ocamlfind: make opt] Command started
[ocamlfind: make install] Command started
-> installed ocamlfind.1.7.1
-> installed base-bytes.base
[ppx_tools: make all] Command started
[topkg: ocaml build] Command started
[ppx_tools: make install] Command started
-> installed topkg.0.8.1
[astring: ocaml build] Command started
[fmt: ocaml build] Command started
-> installed ppx_tools.5.0+4.03.0
[lwt: ocaml setup.ml] Command started
-> installed fmt.0.8.0
-> installed astring.0.8.3
[alcotest: ocaml build] Command started
-> installed alcotest.0.7.2
[lwt: make build] Command started
[lwt: make install] Command started
-> installed lwt.2.6.0
Done.
 ---> 93c23169d26a
Removing intermediate container a2988cb32ab5
Step 4 : COPY datakit-client.opam /home/opam/src/datakit/datakit-client.opam
 ---> 88ebe7214dc7
Removing intermediate container c6a49544b48d
Step 5 : RUN opam pin add datakit-client.dev /home/opam/src/datakit -n
 ---> Running in 3c34532818f4
datakit-client is now path-pinned to /home/opam/src/datakit

[datakit-client: local]
[datakit-client] /home/opam/src/datakit/ synchronized

 ---> a304273f0d23
Removing intermediate container 3c34532818f4
Step 6 : RUN opam depext datakit-client &&     opam install datakit-client --deps
 ---> Running in 3c9c3174920e
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - m4
#  - ncurses-dev
#  - pkgconfig
m4
ncurses-dev
pkgconfig
# All required OS packages found.

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: local] Command started
[datakit-client] /home/opam/src/datakit/ already up-to-date
The following actions will be performed:
  - install stringext        1.4.3         
  - install rresult          0.5.0         
  - install logs             0.6.2         
  - install cppo             1.4.1         
  - install ocb-stubblr      0.1.0         
  - install re               1.7.1         
  - install win-error        0.2           
  - install ppx_core         113.33.01+4.03
  - install sexplib          113.33.00+4.03
  - install ppx_deriving     4.1           
  - install ocplib-endian    1.0           
  - install named-pipe       0.4.0         
  - install ppx_optcomp      113.33.00+4.03
  - install cstruct          2.3.1         
  - install ppx_driver       113.33.01+4.03
  - install io-page          1.6.1         
  - install ppx_type_conv    113.33.02+4.03
  - install ppx_sexp_conv    113.33.01+4.03
  - install uri              1.9.2         
  - install ipaddr           2.7.1         
  - install mirage-types     2.8.0         
  - install mirage-types-lwt 2.8.0         
  - install channel          1.1.1         
  - install protocol-9p      0.8.0         
===== 24 to install =====
Do you want to continue ? [Y/n] y

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[channel: http] Command started
[cppo: http] Command started
[cstruct: http] Command started
[channel: http] Command started
[channel.1.1.1] https://github.com/mirage/mirage-channel/releases/download/v1.1.1/channel-1.1.1.tbz downloaded
[io-page: http] Command started
[cppo: http] Command started
[cppo.1.4.1] https://github.com/mjambon/cppo/archive/v1.4.1.tar.gz downloaded
[ipaddr: http] Command started
[cstruct: http] Command started
[cstruct.2.3.1] https://github.com/mirage/ocaml-cstruct/archive/v2.3.1.tar.gz downloaded
[logs: http] Command started
[logs: http] Command started
[logs.0.6.2] http://erratique.ch/software/logs/releases/logs-0.6.2.tbz downloaded
[mirage-types: http] Command started
[io-page: http] Command started
[io-page.1.6.1] https://github.com/mirage/io-page/archive/v1.6.1.tar.gz downloaded
[named-pipe: http] Command started
[ipaddr: http] Command started
[ipaddr.2.7.1] https://github.com/mirage/ocaml-ipaddr/releases/download/2.7.1/ipaddr-2.7.1.tbz downloaded
[ocb-stubblr: http] Command started
[named-pipe: http] Command started
[named-pipe.0.4.0] https://github.com/mirage/ocaml-named-pipe/releases/download/0.4.0/named-pipe-0.4.0.tbz downloaded
[ocplib-endian: http] Command started
[mirage-types: http] Command started
[mirage-types.2.8.0] https://github.com/mirage/mirage/archive/v2.8.0.tar.gz downloaded
[ppx_core: http] Command started
[ocb-stubblr: http] Command started
[ocb-stubblr.0.1.0] https://github.com/pqwy/ocb-stubblr/releases/download/v0.1.0/ocb-stubblr-0.1.0.tbz downloaded
[ppx_deriving: http] Command started
[ppx_core: http] Command started
[ppx_core.113.33.01+4.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_core-113.33.01+4.03.tar.gz downloaded
[ppx_driver: http] Command started
[ppx_deriving: http] Command started
[ppx_deriving.4.1] https://github.com/whitequark/ppx_deriving/archive/v4.1.tar.gz downloaded
[ppx_optcomp: http] Command started
[ppx_driver: http] Command started
[ppx_driver.113.33.01+4.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_driver-113.33.01+4.03.tar.gz downloaded
[ppx_sexp_conv: http] Command started
[ppx_optcomp: http] Command started
[ppx_optcomp.113.33.00+4.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_optcomp-113.33.00+4.03.tar.gz downloaded
[ppx_type_conv: http] Command started
[ppx_sexp_conv: http] Command started
[ppx_sexp_conv.113.33.01+4.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_sexp_conv-113.33.01+4.03.tar.gz downloaded
[protocol-9p: http] Command started
[ppx_type_conv: http] Command started
[ocplib-endian: http] Command started
[ocplib-endian.1.0] https://github.com/OCamlPro/ocplib-endian/archive/1.0.tar.gz downloaded
[re: http] Command started
[ppx_type_conv.113.33.02+4.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_type_conv-113.33.02+4.03.tar.gz downloaded
[rresult: http] Command started
[rresult: http] Command started
[rresult.0.5.0] http://erratique.ch/software/rresult/releases/rresult-0.5.0.tbz downloaded
[sexplib: http] Command started
[protocol-9p: http] Command started
[protocol-9p.0.8.0] https://github.com/mirage/ocaml-9p/releases/download/v0.8.0/protocol-9p-0.8.0.tbz downloaded
[stringext: http] Command started
[sexplib: http] Command started
[sexplib.113.33.00+4.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/sexplib-113.33.00+4.03.tar.gz downloaded
[uri: http] Command started
[re: http] Command started
[re.1.7.1] https://github.com/ocaml/ocaml-re/archive/1.7.1.tar.gz downloaded
[win-error: http] Command started
[stringext: http] Command started
[stringext.1.4.3] https://github.com/rgrinberg/stringext/archive/v1.4.3.tar.gz downloaded
[uri: http] Command started
[uri.1.9.2] https://github.com/mirage/ocaml-uri/archive/v1.9.2.tar.gz downloaded
[win-error: http] Command started
[win-error.0.2] https://github.com/djs55/ocaml-win-error/archive/v0.2.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[cppo: make opt] Command started
[logs: ocaml build] Command started
[ocb-stubblr: ocaml build] Command started
[ppx_core: ./configure] Command started
-> installed ocb-stubblr.0.1.0
[named-pipe: ocaml build] Command started
-> installed logs.0.6.2
[re: ocaml setup.ml] Command started
[cppo: make ocamlbuild] Command started
[ppx_core: make] Command started
[cppo: make install-lib] Command started
-> installed cppo.1.4.1
[ocplib-endian: ocaml setup.ml] Command started
-> installed named-pipe.0.4.0
[ppx_deriving: ocaml] Command started
[ocplib-endian: ocaml setup.ml] Command started
[re: ocaml setup.ml] Command started
[ocplib-endian: ocaml setup.ml] Command started
-> installed ocplib-endian.1.0
[rresult: ocaml build] Command started
-> installed rresult.0.5.0
[sexplib: ./configure] Command started
[re: ocaml setup.ml] Command started
-> installed ppx_deriving.4.1
[stringext: ocaml setup.ml] Command started
[sexplib: make] Command started
-> installed re.1.7.1
[win-error: make] Command started
[stringext: ocaml setup.ml] Command started
[stringext: ocaml setup.ml] Command started
-> installed stringext.1.4.3
[win-error: make install] Command started
-> installed sexplib.113.33.00+4.03
[cstruct: ./configure] Command started
-> installed win-error.0.2
[cstruct: make] Command started
-> installed ppx_core.113.33.01+4.03
[ppx_optcomp: ./configure] Command started
[cstruct: make install] Command started
[ppx_optcomp: make] Command started
[cstruct: make js-install] Command started
-> installed cstruct.2.3.1
[io-page: ./configure] Command started
[io-page: make] Command started
-> installed ppx_optcomp.113.33.00+4.03
[ppx_driver: ./configure] Command started
[ppx_driver: make] Command started
[io-page: make install] Command started
-> installed io-page.1.6.1
-> installed ppx_driver.113.33.01+4.03
[ppx_type_conv: ./configure] Command started
[ppx_type_conv: make] Command started
-> installed ppx_type_conv.113.33.02+4.03
[ppx_sexp_conv: ./configure] Command started
[ppx_sexp_conv: make] Command started
-> installed ppx_sexp_conv.113.33.01+4.03
[ipaddr: ocaml build] Command started
[uri: ocaml setup.ml] Command started
-> installed ipaddr.2.7.1
[mirage-types: make build-types] Command started
[uri: ocaml setup.ml] Command started
[mirage-types: make install-types] Command started
-> installed mirage-types.2.8.0
-> installed mirage-types-lwt.2.8.0
[channel: ocaml build] Command started
-> installed channel.1.1.1
[protocol-9p: ocaml build] Command started
[uri: ocaml setup.ml] Command started
-> installed uri.1.9.2
-> installed protocol-9p.0.8.0
Done.
 ---> 53ca2178a419
Removing intermediate container 3c9c3174920e
Step 7 : COPY . /home/opam/src/datakit
 ---> 461d1d447841
Removing intermediate container 93c7daedd0b9
Step 8 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in 737122dd77b4
 ---> 6b2f08570794
Removing intermediate container 737122dd77b4
Step 9 : RUN cd /home/opam/src/datakit &&     git diff && git status --porcelain &&     git checkout . && scripts/watermark.sh &&     git status --porcelain
 ---> Running in 8b691c391614
 M src/version.ml
 ---> d2db5d83bdce
Removing intermediate container 8b691c391614
Step 10 : RUN opam update datakit-client
 ---> Running in 0371ec14e51e

=-=- Synchronizing development packages -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: local] Command started
[datakit-client] /home/opam/src/datakit/ synchronized
 ---> ef76107ed4cb
Removing intermediate container 0371ec14e51e
Step 11 : RUN opam info datakit-client --raw
 ---> Running in e065949456c9
opam-version: "1.2"
name: "datakit-client"
version: "dev"
maintainer: "thomas@gazagnaire.org"
authors: [
  "Thomas Leonard" "Magnus Skjegstad" "David Scott" "Thomas Gazagnaire"
]
homepage: "https://github.com/docker/datakit"
bug-reports: "https://github.com/docker/datakit/issues"
license: "Apache"
doc: "https://docker.github.io/datakit/"
dev-repo: "https://github.com/docker/datakit.git"
build: [
  "ocaml" "pkg/pkg.ml" "build" "--pinned" "%{pinned}%" "-n" "datakit-client"
]
depends: [
  "ocamlfind" {build}
  "ocamlbuild" {build}
  "topkg" {build}
  "base-bytes"
  "astring"
  "logs"
  "uri"
  "rresult"
  "cstruct"
  "fmt"
  "protocol-9p" {>= "0.7.4"}
  "cmdliner"
]
 ---> 05b5e482e29e
Removing intermediate container e065949456c9
Step 12 : RUN opam install datakit-client.dev -vv
 ---> Running in 51c02e3ae9a3

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/4.03.0/packages.dev/datakit-client"
- sending incremental file list
- 
- sent 7,325 bytes  received 37 bytes  4,908.00 bytes/sec
- total size is 1,233,475  speedup is 167.55
[datakit-client] /home/opam/src/datakit/ already up-to-date
The following actions will be performed:
  - install datakit-client dev*

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/4.03.0/packages.dev/datakit-client"
- sending incremental file list
- 
- sent 7,325 bytes  received 37 bytes  14,724.00 bytes/sec
- total size is 1,233,475  speedup is 167.55
[datakit-client.dev] /home/opam/src/datakit/ already up-to-date

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: ocaml build] Command started
+ ocaml "pkg/pkg.ml" "build" "--pinned" "true" "-n" "datakit-client" (CWD=/home/opam/.opam/4.03.0/build/datakit-client.dev)
- ocamlfind ocamlopt unix.cmxa -I /home/opam/.opam/4.03.0/lib/ocamlbuild /home/opam/.opam/4.03.0/lib/ocamlbuild/ocamlbuildlib.cmxa -linkpkg myocamlbuild.ml /home/opam/.opam/4.03.0/lib/ocamlbuild/ocamlbuild.cmx -o myocamlbuild
- ocamlfind ocamldep -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit-client/datakit_client_9p.ml > src/datakit-client/datakit_client_9p.ml.depends
- ocamlfind ocamldep -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit-client/datakit_client_9p.mli > src/datakit-client/datakit_client_9p.mli.depends
- ocamlfind ocamldep -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit-client/datakit_S.mli > src/datakit-client/datakit_S.mli.depends
- ocamlfind ocamldep -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit-client/datakit_path.mli > src/datakit-client/datakit_path.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit-client -I src -I ci/src -I src/datakit -o src/datakit-client/datakit_path.cmi src/datakit-client/datakit_path.mli
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit-client -I src -I ci/src -I src/datakit -o src/datakit-client/datakit_S.cmi src/datakit-client/datakit_S.mli
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit-client -I src -I ci/src -I src/datakit -o src/datakit-client/datakit_client_9p.cmi src/datakit-client/datakit_client_9p.mli
- ocamlfind ocamldep -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit-client/datakit_path.ml > src/datakit-client/datakit_path.ml.depends
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit-client -I src -I ci/src -I src/datakit -o src/datakit-client/datakit_path.cmx src/datakit-client/datakit_path.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit-client -I src -I ci/src -I src/datakit -o src/datakit-client/datakit_client_9p.cmx src/datakit-client/datakit_client_9p.ml
- ocamlfind ocamlopt -a -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' src/datakit-client/datakit_path.cmx src/datakit-client/datakit_client_9p.cmx -o src/datakit-client/datakit-client.cmxa
- ocamlfind ocamlopt -shared -linkall -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' src/datakit-client/datakit-client.cmxa -o src/datakit-client/datakit-client.cmxs
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit-client -I src -I ci/src -I src/datakit -o src/datakit-client/datakit_client_9p.cmo src/datakit-client/datakit_client_9p.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit-client -I src -I ci/src -I src/datakit -o src/datakit-client/datakit_path.cmo src/datakit-client/datakit_path.ml
- ocamlfind ocamlc -a -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' src/datakit-client/datakit_path.cmo src/datakit-client/datakit_client_9p.cmo -o src/datakit-client/datakit-client.cma
- ocamlfind ocamldep -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit-client/mount.ml > src/datakit-client/mount.ml.depends
- ocamlfind ocamldep -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/version.ml > src/version.ml.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src -I ci/src -I src/datakit -o src/version.cmo src/version.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit-client -I src -I ci/src -I src/datakit -o src/datakit-client/mount.cmo src/datakit-client/mount.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src -I ci/src -I src/datakit -o src/version.cmx src/version.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit-client -I src -I ci/src -I src/datakit -o src/datakit-client/mount.cmx src/datakit-client/mount.ml
- ocamlfind ocamlopt -linkpkg -g -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' src/version.cmx src/datakit-client/mount.cmx -o src/datakit-client/mount.native
+ install "-m" "0755" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/src/datakit-client/mount.native" "/home/opam/.opam/4.03.0/bin/datakit-mount"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/datakit-client.opam" "/home/opam/.opam/4.03.0/lib/datakit-client/opam"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/pkg/META.client" "/home/opam/.opam/4.03.0/lib/datakit-client/META"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/src/datakit-client/datakit-client.a" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit-client.a"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/src/datakit-client/datakit-client.cma" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit-client.cma"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/src/datakit-client/datakit-client.cmxa" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit-client.cmxa"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/src/datakit-client/datakit-client.cmxs" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit-client.cmxs"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/src/datakit-client/datakit_S.cmi" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_S.cmi"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/src/datakit-client/datakit_S.mli" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_S.mli"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/src/datakit-client/datakit_client_9p.cmi" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_client_9p.cmi"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/src/datakit-client/datakit_client_9p.cmti" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_client_9p.cmti"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/src/datakit-client/datakit_client_9p.cmx" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_client_9p.cmx"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/src/datakit-client/datakit_client_9p.mli" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_client_9p.mli"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/src/datakit-client/datakit_path.cmi" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_path.cmi"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/src/datakit-client/datakit_path.cmti" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_path.cmti"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/src/datakit-client/datakit_path.cmx" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_path.cmx"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/src/datakit-client/datakit_path.mli" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_path.mli"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/CHANGES.md" "/home/opam/.opam/4.03.0/doc/datakit-client/CHANGES.md"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/LICENSE.md" "/home/opam/.opam/4.03.0/doc/datakit-client/LICENSE.md"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/README.md" "/home/opam/.opam/4.03.0/doc/datakit-client/README.md"
-> installed datakit-client.dev
Done.
 ---> d9b4c2b4ceae
Removing intermediate container 51c02e3ae9a3
Step 13 : RUN sudo mkdir /data && sudo chown opam.nogroup /data && chmod 700 /data &&     sudo cp $(opam config exec -- which datakit-mount) /usr/bin/datakit-mount
 ---> Running in b193caeba371
 ---> 84c2f2b19cb8
Removing intermediate container b193caeba371
Step 14 : CMD bash -c "/usr/bin/datakit-mount -h $(getent hosts datakit | awk '{print $1}')";     bash
 ---> Running in 4007cc99546d
 ---> 60cdeba36229
Removing intermediate container 4007cc99546d
Successfully built 60cdeba36229
[2017-01-04 12:35.19] Success
