=== Docker build Dockerfile.client
[2017-06-12 13:51.53] Starting...
Cloning into '/tmp/with_clone27389835'...
done.
warning: remote HEAD refers to nonexistent ref, unable to checkout.

HEAD is now at fa32533 github: make PR.owner a "user" type
[2017-06-12 13:51.56] Rewrite Dockerfile's first line to:
FROM ocaml/opam:alpine_ocaml-4.03.0
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 6.128 MBSending build context to Docker daemon 6.685 MBSending build context to Docker daemon 7.242 MBSending build context to Docker daemon 7.799 MBSending build context to Docker daemon 8.356 MBSending build context to Docker daemon 8.561 MB
Step 1/22 : FROM ocaml/opam:alpine_ocaml-4.03.0
 ---> 2a6e40273e97
Step 2/22 : RUN git -C /home/opam/opam-repository fetch origin &&     git -C /home/opam/opam-repository reset 79046b8ab --hard &&     opam update -u
 ---> Using cache
 ---> 5b869045c85b
Step 3/22 : ENV OPAMERRLOGLEN 0 OPAMYES 1
 ---> Using cache
 ---> 46c3b57f3a5d
Step 4/22 : RUN opam depext -ui lwt alcotest conf-libev
 ---> Using cache
 ---> 1adac366f5fa
Step 5/22 : COPY datakit-client.opam /home/opam/src/datakit/datakit-client.opam
 ---> Using cache
 ---> c21eb38c66aa
Step 6/22 : RUN opam pin add datakit-client.dev /home/opam/src/datakit -n
 ---> Using cache
 ---> be24611e9f8e
Step 7/22 : COPY datakit-client-9p.opam /home/opam/src/datakit/datakit-client-9p.opam
 ---> Using cache
 ---> 1cce1489d448
Step 8/22 : RUN opam pin add datakit-client-9p.dev /home/opam/src/datakit -n
 ---> Using cache
 ---> 8066d8644844
Step 9/22 : COPY datakit-client-git.opam /home/opam/src/datakit/datakit-client-git.opam
 ---> Using cache
 ---> 84697ed81be9
Step 10/22 : RUN opam pin add datakit-client-git.dev /home/opam/src/datakit -n
 ---> Using cache
 ---> 8bb43ba62c85
Step 11/22 : RUN opam depext datakit-client datakit-client-9p datakit-client-git inotify
 ---> Using cache
 ---> 33bcdbcdb366
Step 12/22 : RUN opam install datakit-client --deps
 ---> Using cache
 ---> 4dfccce0752b
Step 13/22 : RUN opam install irmin-git irmin-watcher git-unix inotify     astring logs fmt cstruct protocol-9p-unix cmdliner     irmin-mem irmin-git alcotest
 ---> Using cache
 ---> 27150146e52d
Step 14/22 : RUN opam depext camlzip && opam install ounit camlzip fpath conf-which qcheck     fileutils bos qtest
 ---> Using cache
 ---> e4a72fe81851
Step 15/22 : COPY . /home/opam/src/datakit
 ---> 26f247786d3a
Removing intermediate container a5e276bda0f7
Step 16/22 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in af4f400724f6
 ---> a03aaa00e137
Removing intermediate container af4f400724f6
Step 17/22 : RUN opam update datakit-client datakit-client-9p datakit-client-git
 ---> Running in 3e1739b2bc06

=-=- Synchronizing development packages -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: local] Command started
[datakit-client-9p: local] Command started
[datakit-client-git: local] Command started
[datakit-client] /home/opam/src/datakit/ synchronized
[datakit-client-git] /home/opam/src/datakit/ synchronized
[datakit-client-9p] /home/opam/src/datakit/ synchronized
 ---> b94a19e458ad
Removing intermediate container 3e1739b2bc06
Step 18/22 : RUN opam install datakit-client.dev -vv -t
 ---> Running in 2ebde7a200eb

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/4.03.0/packages.dev/datakit-client"
- sending incremental file list
- 
- sent 8,895 bytes  received 52 bytes  17,894.00 bytes/sec
- total size is 1,337,506  speedup is 149.49
[datakit-client] /home/opam/src/datakit/ already up-to-date
The following actions will be performed:
  - install datakit-client dev*

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/4.03.0/packages.dev/datakit-client"
- sending incremental file list
- 
- sent 8,895 bytes  received 52 bytes  17,894.00 bytes/sec
- total size is 1,337,506  speedup is 149.49
[datakit-client.dev] /home/opam/src/datakit/ already up-to-date

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: jbuilder build] Command started
+ jbuilder "build" "-p" "datakit-client" "-j" "4" (CWD=/home/opam/.opam/4.03.0/build/datakit-client.dev)
- File "ci/src/jbuild", line 12, characters 15-94:
- Error: Unknown constructor per_module
[91m[ERROR] The compilation of datakit-client failed at "jbuilder build -p
        datakit-client -j 4".
[0m

=-=- Error report -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
The following actions failed
  - install datakit-client dev
No changes have been performed
[91m
#=== ERROR while installing datakit-client.dev ================================#
# opam-version         1.2.2
# os                   linux
# command              jbuilder build -p datakit-client -j 4
# path                 /home/opam/.opam/4.03.0/build/datakit-client.dev
# compiler             4.03.0
# exit-code            1
# env-file             /home/opam/.opam/4.03.0/build/datakit-client.dev/datakit-client-7-ffb3fd.env
# stdout-file          /home/opam/.opam/4.03.0/build/datakit-client.dev/datakit-client-7-ffb3fd.out
# stderr-file          /home/opam/.opam/4.03.0/build/datakit-client.dev/datakit-client-7-ffb3fd.err
### stderr ###
# File "ci/src/jbuild", line 12, characters 15-94:
# Error: Unknown constructor per_module

[0m[91m'opam install datakit-client.dev -vv -t' failed.
[0mThe command '/bin/sh -c opam install datakit-client.dev -vv -t' returned a non-zero code: 4
[2017-06-12 13:52.48] Failed: Command "docker" "build" "-f" "Dockerfile.client" "." exited with status 4
