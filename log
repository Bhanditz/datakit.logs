=== Docker build Dockerfile
[2017-04-19 10:04.14] Starting...
Cloning into '/tmp/with_clone26d729ec'...
done.
warning: remote HEAD refers to nonexistent ref, unable to checkout.

HEAD is now at b450d04 Merge pull request #285 from samoht/master
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.213 MB
Step 1/14 : FROM docker/datakit:server
server: Pulling from docker/datakit
627beaf3eaaf: Already exists
a8da75275fdb: Already exists
8369b3912e59: Already exists
199a68aaa28d: Already exists
f56a97186b74: Pulling fs layer
d0b9f2960565: Pulling fs layer
9202565fbbcf: Pulling fs layer
9557027c7f9c: Pulling fs layer
424d8eda3470: Pulling fs layer
710ecbe91392: Pulling fs layer
a33da91056cb: Pulling fs layer
044addbc2e7d: Pulling fs layer
1e94dd72febc: Pulling fs layer
675d160310a0: Pulling fs layer
4919bbe13ec7: Pulling fs layer
42f57bc7e8de: Pulling fs layer
424d8eda3470: Waiting
f1efbc629b6f: Pulling fs layer
3349033e6b11: Pulling fs layer
710ecbe91392: Waiting
a33da91056cb: Waiting
9557027c7f9c: Waiting
42f57bc7e8de: Waiting
3349033e6b11: Waiting
675d160310a0: Waiting
f1efbc629b6f: Waiting
044addbc2e7d: Waiting
4919bbe13ec7: Waiting
d0b9f2960565: Download complete
f56a97186b74: Verifying Checksum
f56a97186b74: Download complete
9557027c7f9c: Download complete
f56a97186b74: Pull complete
d0b9f2960565: Pull complete
710ecbe91392: Download complete
424d8eda3470: Verifying Checksum
424d8eda3470: Download complete
044addbc2e7d: Download complete
a33da91056cb: Download complete
675d160310a0: Verifying Checksum
675d160310a0: Download complete
9202565fbbcf: Download complete
42f57bc7e8de: Download complete
4919bbe13ec7: Verifying Checksum
4919bbe13ec7: Download complete
9202565fbbcf: Pull complete
f1efbc629b6f: Download complete
9557027c7f9c: Pull complete
424d8eda3470: Pull complete
710ecbe91392: Pull complete
a33da91056cb: Pull complete
044addbc2e7d: Pull complete
3349033e6b11: Download complete
1e94dd72febc: Verifying Checksum
1e94dd72febc: Download complete
1e94dd72febc: Pull complete
675d160310a0: Pull complete
4919bbe13ec7: Pull complete
42f57bc7e8de: Pull complete
f1efbc629b6f: Pull complete
3349033e6b11: Pull complete
Digest: sha256:f1f32e2624b9c91938e8e759d4f3a0d735b419338cab0e21b670d04feca33b9e
Status: Downloaded newer image for docker/datakit:server
 ---> 1acf3df4c89a
Step 2/14 : COPY opam /home/opam/src/datakit/opam
 ---> f92172d3d7cc
Error removing intermediate container c7bd5a740759: Driver aufs failed to remove root filesystem c7bd5a740759913d65dca94f0ed5086dd53c7f777b4a9c4387d680cfbced1458: rename /var/lib/docker/aufs/mnt/c2e35763ab2a70360af3640474ad3836c34e668e2087c890444000b47a5945fd /var/lib/docker/aufs/mnt/c2e35763ab2a70360af3640474ad3836c34e668e2087c890444000b47a5945fd-removing: device or resource busy
Step 3/14 : RUN opam pin add datakit.dev /home/opam/src/datakit -n
 ---> Running in c3d9b01a72cc
[91m[NOTE] Will pin to 'master' using git
[0m[datakit.dev: git]
[datakit.dev: git]
[datakit.dev: git]
[datakit.dev: git]
[datakit.dev] synchronised from git+file:///home/opam/src/datakit#master
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit/opam from 1.2 to 2.0~beta
[0mdatakit is now pinned to git+file:///home/opam/src/datakit#master (version dev)
 ---> f5a71efeddb8
Error removing intermediate container c7bd5a740759: No such container: c7bd5a740759913d65dca94f0ed5086dd53c7f777b4a9c4387d680cfbced1458
Step 4/14 : RUN opam depext datakit && opam install datakit --deps
 ---> Running in 024f12e4cda5
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - gmp-dev
#  - linux-headers
#  - m4
#  - ncurses-dev
#  - openssl-dev
#  - pcre-dev
#  - perl
#  - pkgconfig
#  - zlib-dev
m4
ncurses-dev
pcre-dev
pkgconf
# The following new OS packages need to be installed: gmp-dev linux-headers openssl-dev perl zlib-dev
The following command needs to be run through "sudo":
    apk add gmp-dev linux-headers openssl-dev perl zlib-dev
(1/8) Installing libgmpxx (6.1.1-r0)
(2/8) Installing gmp-dev (6.1.1-r0)
(3/8) Installing linux-headers (4.4.6-r1)
(4/8) Installing zlib-dev (1.2.8-r2)
(5/8) Installing libcrypto1.0 (1.0.2k-r0)
(6/8) Installing libssl1.0 (1.0.2k-r0)
(7/8) Installing openssl-dev (1.0.2k-r0)
(8/8) Installing perl (5.24.0-r0)
Executing busybox-1.25.1-r0.trigger
OK: 644 MiB in 104 packages
# OS packages installation successful

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[91m[NOTE] Ignoring uncommitted changes in /home/opam/src/datakit (`--working-dir' not active).
[0m[datakit.dev] no changes from git+file:///home/opam/src/datakit#master
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit/opam from 1.2 to 2.0~beta
[0m
The following actions will be performed:
  - install asl             0.10
  - install win-eventlog    0.1
  - install camlzip         1.07
  - install irmin-watcher   0.2.0
  - install uchar           0.0.1
  - install mtime           0.8.4
  - install base64          2.1.2
  - install mirage-flow     1.1.0
  - install ocamlgraph      1.8.7
  - install bin_prot        113.33.00+4.03
  - install fieldslib       113.24.00
  - install magic-mime      1.0.0
  - install crunch          2.0.0
  - install hex             1.0.0
  - install duration        0.1.0
  - install conduit         0.14.5
  - install mstruct         1.3.2
  - install uutf            1.0.1
  - install ppx_fields_conv 113.33.00+4.03
  - install hvsock          0.11.1
  - install jsonm           1.0.1
  - install cohttp          0.21.1
  - install ezjsonm         0.4.3
  - install prometheus-app  0.1
  - install git             1.9.3
  - install mirage-tc       0.3.0
  - install irmin           0.12.0
===== 27 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[bin_prot.113.33.00+4.03] downloaded from https://ocaml.janestreet.com/ocaml-core/113.33/files/bin_prot-113.33.00+4.03.tar.gz
[asl.0.10] downloaded from https://github.com/mirage/ocaml-asl/archive/v0.10.tar.gz
[base64.2.1.2] downloaded from https://github.com/mirage/ocaml-base64/releases/download/v2.1.2/base64-2.1.2.tbz
[camlzip.1.07] downloaded from https://github.com/xavierleroy/camlzip/archive/rel107.zip
[conduit.0.14.5] downloaded from https://github.com/mirage/ocaml-conduit/archive/v0.14.5.tar.gz
[cohttp.0.21.1] downloaded from https://github.com/mirage/ocaml-cohttp/archive/v0.21.1.tar.gz
[crunch.2.0.0] downloaded from https://github.com/mirage/ocaml-crunch/releases/download/2.0.0/crunch-2.0.0.tbz
[duration.0.1.0] downloaded from https://github.com/hannesm/duration/releases/download/0.1.0/duration-0.1.0.tbz
[ezjsonm.0.4.3] downloaded from https://github.com/mirage/ezjsonm/archive//0.4.3.tar.gz
[fieldslib.113.24.00] downloaded from https://ocaml.janestreet.com/ocaml-core/113.24/files/fieldslib-113.24.00.tar.gz
[hex.1.0.0] downloaded from https://github.com/mirage/ocaml-hex/archive/1.0.0.tar.gz
[hvsock.0.11.1] downloaded from https://github.com/mirage/ocaml-hvsock/archive/v0.11.1.tar.gz
[git.1.9.3] downloaded from https://github.com/mirage/ocaml-git/releases/download/1.9.3/git-1.9.3.tbz
[jsonm.1.0.1] downloaded from http://erratique.ch/software/jsonm/releases/jsonm-1.0.1.tbz
[irmin-watcher.0.2.0] downloaded from https://github.com/samoht/irmin-watcher/releases/download/0.2.0/irmin-watcher-0.2.0.tbz
[magic-mime.1.0.0] downloaded from https://github.com/mirage/ocaml-magic-mime/archive/v1.0.0.tar.gz
[mirage-tc.0.3.0] downloaded from https://github.com/mirage/mirage-tc/archive//0.3.0.tar.gz
[mirage-flow.1.1.0] downloaded from https://github.com/mirage/mirage-flow/archive/v1.1.0.tar.gz
[mtime.0.8.4] downloaded from http://erratique.ch/software/mtime/releases/mtime-0.8.4.tbz
[ocamlgraph.1.8.7] downloaded from http://ocamlgraph.lri.fr/download/ocamlgraph-1.8.7.tar.gz
[mstruct.1.3.2] downloaded from https://github.com/mirage/ocaml-mstruct/archive/1.3.2.tar.gz
[prometheus-app.0.1] found in cache
[ppx_fields_conv.113.33.00+4.03] downloaded from https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_fields_conv-113.33.00+4.03.tar.gz
[uutf.1.0.1] downloaded from http://erratique.ch/software/uutf/releases/uutf-1.0.1.tbz
[irmin.0.12.0] downloaded from https://github.com/mirage/irmin/releases/download/0.12.0/irmin-0.12.0.tbz
[uchar.0.0.1] downloaded from https://github.com/ocaml/uchar/releases/download/v0.0.1/uchar-0.0.1.tbz
[win-eventlog.0.1] downloaded from https://github.com/djs55/ocaml-win-eventlog/archive/v0.1.tar.gz

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> installed asl.0.10
-> installed base64.2.1.2
-> installed bin_prot.113.33.00+4.03
-> installed camlzip.1.07
-> installed conduit.0.14.5
-> installed crunch.2.0.0
-> installed duration.0.1.0
-> installed fieldslib.113.24.00
-> installed hex.1.0.0
-> installed irmin-watcher.0.2.0
-> installed magic-mime.1.0.0
-> installed mirage-flow.1.1.0
-> installed hvsock.0.11.1
-> installed mstruct.1.3.2
-> installed mtime.0.8.4
-> installed ocamlgraph.1.8.7
-> installed ppx_fields_conv.113.33.00+4.03
-> installed cohttp.0.21.1
-> installed git.1.9.3
-> installed prometheus-app.0.1
-> installed uchar.0.0.1
-> installed uutf.1.0.1
-> installed jsonm.1.0.1
-> installed ezjsonm.0.4.3
-> installed mirage-tc.0.3.0
[2017-04-19 10:07.18] Cancelled at user's request
[2017-04-19 10:07.18] Failed: Cancelled
