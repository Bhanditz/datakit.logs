=== Docker build Dockerfile.client
[2017-11-20 10:55.39] Starting...
Cloning into '/tmp/with_clone3d94748c'...
done.
warning: remote HEAD refers to nonexistent ref, unable to checkout.

HEAD is now at 21da83d Simplify Dockerfiles using new features from opam2
[2017-11-20 10:55.43] Rewrite Dockerfile's first line to:
FROM ocaml/opam:alpine_ocaml-4.03.0
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 6.128 MBSending build context to Docker daemon 6.685 MBSending build context to Docker daemon 7.242 MBSending build context to Docker daemon 7.799 MBSending build context to Docker daemon 8.356 MBSending build context to Docker daemon 8.913 MBSending build context to Docker daemon  9.05 MB
Step 1/16 : FROM ocaml/opam:alpine_ocaml-4.03.0
 ---> 2a6e40273e97
Step 2/16 : RUN sudo apk add --no-cache tzdata aspcud gmp-dev perl libev-dev m4
 ---> Using cache
 ---> 1f1e2ac9cc89
Step 3/16 : RUN git -C /home/opam/opam-repository fetch origin &&     git -C /home/opam/opam-repository reset 3bcfe6c8d --hard &&     opam update -u
 ---> Using cache
 ---> b07219b71fad
Step 4/16 : ENV OPAMERRLOGLEN 0 OPAMYES 1
 ---> Using cache
 ---> a5fa76f1c998
Step 5/16 : RUN opam install alcotest lwt conf-libev inotify
 ---> Running in 7a4702d06237
The following actions will be performed:
  - install conf-m4                 1                           [required by ocamlfind]
  - install result                  1.2                         [required by alcotest, lwt]
  - install uchar                   0.0.2                       [required by fmt]
  - install conf-libev              4-11      
  - install ocamlfind               1.7.3                       [required by inotify, lwt]
  - install topkg                   0.9.1                       [required by cmdliner, astring, fmt]
  - install jbuilder                1.0+beta15                  [required by alcotest, lwt]
  - install base-bytes              base                        [required by inotify]
  - install cmdliner                1.0.2                       [required by alcotest]
  - install astring                 0.8.3                       [required by alcotest]
  - install ocaml-migrate-parsetree 1.0.7                       [required by lwt]
  - install cppo                    1.6.0                       [required by lwt]
  - install fmt                     0.8.4                       [required by alcotest]
  - install ppx_tools_versioned     5.0.1                       [required by lwt]
  - install alcotest                0.8.1     
  - install lwt                     3.1.0     
  - install inotify                 2.3       
===== 17 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[alcotest: http] Command started
[astring: http] Command started
[cmdliner: http] Command started
[astring: http] Command started
[astring.0.8.3] http://erratique.ch/software/astring/releases/astring-0.8.3.tbz downloaded
[cppo: http] Command started
[cmdliner: http] Command started
[cmdliner.1.0.2] http://erratique.ch/software/cmdliner/releases/cmdliner-1.0.2.tbz downloaded
[fmt: http] Command started
[fmt: http] Command started
[fmt.0.8.4] http://erratique.ch/software/fmt/releases/fmt-0.8.4.tbz downloaded
[inotify: http] Command started
[cppo: http] Command started
[cppo.1.6.0] https://github.com/mjambon/cppo/archive/v1.6.0.tar.gz downloaded
[jbuilder: http] Command started
[alcotest: http] Command started
[alcotest.0.8.1] https://github.com/mirage/alcotest/releases/download/0.8.1/alcotest-0.8.1.tbz downloaded
[lwt: http] Command started
[inotify: http] Command started
[inotify.2.3] https://github.com/whitequark/ocaml-inotify/archive/v2.3.tar.gz downloaded
[ocaml-migrate-parsetree: http] Command started
[lwt: http] Command started
[lwt.3.1.0] https://github.com/ocsigen/lwt/archive/3.1.0.tar.gz downloaded
[ocamlfind: http] Command started
[ocaml-migrate-parsetree: http] Command started
[ocaml-migrate-parsetree.1.0.7] https://github.com/ocaml-ppx/ocaml-migrate-parsetree/archive/v1.0.7.tar.gz downloaded
[ppx_tools_versioned: http] Command started
[ocamlfind: http] Command started
[ocamlfind.1.7.3] http://download.camlcity.org/download/findlib-1.7.3.tar.gz downloaded
[result: http] Command started
[jbuilder: http] Command started
[jbuilder.1.0+beta15] https://github.com/janestreet/jbuilder/releases/download/1.0+beta15/jbuilder-1.0.beta15.tbz downloaded
[topkg: http] Command started
[topkg: http] Command started
[topkg.0.9.1] http://erratique.ch/software/topkg/releases/topkg-0.9.1.tbz downloaded
[uchar: http] Command started
[result: http] Command started
[result.1.2] https://github.com/janestreet/result/archive/1.2.tar.gz downloaded
[ppx_tools_versioned: http] Command started
[ppx_tools_versioned.5.0.1] https://github.com/let-def/ppx_tools_versioned/archive/5.0.1.tar.gz downloaded
[uchar: http] Command started
[uchar.0.0.2] https://github.com/ocaml/uchar/releases/download/v0.0.2/uchar-0.0.2.tbz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[conf-libev: sh] Command started
[conf-m4: sh echo | m4] Command started
[result: make] Command started
[uchar: ocaml] Command started
-> installed conf-m4.1
[ocamlfind: ./configure] Command started
[uchar: ocaml] Command started
-> installed conf-libev.4-11
-> installed result.1.2
-> installed uchar.0.0.2
[ocamlfind: make all] Command started
[ocamlfind: make opt] Command started
[ocamlfind: make install] Command started
-> installed ocamlfind.1.7.3
-> installed base-bytes.base
[jbuilder: ocaml bootstrap.ml] Command started
[topkg: ocaml build] Command started
[jbuilder: ./boot.exe 4] Command started
-> installed topkg.0.9.1
[astring: ocaml build] Command started
[cmdliner: ocaml build] Command started
-> installed astring.0.8.3
-> installed cmdliner.1.0.2
[fmt: ocaml build] Command started
-> installed fmt.0.8.4
-> installed jbuilder.1.0+beta15
[alcotest: jbuilder build] Command started
[cppo: jbuilder build] Command started
[ocaml-migrate-parsetree: jbuilder build] Command started
-> installed alcotest.0.8.1
-> installed cppo.1.6.0
-> installed ocaml-migrate-parsetree.1.0.7
[ppx_tools_versioned: make all] Command started
[ppx_tools_versioned: make install] Command started
-> installed ppx_tools_versioned.5.0.1
[lwt: ocaml true] Command started
[lwt: jbuilder build] Command started
[lwt: ocaml] Command started
-> installed lwt.3.1.0
[inotify: ocaml setup.ml] Command started
[inotify: ocaml setup.ml] Command started
[inotify: ocaml setup.ml] Command started
-> installed inotify.2.3
Done.

=-=- lwt.3.1.0 installed successfully -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
=> Lwt 4.0.0 will make some breaking changes to packaging in late 2017. See
     https://github.com/ocsigen/lwt/issues/453
 ---> ee4566a2ffaa
Removing intermediate container 7a4702d06237
Step 6/16 : COPY check-libev.ml /tmp/check-libev.ml
 ---> f28c7de58d2e
Removing intermediate container 5d11bd4f378e
Step 7/16 : RUN opam config exec -- ocaml /tmp/check-libev.ml
 ---> Running in d0b5cfefa05a
 ---> f38a597a95c3
Removing intermediate container d0b5cfefa05a
Step 8/16 : COPY *.opam /home/opam/src/datakit/
 ---> dc3d47374fad
Removing intermediate container c1c0fc252a0c
Step 9/16 : RUN opam pin add /home/opam/src/datakit/ -n
 ---> Running in a11ba494f76f
[91mopam: No valid package description found at path
      /home/opam/src/datakit/.
      Please supply at least a package name (e.g. `opam pin add NAME PATH')
[0mThe command '/bin/sh -c opam pin add /home/opam/src/datakit/ -n' returned a non-zero code: 1
[2017-11-20 10:56.54] Failed: Command "docker" "build" "-f" "Dockerfile.client" "." exited with status 1
