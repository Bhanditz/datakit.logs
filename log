=== Run docker-build-github on commit b9672b8934d47f5b6db20029db2a20ee3d693906
[2016-11-02 14:10.37] Starting...
Cloning into '/tmp/with_clone3e1804fa'...
done.
HEAD is now at b9672b8 Merge pull request #84 from samoht/release
[2016-11-02 14:10.40] Running "docker" "build" "-f" "Dockerfile.github" "."...
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.765 MBSending build context to Docker daemon 2.765 MB
Step 1 : FROM ocaml/opam:alpine
 ---> 641163b66edf
Step 2 : RUN opam depext lwt ssl &&  opam install lwt alcotest
 ---> Running in 634e47efbd8c
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - m4
#  - openssl-dev
#  - pkgconfig
pkgconfig
# The following new OS packages need to be installed: m4 openssl-dev
The following command needs to be run through "sudo":
    apk add m4 openssl-dev
(1/3) Installing m4 (1.4.17-r1)
(2/3) Installing zlib-dev (1.2.8-r2)
(3/3) Installing openssl-dev (1.0.2j-r0)
Executing busybox-1.24.2-r11.trigger
OK: 442 MiB in 86 packages
# OS packages installation successful
The following actions will be performed:
  - install conf-m4    1                                        [required by ocamlfind]
  - install result     1.2                                      [required by alcotest, lwt]
  - install ocamlfind  1.6.2                                    [required by alcotest, lwt]
  - install topkg      0.8.0                                    [required by alcotest]
  - install ppx_tools  5.0+4.02.0                               [required by lwt]
  - install base-bytes base                                     [required by lwt]
  - install fmt        0.8.0                                    [required by alcotest]
  - install astring    0.8.3                                    [required by alcotest]
  - install lwt        2.6.0     
  - install alcotest   0.7.0     
===== 10 to install =====
Do you want to continue ? [Y/n] y

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[alcotest: http] Command started
[astring: http] Command started
[fmt: http] Command started
[astring: http] Command started
[astring.0.8.3] http://erratique.ch/software/astring/releases/astring-0.8.3.tbz downloaded
[lwt: http] Command started
[fmt: http] Command started
[fmt.0.8.0] http://erratique.ch/software/fmt/releases/fmt-0.8.0.tbz downloaded
[ocamlfind: http] Command started
[ocamlfind: http] Command started
[ocamlfind.1.6.2] http://download.camlcity.org/download/findlib-1.6.2.tar.gz downloaded
[ppx_tools: http] Command started
[alcotest: http] Command started
[alcotest.0.7.0] https://github.com/mirage/alcotest/releases/download/0.7.0/alcotest-0.7.0.tbz downloaded
[result: http] Command started
[ppx_tools: http] Command started
[ppx_tools.5.0+4.02.0] https://github.com/alainfrisch/ppx_tools/archive/5.0+4.02.0.tar.gz downloaded
[topkg: http] Command started
[topkg: http] Command started
[topkg.0.8.0] http://erratique.ch/software/topkg/releases/topkg-0.8.0.tbz downloaded
[result: http] Command started
[result.1.2] https://github.com/janestreet/result/archive/1.2.tar.gz downloaded
[lwt: http] Command started
[lwt.2.6.0] https://github.com/ocsigen/lwt/archive/2.6.0.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[conf-m4: sh echo | m4] Command started
[result: make] Command started
-> installed conf-m4.1
[ocamlfind: ./configure] Command started
-> installed result.1.2
[ocamlfind: make all] Command started
[ocamlfind: make opt] Command started
[ocamlfind: make install] Command started
[ocamlfind: cp ocaml-stub] Command started
-> installed ocamlfind.1.6.2
-> installed base-bytes.base
[ppx_tools: make all] Command started
[topkg: ocaml build] Command started
[ppx_tools: make install] Command started
-> installed ppx_tools.5.0+4.02.0
[lwt: ocaml setup.ml] Command started
-> installed topkg.0.8.0
[astring: ocaml build] Command started
[fmt: ocaml build] Command started
-> installed fmt.0.8.0
-> installed astring.0.8.3
[alcotest: ocaml build] Command started
-> installed alcotest.0.7.0
[lwt: make build] Command started
[lwt: make install] Command started
-> installed lwt.2.6.0
Done.
 ---> c486b52c2a81
Removing intermediate container 634e47efbd8c
Step 3 : RUN opam pin add github --dev
 ---> Running in 2ff2e92de3dc
github is now git-pinned to https://github.com/mirage/ocaml-github.git

[github: git]
[github: git]
[github: git]
[github: git]
[github: git]
[github: git]
[github] https://github.com/mirage/ocaml-github.git updated

github needs to be installed.
The following actions will be performed:
  - install   conf-perl        1                                [required by zarith]
  - install   stringext        1.4.3                            [required by github]
  - install   camomile         0.8.5                            [required by zed]
  - install   cppo             1.4.0                            [required by yojson]
  - install   js-build-tools   113.33.04                        [required by fieldslib, ppx_fields_conv]
  - install   magic-mime       1.0.0                            [required by cohttp]
  - install   menhir           20160825                         [required by atd]
  - install   easy-format      1.2.0                            [required by biniou, atd, yojson]
  - install   conf-gmp         1                                [required by zarith]
  - install   ocamlify         0.0.1                            [required by oasis]
  - install   ocamlmod         0.0.8                            [required by oasis]
  - install   react            1.2.0                            [required by lambda-term]
  - install   base64           2.1.2                            [required by cohttp]
  - install   conf-which       1                                [required by biniou]
  - install   mirage-no-xen    1                                [required by nocrypto]
  - install   re               1.7.1                            [required by cohttp]
  - install   ppx_deriving     4.1                              [required by ppx_type_conv]
  - install   ocplib-endian    1.0                              [required by cstruct]
  - install   sexplib          113.33.03                        [required by cohttp]
  - install   ppx_core         113.33.03                        [required by ppx_fields_conv]
  - install   fieldslib        113.33.03                        [required by cohttp]
  - install   atd              1.2.0                            [required by atdgen]
  - install   zarith           1.4.1                            [required by nocrypto]
  - install   oasis            0.4.7                            [required by tls]
  - install   zed              1.4                              [required by lambda-term]
  - recompile lwt              2.6.0                            [uses react]
  - install   biniou           1.0.12                           [required by atdgen]
  - install   ppx_optcomp      113.33.03                        [required by conduit]
  - install   lambda-term      1.10.1                           [required by github]
  - install   cstruct          2.3.0                            [required by conduit]
  - install   yojson           1.3.3                            [required by github]
  - install   ppx_driver       113.33.03                        [required by conduit]
  - install   asn1-combinators 0.1.2                            [required by x509]
  - install   atdgen           1.10.0                           [required by github]
  - install   ppx_type_conv    113.33.03                        [required by ppx_fields_conv]
  - install   ppx_sexp_conv    113.33.03                        [required by cohttp]
  - install   ppx_fields_conv  113.33.03                        [required by cohttp]
  - install   uri              1.9.2                            [required by github]
  - install   nocrypto         0.5.3                            [required by tls]
  - install   ipaddr           2.7.0                            [required by conduit]
  - install   x509             0.5.3                            [required by tls]
  - install   tls              0.7.1                            [required by github]
  - install   conduit          0.13.0                           [required by cohttp]
  - install   cohttp           0.21.0                           [required by github]
  - install   github           2.0.3*   
===== 44 to install | 1 to recompile =====
Do you want to continue ? [Y/n] y

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[asn1-combinators: http] Command started
[atd: http] Command started
[atdgen: http] Command started
[atd: http] Command started
[atd.1.2.0] https://github.com/mjambon/atd/archive/v1.2.0.tar.gz downloaded
[base64: http] Command started
[atdgen: http] Command started
[atdgen.1.10.0] https://github.com/mjambon/atdgen/archive/v1.10.0.tar.gz downloaded
[biniou: http] Command started
[base64: http] Command started
[base64.2.1.2] https://github.com/mirage/ocaml-base64/releases/download/v2.1.2/base64-2.1.2.tbz downloaded
[camomile: http] Command started
[asn1-combinators: http] Command started
[asn1-combinators.0.1.2] https://github.com/mirleft/ocaml-asn1-combinators/archive/0.1.2.tar.gz downloaded
[cohttp: http] Command started
[biniou: http] Command started
[biniou.1.0.12] https://github.com/mjambon/biniou/archive/v1.0.12.tar.gz downloaded
[conduit: http] Command started
[conduit: http] Command started
[conduit.0.13.0] https://github.com/mirage/ocaml-conduit/archive/v0.13.0.tar.gz downloaded
[cppo: http] Command started
[cohttp: http] Command started
[cohttp.0.21.0] https://github.com/mirage/ocaml-cohttp/archive/v0.21.0.tar.gz downloaded
[cstruct: http] Command started
[cppo: http] Command started
[cppo.1.4.0] https://github.com/mjambon/cppo/archive/v1.4.0.tar.gz downloaded
[easy-format: http] Command started
[camomile: http] Command started
[camomile.0.8.5] https://github.com/yoriyuki/Camomile/releases/download/rel-0.8.5/camomile-0.8.5.tar.bz2 downloaded
[fieldslib: http] Command started
[easy-format: http] Command started
[easy-format.1.2.0] https://github.com/mjambon/easy-format/archive/v1.2.0.tar.gz downloaded
[github: git] Command started
[github: git] Command started
[fieldslib: http] Command started
[fieldslib.113.33.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/fieldslib-113.33.03.tar.gz downloaded
[ipaddr: http] Command started
[cstruct: http] Command started
[cstruct.2.3.0] https://github.com/mirage/ocaml-cstruct/archive/v2.3.0.tar.gz downloaded
[js-build-tools: http] Command started
[github: git] Command started
[github: git] Command started
[github] https://github.com/mirage/ocaml-github.git already up-to-date
[lambda-term: http] Command started
[js-build-tools: http] Command started
[js-build-tools.113.33.04] https://ocaml.janestreet.com/ocaml-core/113.33/files/js-build-tools-113.33.04.tar.gz downloaded
[magic-mime: http] Command started
[ipaddr: http] Command started
[ipaddr.2.7.0] https://github.com/mirage/ocaml-ipaddr/archive/2.7.0.tar.gz downloaded
[menhir: http] Command started
[menhir: http] Command started
[menhir.20160825] http://gallium.inria.fr/~fpottier/menhir/menhir-20160825.tar.gz downloaded
[nocrypto: http] Command started
[magic-mime: http] Command started
[magic-mime.1.0.0] https://github.com/mirage/ocaml-magic-mime/archive/v1.0.0.tar.gz downloaded
[oasis: http] Command started
[lambda-term: http] Command started
[lambda-term.1.10.1] https://github.com/diml/lambda-term/archive/1.10.1.tar.gz downloaded
[ocamlify: http] Command started
[oasis: http] Command started
[oasis.0.4.7] https://forge.ocamlcore.org/frs/download.php/1635/oasis-0.4.7.tar.gz downloaded
[ocamlmod: http] Command started
[ocamlify: http] Command started
[ocamlify.0.0.1] http://forge.ocamlcore.org/frs/download.php/379/ocamlify-0.0.1.tar.gz downloaded
[ocplib-endian: http] Command started
[ocamlmod: http] Command started
[ocamlmod.0.0.8] https://forge.ocamlcore.org/frs/download.php/1544/ocamlmod-0.0.8.tar.gz downloaded
[ppx_core: http] Command started
[ppx_core: http] Command started
[ppx_core.113.33.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_core-113.33.03.tar.gz downloaded
[ppx_deriving: http] Command started
[ocplib-endian: http] Command started
[ocplib-endian.1.0] https://github.com/OCamlPro/ocplib-endian/archive/1.0.tar.gz downloaded
[ppx_driver: http] Command started
[ppx_driver: http] Command started
[ppx_driver.113.33.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_driver-113.33.03.tar.gz downloaded
[ppx_fields_conv: http] Command started
[ppx_deriving: http] Command started
[ppx_deriving.4.1] https://github.com/whitequark/ppx_deriving/archive/v4.1.tar.gz downloaded
[ppx_optcomp: http] Command started
[ppx_fields_conv: http] Command started
[ppx_fields_conv.113.33.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_fields_conv-113.33.03.tar.gz downloaded
[ppx_sexp_conv: http] Command started
[ppx_optcomp: http] Command started
[ppx_optcomp.113.33.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_optcomp-113.33.03.tar.gz downloaded
[ppx_type_conv: http] Command started
[ppx_sexp_conv: http] Command started
[ppx_sexp_conv.113.33.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_sexp_conv-113.33.03.tar.gz downloaded
[re: http] Command started
[ppx_type_conv: http] Command started
[ppx_type_conv.113.33.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_type_conv-113.33.03.tar.gz downloaded
[react: http] Command started
[react: http] Command started
[react.1.2.0] http://erratique.ch/software/react/releases/react-1.2.0.tbz downloaded
[sexplib: http] Command started
[sexplib: http] Command started
[sexplib.113.33.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/sexplib-113.33.03.tar.gz downloaded
[stringext: http] Command started
[nocrypto: http] Command started
[nocrypto.0.5.3] https://github.com/mirleft/ocaml-nocrypto/archive/v0.5.3.tar.gz downloaded
[tls: http] Command started
[re: http] Command started
[re.1.7.1] https://github.com/ocaml/ocaml-re/archive/1.7.1.tar.gz downloaded
[uri: http] Command started
[stringext: http] Command started
[stringext.1.4.3] https://github.com/rgrinberg/stringext/archive/v1.4.3.tar.gz downloaded
[x509: http] Command started
[x509: http] Command started
[x509.0.5.3] https://github.com/mirleft/ocaml-x509/archive/0.5.3.tar.gz downloaded
[yojson: http] Command started
[uri: http] Command started
[uri.1.9.2] https://github.com/mirage/ocaml-uri/archive/v1.9.2.tar.gz downloaded
[zarith: http] Command started
[zarith: http] Command started
[zarith.1.4.1] https://forge.ocamlcore.org/frs/download.php/1574/zarith-1.4.1.tgz downloaded
[zed: http] Command started
[yojson: http] Command started
[yojson.1.3.3] https://github.com/mjambon/yojson/archive/v1.3.3.tar.gz downloaded
[tls: http] Command started
[tls.0.7.1] https://github.com/mirleft/ocaml-tls/archive/0.7.1.tar.gz downloaded
[zed: http] Command started
[zed.1.4] https://github.com/diml/zed/archive/1.4.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[lwt: ocamlfind remove] Command started
[base64: ocaml build] Command started
[camomile: ./configure] Command started
[conf-gmp: sh] Command started
-> removed   lwt.2.6.0
[conf-perl: perl] Command started
-> installed base64.2.1.2
[conf-which: which which] Command started
[91m[ERROR] The compilation of conf-gmp failed at "sh -exc cc -c $CFLAGS
        -I/usr/local/include test.c".
[0m[cppo: make] Command started
[91m[ERROR] The compilation of conf-perl failed at "perl --version".
[0m[easy-format: make] Command started
-> installed conf-which.1
[js-build-tools: ./configure] Command started
[easy-format: make install] Command started
-> installed easy-format.1.2.0
[biniou: make] Command started
[camomile: make] Command started
[js-build-tools: make] Command started
[biniou: make install] Command started
-> installed biniou.1.0.12
[magic-mime: ./configure] Command started
[cppo: make install-lib] Command started
-> installed cppo.1.4.0
[menhir: make Makefile] Command started
[magic-mime: make] Command started
-> installed js-build-tools.113.33.04
[fieldslib: ./configure] Command started
[fieldslib: make] Command started
[magic-mime: make install] Command started
-> installed fieldslib.113.33.03
-> installed mirage-no-xen.1
[ocamlify: ocaml setup.ml] Command started
-> installed magic-mime.1.0.0
[ocamlmod: ocaml setup.ml] Command started
[ocamlify: ocaml setup.ml] Command started
[ocamlmod: ocaml setup.ml] Command started
[ocamlify: ocaml setup.ml] Command started
-> installed ocamlify.0.0.1
[ocplib-endian: ocaml setup.ml] Command started
[ocamlmod: ocaml setup.ml] Command started
[ocplib-endian: ocaml setup.ml] Command started
-> installed ocamlmod.0.0.8
[oasis: ocaml setup.ml] Command started
[oasis: ocaml setup.ml] Command started
[ocplib-endian: ocaml setup.ml] Command started
-> installed ocplib-endian.1.0
[ppx_core: ./configure] Command started
[ppx_core: make] Command started
[menhir: make Makefile] Command started
-> installed menhir.20160825
[atd: make] Command started
[atd: make install] Command started
-> installed atd.1.2.0
[ppx_deriving: ocaml] Command started
-> installed ppx_deriving.4.1
[re: ocaml setup.ml] Command started
-> installed ppx_core.113.33.03
[ppx_optcomp: ./configure] Command started
[oasis: ocaml setup.ml] Command started
[re: ocaml setup.ml] Command started
[ppx_optcomp: make] Command started
-> installed oasis.0.4.7
[react: ocaml] Command started
[react: ocaml] Command started
-> installed react.1.2.0
[lwt: ocaml setup.ml] Command started
[re: ocaml setup.ml] Command started
-> installed ppx_optcomp.113.33.03
[ppx_driver: ./configure] Command started
[ppx_driver: make] Command started
-> installed re.1.7.1
[sexplib: ./configure] Command started
[camomile: make install] Command started
-> installed camomile.0.8.5
[stringext: ocaml setup.ml] Command started
[sexplib: make] Command started
[lwt: make build] Command started
[stringext: ocaml setup.ml] Command started
-> installed ppx_driver.113.33.03
[ppx_type_conv: ./configure] Command started
[stringext: ocaml setup.ml] Command started
[ppx_type_conv: make] Command started
-> installed stringext.1.4.3
[yojson: make] Command started
-> installed sexplib.113.33.03
[zed: ocaml setup.ml] Command started
-> installed ppx_type_conv.113.33.03
[ppx_fields_conv: ./configure] Command started
[zed: ocaml setup.ml] Command started
[ppx_fields_conv: make] Command started
[yojson: make install-lib] Command started
-> installed yojson.1.3.3
[atdgen: make] Command started
-> installed ppx_fields_conv.113.33.03
[ppx_sexp_conv: ./configure] Command started
[ppx_sexp_conv: make] Command started
[zed: ocaml setup.ml] Command started
-> installed zed.1.4
-> installed ppx_sexp_conv.113.33.03
[ipaddr: ocaml setup.ml] Command started
[uri: ocaml setup.ml] Command started
[atdgen: make findlib-install] Command started
-> installed atdgen.1.10.0
[ipaddr: make build] Command started
[lwt: make install] Command started
[uri: ocaml setup.ml] Command started
-> installed lwt.2.6.0
[cstruct: ./configure] Command started
[lambda-term: ocaml setup.ml] Command started
[lambda-term: ocaml setup.ml] Command started
[cstruct: make] Command started
[ipaddr: make install] Command started
[uri: ocaml setup.ml] Command started
-> installed ipaddr.2.7.0
-> installed uri.1.9.2
[cstruct: make install] Command started
[cstruct: make js-install] Command started
-> installed cstruct.2.3.0
[lambda-term: ocaml setup.ml] Command started
-> installed lambda-term.1.10.1
[91m
#=== ERROR while installing conf-gmp.1 ========================================#
# opam-version         1.2.2
# os                   linux
# command              sh -exc cc -c $CFLAGS -I/usr/local/include test.c
# path                 /home/opam/.opam/system/build/conf-gmp.1
# compiler             system (4.02.3)
# exit-code            1
# env-file             /home/opam/.opam/system/build/conf-gmp.1/conf-gmp-13-489228.env
# stdout-file          /home/opam/.opam/system/build/conf-gmp.1/conf-gmp-13-489228.out
# stderr-file          /home/opam/.opam/system/build/conf-gmp.1/conf-gmp-13-489228.err
### stderr ###
# + cc -c -I/usr/local/include test.c
# test.c:1:17: fatal error: gmp.h: No such file or directory
# compilation terminated.

[0m[91m
#=== ERROR while installing conf-perl.1 =======================================#
# opam-version         1.2.2
# os                   linux
# command              perl --version
# path                 /home/opam/.opam/system/build/conf-perl.1
# compiler             system (4.02.3)
# exit-code            127
# env-file             /home/opam/.opam/system/build/conf-perl.1/conf-perl-13-4aef26.env
# stdout-file          /home/opam/.opam/system/build/conf-perl.1/conf-perl-13-4aef26.out
# stderr-file          /home/opam/.opam/system/build/conf-perl.1/conf-perl-13-4aef26.err

[0m

=-=- Error report -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
The following actions were aborted
  - install asn1-combinators 0.1.2 
  - install cohttp           0.21.0
  - install conduit          0.13.0
  - install github           2.0.3 
  - install nocrypto         0.5.3 
  - install tls              0.7.1 
  - install x509             0.5.3 
  - install zarith           1.4.1 
The following actions failed
  - install conf-gmp  1
  - install conf-perl 1
The following changes have been performed
  - install atd             1.2.0    
  - install atdgen          1.10.0   
  - install base64          2.1.2    
  - install biniou          1.0.12   
  - install camomile        0.8.5    
  - install conf-which      1        
  - install cppo            1.4.0    
  - install cstruct         2.3.0    
  - install easy-format     1.2.0    
  - install fieldslib       113.33.03
  - install ipaddr          2.7.0    
  - install js-build-tools  113.33.04
  - install lambda-term     1.10.1   
  - install magic-mime      1.0.0    
  - install menhir          20160825 
  - install mirage-no-xen   1        
  - install oasis           0.4.7    
  - install ocamlify        0.0.1    
  - install ocamlmod        0.0.8    
  - install ocplib-endian   1.0      
  - install ppx_core        113.33.03
  - install ppx_deriving    4.1      
  - install ppx_driver      113.33.03
  - install ppx_fields_conv 113.33.03
  - install ppx_optcomp     113.33.03
  - install ppx_sexp_conv   113.33.03
  - install ppx_type_conv   113.33.03
  - install re              1.7.1    
  - install react           1.2.0    
  - install sexplib         113.33.03
  - install stringext       1.4.3    
  - install uri             1.9.2    
  - install yojson          1.3.3    
  - install zed             1.4      

=-=- conf-gmp.1 troobleshooting -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
=> This package relies on external (system) dependencies that may be missing.
   `opam depext conf-gmp.1' may help you find the correct installation for your
   system.

=-=- conf-perl.1 troobleshooting =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
=> This package relies on external (system) dependencies that may be missing.
   `opam depext conf-perl.1' may help you find the correct installation for
   your system.
[91m[NOTE] Pinning command successful, but your installed packages may be out of
       sync.
[0m[91m
The former state can be restored with:
    opam switch import "~/.opam/system/backup/state-20161002141237.export"
[0mThe command '/bin/sh -c opam pin add github --dev' returned a non-zero code: 4
[2016-11-02 14:18.21] Failed: Command "docker" "build" "-f" "Dockerfile.github" "." exited with status 1
