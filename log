=== Docker build Dockerfile.client
[2017-05-18 18:40.09] Starting...
Cloning into '/tmp/with_clone359a15ab'...
done.
warning: remote HEAD refers to nonexistent ref, unable to checkout.

HEAD is now at f39a173 test: add missing dependency towards str
[2017-05-18 18:41.29] Rewrite Dockerfile's first line to:
FROM ocaml/opam:alpine_ocaml-4.03.0
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 6.128 MBSending build context to Docker daemon 6.685 MBSending build context to Docker daemon 7.242 MBSending build context to Docker daemon 7.242 MB
Step 1/19 : FROM ocaml/opam:alpine_ocaml-4.03.0
 ---> 1254c1838b00
Step 2/19 : RUN git -C /home/opam/opam-repository pull origin master && opam update
 ---> Using cache
 ---> dd028dbbb6ae
Step 3/19 : ENV OPAMERRLOGLEN 0 OPAMYES 1
 ---> Using cache
 ---> 1050e9dec071
Step 4/19 : RUN opam depext -ui lwt alcotest conf-libev
 ---> Using cache
 ---> d78b6b010405
Step 5/19 : COPY datakit-client.opam /home/opam/src/datakit/datakit-client.opam
 ---> Using cache
 ---> 2628bc68b8aa
Step 6/19 : RUN opam pin add datakit-client.dev /home/opam/src/datakit -n
 ---> Using cache
 ---> 80c6dc99248f
Step 7/19 : COPY datakit-client-9p.opam /home/opam/src/datakit/datakit-client-9p.opam
 ---> Using cache
 ---> 65591274d8a1
Step 8/19 : RUN opam pin add datakit-client-9p.dev /home/opam/src/datakit -n
 ---> Using cache
 ---> 1a57ddcd8132
Step 9/19 : RUN opam depext datakit-client datakit-client-9p &&     opam install datakit-client --deps
 ---> Using cache
 ---> aa4dac3633de
Step 10/19 : COPY . /home/opam/src/datakit
 ---> 4a1b52d7e1ac
Removing intermediate container e25df17e71e2
Step 11/19 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in e184d7b45fdf
 ---> a9e0dbb5cadb
Removing intermediate container e184d7b45fdf
Step 12/19 : RUN cd /home/opam/src/datakit &&     scripts/watermark.sh &&     git status --porcelain
 ---> Running in 616a240f8328
 M Dockerfile.client
 M src/version.ml
 ---> 036b87f8037a
Removing intermediate container 616a240f8328
Step 13/19 : RUN opam update datakit-client datakit-client-9p
 ---> Running in 245ef4203d84

=-=- Synchronizing development packages -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: local] Command started
[datakit-client-9p: local] Command started
[datakit-client] /home/opam/src/datakit/ synchronized
[datakit-client-9p] /home/opam/src/datakit/ synchronized
 ---> 8267728dea0c
Removing intermediate container 245ef4203d84
Step 14/19 : RUN opam info datakit-client --raw
 ---> Running in 55911c4c048e
opam-version: "1.2"
name: "datakit-client"
version: "dev"
maintainer: "thomas@gazagnaire.org"
authors: [
  "Thomas Leonard" "Magnus Skjegstad" "David Scott" "Thomas Gazagnaire"
]
homepage: "https://github.com/moby/datakit"
bug-reports: "https://github.com/moby/datakit/issues"
license: "Apache"
doc: "https://docker.github.io/datakit/"
dev-repo: "https://github.com/moby/datakit.git"
build: ["jbuilder" "build" "-p" name "-j" jobs]
depends: [
  "jbuilder" {build}
  "astring"
  "result"
  "fmt"
  "cstruct" {> "2.2.0"}
]
 ---> afc6220527dc
Removing intermediate container 55911c4c048e
Step 15/19 : RUN opam install datakit-client.dev -vv
 ---> Running in e4076bf6fd34

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/4.03.0/packages.dev/datakit-client"
- sending incremental file list
- 
- sent 8,514 bytes  received 50 bytes  17,128.00 bytes/sec
- total size is 1,283,450  speedup is 149.87
[datakit-client] /home/opam/src/datakit/ already up-to-date
The following actions will be performed:
  - install datakit-client dev*

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/4.03.0/packages.dev/datakit-client"
- sending incremental file list
- 
- sent 8,514 bytes  received 50 bytes  17,128.00 bytes/sec
- total size is 1,283,450  speedup is 149.87
[datakit-client.dev] /home/opam/src/datakit/ already up-to-date

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: jbuilder build] Command started
+ jbuilder "build" "-p" "datakit-client" "-j" "4" (CWD=/home/opam/.opam/4.03.0/build/datakit-client.dev)
-     ocamldep api/ocaml/9p/mount/mount.depends.ocamldep-output
-     ocamldep api/ocaml/datakit_client.depends.ocamldep-output
-     ocamldep api/ocaml/datakit_client.dependsi.ocamldep-output
-       ocamlc api/ocaml/9p/mount/version.{cmi,cmo,cmt}
-       ocamlc api/ocaml/9p/mount/mount.{cmi,cmo,cmt}
-     ocamlopt api/ocaml/9p/mount/version.{cmx,o}
-       ocamlc api/ocaml/datakit_client.{cmi,cmti}
-       ocamlc api/ocaml/datakit_client.{cmo,cmt}
-       ocamlc api/ocaml/datakit_client.cma
-     ocamlopt api/ocaml/9p/mount/mount.{cmx,o}
-     ocamlopt api/ocaml/datakit_client.{cmx,o}
-     ocamlopt api/ocaml/datakit_client.{a,cmxa}
-     ocamlopt api/ocaml/datakit_client.cmxs
-     ocamlopt api/ocaml/9p/mount/mount.exe
+ install "-m" "0755" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/install/default/bin/datakit-mount" "/home/opam/.opam/4.03.0/bin/datakit-mount"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/install/default/lib/datakit-client/META" "/home/opam/.opam/4.03.0/lib/datakit-client/META"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/install/default/lib/datakit-client/opam" "/home/opam/.opam/4.03.0/lib/datakit-client/opam"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.cmi" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_client.cmi"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.cmx" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_client.cmx"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.cmt" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_client.cmt"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.cmti" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_client.cmti"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.mli" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_client.mli"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.cma" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_client.cma"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.cmxa" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_client.cmxa"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.a" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_client.a"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.cmxs" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_client.cmxs"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/install/default/doc/datakit-client/README.md" "/home/opam/.opam/4.03.0/doc/datakit-client/README.md"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/install/default/doc/datakit-client/LICENSE.md" "/home/opam/.opam/4.03.0/doc/datakit-client/LICENSE.md"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/install/default/doc/datakit-client/CHANGES.md" "/home/opam/.opam/4.03.0/doc/datakit-client/CHANGES.md"
-> installed datakit-client.dev
Done.
 ---> b111800fb56e
Removing intermediate container e4076bf6fd34
Step 16/19 : RUN opam install datakit-client-9p --deps
 ---> Running in 1e74ccd44c38

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client-9p: local] Command started
[datakit-client-9p] /home/opam/src/datakit/ already up-to-date
The following actions will be performed:
  - install asetmap               0.8.1 
  - install ocb-stubblr           0.1.1 
  - install rresult               0.5.0 
  - install ocaml-compiler-libs   v0.9.0
  - install base                  v0.9.2
  - install logs                  0.6.2 
  - install ppx_deriving          4.1   
  - install mirage-flow           1.2.0 
  - install ppx_traverse_builtins v0.9.0
  - install win-error             0.2   
  - install io-page               1.6.1 
  - install mirage-device         1.0.0 
  - install prometheus            0.1   
  - install named-pipe            0.4.0 
  - install ppx_ast               v0.9.1
  - install stdio                 v0.9.0
  - install mirage-channel        3.0.0 
  - install mirage-kv             1.0.0 
  - install mirage-clock          1.2.0 
  - install ppx_core              v0.9.0
  - install mirage-kv-lwt         1.0.0 
  - install mirage-flow-lwt       1.2.0 
  - install ppx_optcomp           v0.9.0
  - install mirage-channel-lwt    3.0.0 
  - install ppx_driver            v0.9.1
  - install ppx_metaquot          v0.9.0
  - install ppx_type_conv         v0.9.0
  - install ppx_sexp_conv         v0.9.0
  - install protocol-9p           0.11.0
  - install protocol-9p-unix      0.11.0
===== 30 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[asetmap: http] Command started
[base: http] Command started
[io-page: http] Command started
[asetmap: http] Command started
[asetmap.0.8.1] http://erratique.ch/software/asetmap/releases/asetmap-0.8.1.tbz downloaded
[logs: http] Command started
[logs: http] Command started
[logs.0.6.2] http://erratique.ch/software/logs/releases/logs-0.6.2.tbz downloaded
[mirage-channel: http] Command started
[mirage-channel: http] Command started
[mirage-channel.3.0.0] https://github.com/mirage/mirage-channel/releases/download/v3.0.0/mirage-channel-3.0.0.tbz downloaded
[mirage-channel-lwt: http] Command started
[io-page: http] Command started
[io-page.1.6.1] https://github.com/mirage/io-page/archive/v1.6.1.tar.gz downloaded
[mirage-clock: http] Command started
[base: http] Command started
[base.v0.9.2] https://github.com/janestreet/base/archive/v0.9.2.tar.gz downloaded
[mirage-device: http] Command started
[mirage-clock: http] Command started
[mirage-clock.1.2.0] https://github.com/mirage/mirage-clock/releases/download/1.2.0/mirage-clock-1.2.0.tbz downloaded
[mirage-flow: http] Command started
[mirage-channel-lwt: http] Command started
[mirage-channel-lwt.3.0.0] https://github.com/mirage/mirage-channel/releases/download/v3.0.0/mirage-channel-lwt-3.0.0.tbz downloaded
[mirage-flow-lwt: http] Command started
[mirage-device: http] Command started
[mirage-device.1.0.0] https://github.com/mirage/mirage-device/releases/download/1.0.0/mirage-device-1.0.0.tbz downloaded
[mirage-kv: http] Command started
[mirage-flow: http] Command started
[mirage-flow.1.2.0] https://github.com/mirage/mirage-flow/releases/download/1.2.0/mirage-flow-1.2.0.tbz downloaded
[mirage-kv-lwt: http] Command started
[mirage-kv: http] Command started
[mirage-kv.1.0.0] https://github.com/mirage/mirage-kv/releases/download/1.0.0/mirage-kv-1.0.0.tbz downloaded
[named-pipe: http] Command started
[mirage-flow-lwt: http] Command started
[mirage-flow-lwt.1.2.0] https://github.com/mirage/mirage-flow/releases/download/1.2.0/mirage-flow-lwt-1.2.0.tbz downloaded
[ocaml-compiler-libs: http] Command started
[ocaml-compiler-libs: http] Command started
[ocaml-compiler-libs.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ocaml-compiler-libs-v0.9.0.tar.gz downloaded
[ocb-stubblr: http] Command started
[mirage-kv-lwt: http] Command started
[mirage-kv-lwt.1.0.0] https://github.com/mirage/mirage-kv/releases/download/1.0.0/mirage-kv-lwt-1.0.0.tbz downloaded
[ppx_ast: http] Command started
[named-pipe: http] Command started
[named-pipe.0.4.0] https://github.com/mirage/ocaml-named-pipe/releases/download/0.4.0/named-pipe-0.4.0.tbz downloaded
[ppx_core: http] Command started
[ppx_core: http] Command started
[ppx_core.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_core-v0.9.0.tar.gz downloaded
[ppx_deriving: http] Command started
[ocb-stubblr: http] Command started
[ocb-stubblr.0.1.1] https://github.com/pqwy/ocb-stubblr/releases/download/v0.1.1/ocb-stubblr-0.1.1.tbz downloaded
[ppx_driver: http] Command started
[ppx_ast: http] Command started
[ppx_ast.v0.9.1] https://github.com/janestreet/ppx_ast/archive/v0.9.1.tar.gz downloaded
[ppx_metaquot: http] Command started
[ppx_metaquot: http] Command started
[ppx_metaquot.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_metaquot-v0.9.0.tar.gz downloaded
[ppx_optcomp: http] Command started
[ppx_deriving: http] Command started
[ppx_deriving.4.1] https://github.com/whitequark/ppx_deriving/archive/v4.1.tar.gz downloaded
[ppx_sexp_conv: http] Command started
[ppx_driver: http] Command started
[ppx_driver.v0.9.1] https://github.com/janestreet/ppx_driver/archive/v0.9.1.tar.gz downloaded
[ppx_traverse_builtins: http] Command started
[ppx_optcomp: http] Command started
[ppx_optcomp.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_optcomp-v0.9.0.tar.gz downloaded
[ppx_type_conv: http] Command started
[ppx_sexp_conv: http] Command started
[ppx_traverse_builtins: http] Command started
[ppx_sexp_conv.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_sexp_conv-v0.9.0.tar.gz downloaded
[prometheus: http] Command started
[ppx_traverse_builtins.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_traverse_builtins-v0.9.0.tar.gz downloaded
[protocol-9p: http] Command started
[91mFatal error:
# opam-version    1.2.2
# os              linux
opam: "mkdir" failed on /home/opam/.opam/packages.dev/protocol-9p-unix.0.11.0: No space left on device
[0mThe command '/bin/sh -c opam install datakit-client-9p --deps' returned a non-zero code: 1
[2017-05-18 18:42.20] Failed: Command "docker" "build" "-f" "Dockerfile.client" "." exited with status 1
