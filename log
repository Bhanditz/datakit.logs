=== Docker build Dockerfile.ci
[2019-01-18 11:18.15] Starting...
Cloning into '/tmp/with_clone359d9e6b'...
done.
HEAD is now at 8a6c7f7 fill in missing opam description fields
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 5.737 MB
Step 1/16 : FROM ocaml/opam2:alpine
alpine: Pulling from ocaml/opam2
Digest: sha256:997ac6313af61f6bed98d9ffb25347dd77027724af9fd141d87edbcd94029f57
Status: Image is up to date for ocaml/opam2:alpine
 ---> 5f577d329d68
Step 2/16 : RUN sudo apk add --no-cache tzdata aspcud gmp-dev perl libev-dev m4
 ---> Using cache
 ---> 17d53af3f968
Step 3/16 : ENV OPAMERRLOGLEN 0 OPAMYES 1
 ---> Using cache
 ---> 85680701b55a
Step 4/16 : RUN git -C /home/opam/opam-repository fetch origin &&     git -C /home/opam/opam-repository reset da99aec5e0ecc83bd86926b620eff45b99c82c26 --hard &&     opam update -u
 ---> Using cache
 ---> 4212343800b4
Step 5/16 : RUN opam install alcotest lwt conf-libev inotify
 ---> Using cache
 ---> 91a5695bd565
Step 6/16 : COPY check-libev.ml /tmp/check-libev.ml
 ---> Using cache
 ---> a5b540396c1c
Step 7/16 : RUN opam exec -- ocaml /tmp/check-libev.ml
 ---> Using cache
 ---> ab9716b6f201
Step 8/16 : COPY *.opam /home/opam/src/datakit/
 ---> e5cbe30783af
Removing intermediate container 9256d3ff5292
Step 9/16 : RUN opam pin add /home/opam/src/datakit/ -n
 ---> Running in 95bffd9934f8
This will pin the following packages: datakit, datakit-server, datakit-server-9p, datakit-github, datakit-client, datakit-client-git, datakit-client-9p, datakit-ci, datakit-bridge-local-git, datakit-bridge-github. Continue? [Y/n] y
[datakit.0.12.0: rsync]
[datakit.0.12.0] synchronised from file:///home/opam/src/datakit
datakit is now pinned to file:///home/opam/src/datakit (version 0.12.0)
[datakit-server.0.12.0: rsync]
[datakit-server.0.12.0] synchronised from file:///home/opam/src/datakit
datakit-server is now pinned to file:///home/opam/src/datakit (version 0.12.0)
[datakit-server-9p.0.12.0: rsync]
[datakit-server-9p.0.12.0] synchronised from file:///home/opam/src/datakit
datakit-server-9p is now pinned to file:///home/opam/src/datakit (version 0.12.0)
[datakit-github.0.12.0: rsync]
[datakit-github.0.12.0] synchronised from file:///home/opam/src/datakit
datakit-github is now pinned to file:///home/opam/src/datakit (version 0.12.0)
[datakit-client.0.12.0: rsync]
[datakit-client.0.12.0] synchronised from file:///home/opam/src/datakit
datakit-client is now pinned to file:///home/opam/src/datakit (version 0.12.0)
[datakit-client-git.0.12.0: rsync]
[datakit-client-git.0.12.0] synchronised from file:///home/opam/src/datakit
datakit-client-git is now pinned to file:///home/opam/src/datakit (version 0.12.0)
[datakit-client-9p.0.12.0: rsync]
[datakit-client-9p.0.12.0] synchronised from file:///home/opam/src/datakit
datakit-client-9p is now pinned to file:///home/opam/src/datakit (version 0.12.0)
[datakit-ci.0.12.1: rsync]
[datakit-ci.0.12.1] synchronised from file:///home/opam/src/datakit
datakit-ci is now pinned to file:///home/opam/src/datakit (version 0.12.1)
[datakit-bridge-local-git.0.12.0: rsync]
[datakit-bridge-local-git.0.12.0] synchronised from file:///home/opam/src/datakit
datakit-bridge-local-git is now pinned to file:///home/opam/src/datakit (version 0.12.0)
[datakit-bridge-github.0.12.0: rsync]
[datakit-bridge-github.0.12.0] synchronised from file:///home/opam/src/datakit
datakit-bridge-github is now pinned to file:///home/opam/src/datakit (version 0.12.0)
 ---> 28a85877f1bb
Error removing intermediate container 95bffd9934f8: driver "aufs" failed to remove root filesystem for 95bffd9934f81e7e1c58b184b34ca83e28ad45349bbec81f956992a3a139eb53: could not remove diff path for id ccf541d4258d1c7c9e479b43173db473245241a29e89dee0f7e3faf023fe2a0b: error preparing atomic delete: rename /var/lib/docker/aufs/diff/ccf541d4258d1c7c9e479b43173db473245241a29e89dee0f7e3faf023fe2a0b /var/lib/docker/aufs/diff/ccf541d4258d1c7c9e479b43173db473245241a29e89dee0f7e3faf023fe2a0b-removing: device or resource busy
Step 10/16 : RUN sudo apk add --no-cache libressl-dev linux-headers pcre-dev
 ---> Running in 58dfc5334420
fetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/x86_64/APKINDEX.tar.gz
(1/7) Installing libressl-dev (2.7.4-r0)
(2/7) Installing linux-headers (4.4.6-r2)
(3/7) Installing libpcre16 (8.42-r0)
(4/7) Installing libpcre32 (8.42-r0)
(5/7) Installing pcre (8.42-r0)
(6/7) Installing libpcrecpp (8.42-r0)
(7/7) Installing pcre-dev (8.42-r0)
Executing busybox-1.28.4-r2.trigger
OK: 283 MiB in 99 packages
 ---> 5a13ce8da285
Removing intermediate container 95bffd9934f8
Removing intermediate container 58dfc5334420
Step 11/16 : RUN opam install datakit-ci --deps -t
 ---> Running in d68b3740aea3

<><> Synchronising pinned packages ><><><><><><><><><><><><><><><><><><><><><><>
[datakit-ci.0.12.1] no changes from file:///home/opam/src/datakit

The following actions will be performed:
  - install conf-gmp                1
  - install mirage-no-xen           1
  - install uutf                    1.0.1
  - install ppx_tools               5.1+4.06.0
  - install base64                  2.3.0
  - install seq                     base
  - install num                     1.1
  - install dispatch                0.4.0
  - install camomile                1.0.1
  - install ptime                   0.8.4
  - install react                   1.2.1
  - install win-error               0.3
  - install mirage-device           1.1.0
  - install mtime                   1.1.0
  - install cppo_ocamlbuild         1.6.0
  - install ocb-stubblr             0.1.1-1
  - install stringext               1.5.0
  - install magic-mime              1.1.1
  - install calendar                2.04
  - install mirage-no-solo5         1
  - install decompress              0.7
  - install conf-perl               1
  - install rresult                 0.6.0
  - install ocamlgraph              1.8.8
  - install logs                    0.6.2
  - install asetmap                 0.8.1
  - install ocaml-compiler-libs     v0.11.0
  - install sexplib0                v0.11.0
  - install ocplib-endian           1.0
  - install easy-format             1.3.1
  - install duration                0.1.1
  - install ppx_derivers            1.0
  - install crunch                  2.1.0
  - install lwt_log                 1.1.0
  - install menhir                  20181113
  - install conf-which              1
  - install mirage-flow             1.5.0
  - install jsonm                   1.0.1
  - install re                      1.8.0
  - install zed                     1.6
  - install lwt_react               1.1.1
  - install mirage-time             1.1.0
  - install mirage-kv               1.1.1
  - install mirage-clock            2.0.0
  - install named-pipe              0.4.0
  - install cpuid                   0.1.1
  - install zarith                  1.7
  - install win-eventlog            0.2
  - install irmin-watcher           0.4.0
  - install asl                     0.11
  - install parsexp                 v0.11.0
  - install macaddr                 3.0.0
  - install base                    v0.11.1
  - install ocaml-migrate-parsetree 1.2.0
  - install atd                     2.0.0
  - install biniou                  1.2.0
  - install mirage-channel          3.1.0
  - install tyxml                   4.3.0
  - install redis                   0.3.6
  - install prometheus              0.5
  - install lambda-term             1.13
  - install mirage-time-lwt         1.1.0
  - install sexplib                 v0.11.0
  - install ipaddr                  3.0.0
  - install stdio                   v0.11.0
  - install ppx_tools_versioned     5.2.1
  - install ppx_deriving            4.2.1
  - install yojson                  1.5.0
  - install redis-lwt               0.3.6
  - install cstruct                 3.2.1
  - install ppxlib                  0.5.0
  - install configurator            v0.11.0
  - install lwt_ppx                 1.2.1
  - install atdgen-runtime          2.0.0
  - install ppx_cstruct             3.2.1
  - install mstruct                 1.4.0
  - install mirage-kv-lwt           1.1.0
  - install mirage-flow-lwt         1.5.0
  - install hex                     1.2.0
  - install datakit-server          0.12.0*
  - install datakit-client          0.12.0*
  - install cstruct-lwt             3.2.1
  - install asn1-combinators        0.2.0
  - install ppx_sexp_conv           v0.11.2
  - install fieldslib               v0.11.0
  - install io-page                 2.0.1
  - install multipart-form-data     0.2.0
  - install atdgen                  2.0.0
  - install hvsock                  1.0.2
  - install uri                     2.1.0
  - install nocrypto                0.5.4-1
  - install ppx_fields_conv         v0.11.0
  - install mirage-channel-lwt      3.1.0
  - install io-page-unix            2.0.1
  - install irmin                   1.4.0
  - install git                     1.11.5
  - install conduit                 1.4.0
  - install x509                    0.6.2
  - install session                 0.4.0
  - install pbkdf                   0.3.0
  - install cohttp                  1.2.0
  - install protocol-9p             0.12.1
  - install irmin-mem               1.3.0
  - install irmin-fs                1.3.0
  - install irmin-git               1.3.0
  - install conduit-lwt             1.4.0
  - install tls                     0.9.3
  - install session-redis-lwt       0.4.0
  - install webmachine              0.5.0
  - install session-cohttp          0.4.0
  - install cohttp-lwt              1.2.0
  - install protocol-9p-unix        0.12.1
  - install datakit-server-9p       0.12.0*
  - install conduit-lwt-unix        1.4.0
  - install session-webmachine      0.4.0
  - install irmin-http              1.3.3
  - install github                  4.0.0
  - install git-http                1.11.4
  - install datakit-client-9p       0.12.0*
  - install cohttp-lwt-unix         1.2.0
  - install prometheus-app          0.5
  - install github-unix             4.0.0
  - install git-unix                1.11.5
  - install datakit                 0.12.0*
  - install irmin-unix              1.3.3
  - install datakit-client-git      0.12.0*
  - install datakit-github          0.12.0*
===== 127 to install =====

<><> Gathering sources ><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[asetmap.0.8.1] downloaded from http://erratique.ch/software/asetmap/releases/asetmap-0.8.1.tbz
[asl.0.11] downloaded from https://github.com/mirage/ocaml-asl/releases/download/0.11/asl-0.11.tbz
[asn1-combinators.0.2.0] downloaded from https://github.com/mirleft/ocaml-asn1-combinators/releases/download/v0.2.0/asn1-combinators-0.2.0.tbz
[atd.2.0.0] downloaded from https://github.com/mjambon/atd/releases/download/2.0.0/atd-2.0.0.tbz
[atdgen.2.0.0] downloaded from https://github.com/mjambon/atd/releases/download/2.0.0/atd-2.0.0.tbz
[atdgen-runtime.2.0.0] downloaded from https://github.com/mjambon/atd/releases/download/2.0.0/atd-2.0.0.tbz
[base.v0.11.1] downloaded from https://github.com/janestreet/base/releases/download/v0.11.1/base-v0.11.1.tbz
[calendar.2.04] downloaded from https://forge-static.ocamlcore.org/frs/download.php/1481/calendar-2.04.tar.gz
[base64.2.3.0] downloaded from https://github.com/mirage/ocaml-base64/releases/download/v2.3.0/base64-v2.3.0.tbz
[biniou.1.2.0] downloaded from https://github.com/mjambon/biniou/archive/v1.2.0.tar.gz
[cohttp.1.2.0] downloaded from https://github.com/mirage/ocaml-cohttp/releases/download/v1.2.0/cohttp-v1.2.0.tbz
[cohttp-lwt-unix.1.2.0] found in cache
[camomile.1.0.1] downloaded from https://github.com/yoriyuki/Camomile/releases/download/1.0.1/camomile-1.0.1.tbz
[cohttp-lwt.1.2.0] downloaded from https://github.com/mirage/ocaml-cohttp/releases/download/v1.2.0/cohttp-v1.2.0.tbz
[conduit.1.4.0] downloaded from https://github.com/mirage/ocaml-conduit/releases/download/v1.4.0/conduit-v1.4.0.tbz
[conduit-lwt-unix.1.4.0] found in cache
[conduit-lwt.1.4.0] downloaded from https://github.com/mirage/ocaml-conduit/releases/download/v1.4.0/conduit-v1.4.0.tbz
[configurator.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/configurator-v0.11.0.tar.gz
[cpuid.0.1.1] downloaded from https://github.com/pqwy/cpuid/releases/download/v0.1.1/cpuid-0.1.1.tbz
[cppo_ocamlbuild.1.6.0] downloaded from https://github.com/mjambon/cppo/archive/v1.6.0.tar.gz
[crunch.2.1.0] downloaded from https://github.com/mirage/ocaml-crunch/releases/download/v2.1.0/crunch-2.1.0.tbz
[cstruct.3.2.1] downloaded from https://github.com/mirage/ocaml-cstruct/releases/download/v3.2.1/cstruct-3.2.1.tbz
[cstruct-lwt.3.2.1] downloaded from https://github.com/mirage/ocaml-cstruct/releases/download/v3.2.1/cstruct-3.2.1.tbz
[decompress.0.7] downloaded from https://github.com/mirage/decompress/releases/download/v0.7/decompress-0.7.tbz
[dispatch.0.4.0] downloaded from https://github.com/inhabitedtype/ocaml-dispatch/archive/0.4.0.tar.gz
[duration.0.1.1] downloaded from https://github.com/hannesm/duration/releases/download/0.1.1/duration-0.1.1.tbz
[easy-format.1.3.1] downloaded from https://github.com/mjambon/easy-format/archive/v1.3.1.tar.gz
[fieldslib.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/fieldslib-v0.11.0.tar.gz
[git.1.11.5] downloaded from https://github.com/mirage/ocaml-git/releases/download/1.11.5/git-1.11.5.tbz
[git-http.1.11.4] downloaded from https://github.com/mirage/ocaml-git/releases/download/1.11.4/git-1.11.4.tbz
[git-unix.1.11.5] downloaded from https://github.com/mirage/ocaml-git/releases/download/1.11.5/git-1.11.5.tbz
[github.4.0.0] downloaded from https://github.com/mirage/ocaml-github/releases/download/4.0.0/github-4.0.0.tbz
[github-unix.4.0.0] downloaded from https://github.com/mirage/ocaml-github/releases/download/4.0.0/github-4.0.0.tbz
[hex.1.2.0] downloaded from https://github.com/mirage/ocaml-hex/releases/download/v1.2.0/hex-1.2.0.tbz
[io-page.2.0.1] downloaded from https://github.com/mirage/io-page/releases/download/2.0.1/io-page-2.0.1.tbz
[hvsock.1.0.2] downloaded from https://github.com/mirage/ocaml-hvsock/archive/1.0.2.tar.gz
[io-page-unix.2.0.1] downloaded from https://github.com/mirage/io-page/releases/download/2.0.1/io-page-2.0.1.tbz
[ipaddr.3.0.0] downloaded from https://github.com/mirage/ocaml-ipaddr/releases/download/3.0.0/ipaddr-3.0.0.tbz
[irmin.1.4.0] downloaded from https://github.com/mirage/irmin/releases/download/1.4.0/irmin-1.4.0.tbz
[irmin-fs.1.3.0] downloaded from https://github.com/mirage/irmin/releases/download/1.3.0/irmin-1.3.0.tbz
[irmin-mem.1.3.0] found in cache
[irmin-http.1.3.3] downloaded from https://github.com/mirage/irmin/releases/download/1.3.3/irmin-1.3.3.tbz
[irmin-git.1.3.0] downloaded from https://github.com/mirage/irmin/releases/download/1.3.0/irmin-1.3.0.tbz
[jsonm.1.0.1] downloaded from http://erratique.ch/software/jsonm/releases/jsonm-1.0.1.tbz
[irmin-unix.1.3.3] downloaded from https://github.com/mirage/irmin/releases/download/1.3.3/irmin-1.3.3.tbz
[logs.0.6.2] downloaded from http://erratique.ch/software/logs/releases/logs-0.6.2.tbz
[irmin-watcher.0.4.0] downloaded from https://github.com/mirage/irmin-watcher/releases/download/0.4.0/irmin-watcher-0.4.0.tbz
[lwt_ppx.1.2.1] found in cache
[lambda-term.1.13] downloaded from https://github.com/diml/lambda-term/releases/download/1.13/lambda-term-1.13.tbz
[macaddr.3.0.0] found in cache
[lwt_log.1.1.0] downloaded from https://github.com/aantron/lwt_log/archive/1.1.0.tar.gz
[menhir.20181113] downloaded from https://gitlab.inria.fr/fpottier/menhir/repository/20181113/archive.tar.gz
[lwt_react.1.1.1] downloaded from https://github.com/ocsigen/lwt/archive/4.0.0.tar.gz
[magic-mime.1.1.1] downloaded from https://github.com/mirage/ocaml-magic-mime/releases/download/v1.1.1/magic-mime-v1.1.1.tbz
[mirage-channel.3.1.0] downloaded from https://github.com/mirage/mirage-channel/releases/download/v3.1.0/mirage-channel-3.1.0.tbz
[mirage-channel-lwt.3.1.0] downloaded from https://github.com/mirage/mirage-channel/releases/download/v3.1.0/mirage-channel-3.1.0.tbz
[mirage-clock.2.0.0] downloaded from https://github.com/mirage/mirage-clock/releases/download/v2.0.0/mirage-clock-v2.0.0.tbz
[mirage-device.1.1.0] downloaded from https://github.com/mirage/mirage-device/releases/download/v1.1.0/mirage-device-1.1.0.tbz
[mirage-flow.1.5.0] downloaded from https://github.com/mirage/mirage-flow/releases/download/v1.5.0/mirage-flow-1.5.0.tbz
[mirage-flow-lwt.1.5.0] downloaded from https://github.com/mirage/mirage-flow/releases/download/v1.5.0/mirage-flow-1.5.0.tbz
[mirage-kv.1.1.1] downloaded from https://github.com/mirage/mirage-kv/releases/download/v1.1.1/mirage-kv-1.1.1.tbz
[mirage-kv-lwt.1.1.0] downloaded from https://github.com/mirage/mirage-kv/releases/download/v1.1.0/mirage-kv-1.1.0.tbz
[mirage-time.1.1.0] downloaded from https://github.com/mirage/mirage-time/releases/download/v1.1.0/mirage-time-1.1.0.tbz
[mtime.1.1.0] downloaded from http://erratique.ch/software/mtime/releases/mtime-1.1.0.tbz
[mirage-time-lwt.1.1.0] downloaded from https://github.com/mirage/mirage-time/releases/download/v1.1.0/mirage-time-1.1.0.tbz
[mstruct.1.4.0] downloaded from https://github.com/mirage/ocaml-mstruct/releases/download/v1.4.0/mstruct-1.4.0.tbz
[named-pipe.0.4.0] downloaded from https://github.com/mirage/ocaml-named-pipe/releases/download/0.4.0/named-pipe-0.4.0.tbz
[multipart-form-data.0.2.0] downloaded from https://github.com/cryptosense/multipart-form-data/releases/download/v0.2.0/multipart-form-data-0.2.0.tbz
[ocaml-compiler-libs.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/ocaml-compiler-libs-v0.11.0.tar.gz
[nocrypto.0.5.4-1] downloaded from https://github.com/mirleft/ocaml-nocrypto/releases/download/v0.5.4/nocrypto-0.5.4.tbz
[num.1.1] downloaded from https://github.com/ocaml/num/archive/v1.1.tar.gz
[ocamlgraph.1.8.8] downloaded from http://ocamlgraph.lri.fr/download/ocamlgraph-1.8.8.tar.gz
[ocaml-migrate-parsetree.1.2.0] downloaded from https://github.com/ocaml-ppx/ocaml-migrate-parsetree/releases/download/v1.2.0/ocaml-migrate-parsetree-v1.2.0.tbz
[ocb-stubblr.0.1.1-1] downloaded from https://github.com/pqwy/ocb-stubblr/releases/download/v0.1.1/ocb-stubblr-0.1.1.tbz
[parsexp.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/parsexp-v0.11.0.tar.gz
[ppx_cstruct.3.2.1] found in cache
[pbkdf.0.3.0] downloaded from https://github.com/abeaumont/ocaml-pbkdf/archive/0.3.0.tar.gz
[ocplib-endian.1.0] downloaded from https://github.com/OCamlPro/ocplib-endian/archive/1.0.tar.gz
[ppx_derivers.1.0] downloaded from https://github.com/ocaml-ppx/ppx_derivers/archive/1.0.tar.gz
[ppx_fields_conv.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/ppx_fields_conv-v0.11.0.tar.gz
[ppx_deriving.4.2.1] downloaded from https://github.com/ocaml-ppx/ppx_deriving/archive/v4.2.1.tar.gz
[ppx_sexp_conv.v0.11.2] downloaded from https://github.com/janestreet/ppx_sexp_conv/archive/v0.11.2.tar.gz
[ppx_tools.5.1+4.06.0] downloaded from https://github.com/ocaml-ppx/ppx_tools/archive/5.1+4.06.0.tar.gz
[ppx_tools_versioned.5.2.1] downloaded from https://github.com/ocaml-ppx/ppx_tools_versioned/archive/5.2.1.tar.gz
[prometheus.0.5] downloaded from https://github.com/mirage/prometheus/releases/download/v0.5/prometheus-0.5.tbz
[ppxlib.0.5.0] downloaded from https://github.com/ocaml-ppx/ppxlib/releases/download/0.5.0/ppxlib-0.5.0.tbz
[prometheus-app.0.5] downloaded from https://github.com/mirage/prometheus/releases/download/v0.5/prometheus-0.5.tbz
[ptime.0.8.4] downloaded from http://erratique.ch/software/ptime/releases/ptime-0.8.4.tbz
[protocol-9p.0.12.1] downloaded from https://github.com/mirage/ocaml-9p/archive/0.12.1.tar.gz
[react.1.2.1] downloaded from http://erratique.ch/software/react/releases/react-1.2.1.tbz
[protocol-9p-unix.0.12.1] downloaded from https://github.com/mirage/ocaml-9p/archive/0.12.1.tar.gz
[re.1.8.0] downloaded from https://github.com/ocaml/ocaml-re/releases/download/1.8.0/re-1.8.0.tbz
[rresult.0.6.0] downloaded from http://erratique.ch/software/rresult/releases/rresult-0.6.0.tbz
[redis.0.3.6] downloaded from https://github.com/0xffea/ocaml-redis/archive/0.3.6.tar.gz
[redis-lwt.0.3.6] downloaded from https://github.com/0xffea/ocaml-redis/archive/0.3.6.tar.gz
[session.0.4.0] downloaded from https://github.com/inhabitedtype/ocaml-session/archive/0.4.0.tar.gz
[session-webmachine.0.4.0] found in cache
[session-cohttp.0.4.0] downloaded from https://github.com/inhabitedtype/ocaml-session/archive/0.4.0.tar.gz
[session-redis-lwt.0.4.0] downloaded from https://github.com/inhabitedtype/ocaml-session/archive/0.4.0.tar.gz
[sexplib.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/sexplib-v0.11.0.tar.gz
[sexplib0.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/sexplib0-v0.11.0.tar.gz
[stdio.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/stdio-v0.11.0.tar.gz
[stringext.1.5.0] downloaded from https://github.com/rgrinberg/stringext/archive/1.5.0.zip
[tls.0.9.3] downloaded from https://github.com/mirleft/ocaml-tls/releases/download/0.9.3/tls-0.9.3.tbz
[tyxml.4.3.0] downloaded from https://github.com/ocsigen/tyxml/releases/download/4.3.0/tyxml-4.3.0.tbz
[uutf.1.0.1] downloaded from http://erratique.ch/software/uutf/releases/uutf-1.0.1.tbz
[uri.2.1.0] downloaded from https://github.com/mirage/ocaml-uri/releases/download/v2.1.0/uri-v2.1.0.tbz
[win-error.0.3] downloaded from https://github.com/djs55/ocaml-win-error/archive/0.3.tar.gz
[win-eventlog.0.2] downloaded from https://github.com/djs55/ocaml-win-eventlog/archive/v0.2.tar.gz
[webmachine.0.5.0] downloaded from https://github.com/inhabitedtype/ocaml-webmachine/archive/0.5.0.tar.gz
[yojson.1.5.0] downloaded from https://github.com/ocaml-community/yojson/releases/download/1.5.0/yojson-1.5.0.tbz
[x509.0.6.2] downloaded from https://github.com/mirleft/ocaml-x509/releases/download/0.6.2/x509-0.6.2.tbz
[zarith.1.7] downloaded from https://github.com/ocaml/Zarith/archive/release-1.7.tar.gz
[zed.1.6] downloaded from https://github.com/diml/zed/releases/download/1.6/zed-1.6.tbz

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> installed mirage-no-solo5.1
-> installed mirage-no-xen.1
-> installed seq.base
-> installed asetmap.0.8.1
-> installed conf-gmp.1
-> installed conf-perl.1
-> installed conf-which.1
-> installed cppo_ocamlbuild.1.6.0
-> installed crunch.2.1.0
-> installed decompress.0.7
-> installed dispatch.0.4.0
-> installed duration.0.1.1
-> installed easy-format.1.3.1
-> installed logs.0.6.2
-> installed lwt_log.1.1.0
-> installed magic-mime.1.1.1
-> installed mirage-device.1.1.0
-> installed mirage-flow.1.5.0
-> installed mtime.1.1.0
-> installed ocaml-compiler-libs.v0.11.0
-> installed ppx_derivers.1.0
-> installed ppx_tools.5.1+4.06.0
-> installed asl.0.11
-> installed base64.2.3.0
-> installed biniou.1.2.0
-> installed calendar.2.04
-> installed camomile.1.0.1
-> installed irmin-watcher.0.4.0
-> installed mirage-channel.3.1.0
-> installed mirage-clock.2.0.0
-> installed mirage-kv.1.1.1
-> installed mirage-time.1.1.0
-> installed num.1.1
-> installed menhir.20181113
-> installed mirage-time-lwt.1.1.0
-> installed ocaml-migrate-parsetree.1.2.0
-> installed ocamlgraph.1.8.8
-> installed atd.2.0.0
-> installed ocb-stubblr.0.1.1-1
-> installed ocplib-endian.1.0
-> installed cpuid.0.1.1
-> installed ppx_tools_versioned.5.2.1
-> installed ptime.0.8.4
-> installed re.1.8.0
-> installed react.1.2.1
-> installed rresult.0.6.0
-> installed sexplib0.v0.11.0
-> installed stringext.1.5.0
-> installed uutf.1.0.1
-> installed win-error.0.3
-> installed win-eventlog.0.2
-> installed yojson.1.5.0
-> installed zarith.1.7
-> installed jsonm.1.0.1
-> installed lwt_ppx.1.2.1
-> installed lwt_react.1.1.1
-> installed macaddr.3.0.0
-> installed named-pipe.0.4.0
-> installed parsexp.v0.11.0
-> installed ppx_deriving.4.2.1
-> installed prometheus.0.5
-> installed redis.0.3.6
-> installed zed.1.6
-> installed base.v0.11.1
-> installed tyxml.4.3.0
-> installed atdgen-runtime.2.0.0
-> installed multipart-form-data.0.2.0
-> installed ipaddr.3.0.0
-> installed sexplib.v0.11.0
-> installed redis-lwt.0.3.6
-> installed lambda-term.1.13
-> installed stdio.v0.11.0
-> installed atdgen.2.0.0
-> installed cstruct.3.2.1
-> installed configurator.v0.11.0
-> installed cstruct-lwt.3.2.1
-> installed datakit-client.0.12.0
-> installed datakit-server.0.12.0
-> installed asn1-combinators.0.2.0
-> installed hex.1.2.0
-> installed mirage-flow-lwt.1.5.0
-> installed mirage-kv-lwt.1.1.0
-> installed mstruct.1.4.0
-> installed ppx_cstruct.3.2.1
-> installed io-page.2.0.1
-> installed hvsock.1.0.2
-> installed io-page-unix.2.0.1
-> installed mirage-channel-lwt.3.1.0
-> installed ppxlib.0.5.0
-> installed fieldslib.v0.11.0
-> installed ppx_sexp_conv.v0.11.2
-> installed ppx_fields_conv.v0.11.0
-> installed uri.2.1.0
-> installed protocol-9p.0.12.1
-> installed conduit.1.4.0
-> installed datakit-server-9p.0.12.0
-> installed cohttp.1.2.0
-> installed git.1.11.5
-> installed nocrypto.0.5.4-1
-> installed irmin.1.4.0
-> installed protocol-9p-unix.0.12.1
-> installed conduit-lwt.1.4.0
-> installed cohttp-lwt.1.2.0
-> installed webmachine.0.5.0
-> installed pbkdf.0.3.0
-> installed session.0.4.0
-> installed x509.0.6.2
-> installed irmin-fs.1.3.0
-> installed irmin-git.1.3.0
-> installed irmin-mem.1.3.0
-> installed datakit-client-9p.0.12.0
-> installed git-http.1.11.4
-> installed irmin-http.1.3.3
-> installed session-cohttp.0.4.0
-> installed session-redis-lwt.0.4.0
-> installed session-webmachine.0.4.0
-> installed github.4.0.0
-> installed tls.0.9.3
-> installed conduit-lwt-unix.1.4.0
-> installed cohttp-lwt-unix.1.2.0
-> installed prometheus-app.0.5
-> installed datakit.0.12.0
-> installed git-unix.1.11.5
-> installed datakit-client-git.0.12.0
-> installed datakit-github.0.12.0
-> installed github-unix.4.0.0
-> installed irmin-unix.1.3.3
Done.
# Run eval $(opam env) to update the current shell environment
 ---> 6900ff4bb600
Removing intermediate container d68b3740aea3
Step 12/16 : COPY . /home/opam/src/datakit
 ---> 4ab6001f334b
Removing intermediate container 2b07cfae0860
Step 13/16 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in d93b4c696fa1
 ---> eb8cafc3a3f0
Removing intermediate container d93b4c696fa1
Step 14/16 : RUN opam update --dev && opam upgrade
 ---> Running in 0ae4df4fd0ec

<><> Synchronising development packages <><><><><><><><><><><><><><><><><><><><>
[datakit.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-bridge-github.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-bridge-local-git.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-ci.0.12.1] synchronised from file:///home/opam/src/datakit
[datakit-client.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-client-9p.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-client-git.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-github.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-server.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-server-9p.0.12.0] synchronised from file:///home/opam/src/datakit
Now run 'opam upgrade' to apply any package updates.
The following actions will be performed:
  - recompile datakit-server     0.12.0* [upstream changes]
  - recompile datakit-client     0.12.0* [upstream changes]
  - recompile datakit-server-9p  0.12.0* [upstream changes]
  - recompile datakit-client-git 0.12.0* [upstream changes]
  - recompile datakit-client-9p  0.12.0* [upstream changes]
  - recompile datakit            0.12.0* [upstream changes]
  - recompile datakit-github     0.12.0* [upstream changes]
===== 7 to recompile =====

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> removed   datakit-github.0.12.0
-> removed   datakit-client-9p.0.12.0
-> removed   datakit-client-git.0.12.0
-> removed   datakit-client.0.12.0
-> installed datakit-client.0.12.0
-> removed   datakit.0.12.0
-> removed   datakit-server-9p.0.12.0
-> removed   datakit-server.0.12.0
-> installed datakit-server.0.12.0
-> installed datakit-client-9p.0.12.0
-> installed datakit-client-git.0.12.0
-> installed datakit-server-9p.0.12.0
-> installed datakit-github.0.12.0
-> installed datakit.0.12.0
Done.
# Run eval $(opam env) to update the current shell environment
 ---> 0ced38938240
Removing intermediate container 0ae4df4fd0ec
Step 15/16 : RUN opam install datakit-ci -ytv
 ---> Running in a72d957eda1a

<><> Synchronising pinned packages ><><><><><><><><><><><><><><><><><><><><><><>
Processing  1/1: [datakit-ci.0.12.1: rsync]
[datakit-ci.0.12.1] no changes from file:///home/opam/src/datakit

The following actions will be performed:
  - install datakit-ci 0.12.1*

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
Processing  1/2: [datakit-ci: dune build]
+ /home/opam/.opam/4.07/bin/dune "build" "-p" "datakit-ci" "-j" "127" (CWD=/home/opam/.opam/4.07/.opam-switch/build/datakit-ci.0.12.1)
- ocaml-crunch ci/src/cI_static.ml
- Generating cI_static.ml
- Skipping generation of .mli
Processing  1/2: [datakit-ci: dune runtest]
+ /home/opam/.opam/4.07/bin/dune "runtest" "ci/tests" (CWD=/home/opam/.opam/4.07/.opam-switch/build/datakit-ci.0.12.1)
-      test_ci alias ci/tests/runtest
- /bin/sh: tput: not found
- stty: 'standard input': Not a tty
- Testing datakit-ci.
- This run has ID `67B37006-4D66-4EAA-B45D-E183F160AB42`.
- [33m ...[m                [36mci[m          0   Simple.[32m[OK][m                [36mci[m          0   Simple.
- [33m ...[m                [36mci[m          1   Branch.[32m[OK][m                [36mci[m          1   Branch.
- [33m ...[m                [36mci[m          2   Circle rebuild.[32m[OK][m                [36mci[m          2   Circle rebuild.
- [33m ...[m                [36mci[m          3   Logs.[32m[OK][m                [36mci[m          3   Logs.
- [33m ...[m                [36mci[m          4   Cancel.[32m[OK][m                [36mci[m          4   Cancel.
- [33m ...[m                [36mci[m          5   Cache (disk).[32m[OK][m                [36mci[m          5   Cache (disk).
- [33m ...[m                [36mci[m          6   Cache (memory).[32m[OK][m                [36mci[m          6   Cache (memory).
- [33m ...[m                [36mci[m          7   Test pending.[32m[OK][m                [36mci[m          7   Test pending.
- [33m ...[m                [36mci[m          8   Git.[32m[OK][m                [36mci[m          8   Git.
- [33m ...[m                [36mci[m          9   Git (clone).[32m[OK][m                [36mci[m          9   Git (clone).
- [33m ...[m                [36mci[m         10   Git tag.[32m[OK][m                [36mci[m         10   Git tag.
- [33m ...[m                [36mci[m         11   Cross-project.[32m[OK][m                [36mci[m         11   Cross-project.
- [33m ...[m                [36mci[m         12   Auth.[32m[OK][m                [36mci[m         12   Auth.
- [33m ...[m                [36mci[m         13   Roles.[32m[OK][m                [36mci[m         13   Roles.
- [33m ...[m                [36mci[m         14   Live logs.[32m[OK][m                [36mci[m         14   Live logs.
- [33m ...[m                [36mci[m         15   History.[32m[OK][m                [36mci[m         15   History.
- [33m ...[m                [36mci[m         16   Process.[32m[OK][m                [36mci[m         16   Process.
- The full test results are available in `/home/opam/.opam/4.07/.opam-switch/build/datakit-ci.0.12.1/_build/default/ci/tests/_build/_tests/67B37006-4D66-4EAA-B45D-E183F160AB42`.
- [32mTest Successful[m in 0.344s. 17 tests run.
-> compiled  datakit-ci.0.12.1
-> installed datakit-ci.0.12.1
Done.
# Run eval $(opam env) to update the current shell environment
 ---> 26ca36fe2d9f
Removing intermediate container a72d957eda1a
Step 16/16 : VOLUME /secrets
 ---> Running in 97bd627c3d51
 ---> be8927cc328c
Removing intermediate container 97bd627c3d51
Successfully built be8927cc328c
[2019-01-18 11:22.52] Success
