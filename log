=== Docker build Dockerfile.ci
[2017-04-26 09:09.37] Starting...
Cloning into '/tmp/with_clone802584c'...
done.
warning: remote HEAD refers to nonexistent ref, unable to checkout.

HEAD is now at f348d54 ci: also move to cmdliner.1.0 and Irmin.1.0
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.132 MB
Step 1/16 : FROM ocaml/opam-dev@sha256:337fd0f78b182a12da3f66d9d5ca075dbb79df414fc01d6a0aee99ffeb35552a
sha256:337fd0f78b182a12da3f66d9d5ca075dbb79df414fc01d6a0aee99ffeb35552a: Pulling from ocaml/opam-dev
Digest: sha256:337fd0f78b182a12da3f66d9d5ca075dbb79df414fc01d6a0aee99ffeb35552a
Status: Image is up to date for ocaml/opam-dev@sha256:337fd0f78b182a12da3f66d9d5ca075dbb79df414fc01d6a0aee99ffeb35552a
 ---> 9107a2254d1d
Step 2/16 : ENV OPAMERRLOGLEN 0 OPAMYES 1
 ---> Using cache
 ---> 90b67f82c489
Step 3/16 : RUN sudo apk add tzdata aspcud
 ---> Using cache
 ---> 1a4e4ce8b7ee
Step 4/16 : RUN opam pin add hvsock.0.14.0 -n https://github.com/mirage/ocaml-hvsock.git#88397c37a910c61507a9655ed8413c1692294da0
 ---> Using cache
 ---> afaec49f149c
Step 5/16 : RUN opam pin add irmin.1.1.0 -n https://github.com/mirage/irmin.git#89196ad17c53b02f333022a87ecc264ec8c06af0
 ---> Using cache
 ---> e276a27b48b0
Step 6/16 : RUN opam pin add irmin-git.1.1.0 -n https://github.com/mirage/irmin.git#89196ad17c53b02f333022a87ecc264ec8c06af0
 ---> Using cache
 ---> ba98ccd23980
Step 7/16 : RUN opam pin add -yn protocol-9p.0.9.0 'https://github.com/talex5/ocaml-9p.git#ping-mirage-3'
 ---> Using cache
 ---> fa7176c4d885
Step 8/16 : RUN opam depext -i asl win-eventlog camlzip alcotest mtime mirage-flow hvsock git irmin irmin-unix lwt protocol-9p tyxml redis multipart-form-data pbkdf tls prometheus-app github git session irmin irmin-unix cmdliner webmachine
 ---> Running in 621b883fc81d
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - gmp-dev
#  - linux-headers
#  - m4
#  - ncurses-dev
#  - openssl-dev
#  - pcre-dev
#  - perl
#  - pkgconfig
#  - zlib-dev
ncurses-dev
pkgconf
# The following new OS packages need to be installed: gmp-dev linux-headers m4 openssl-dev pcre-dev perl zlib-dev
The following command needs to be run through "sudo":
    apk add gmp-dev linux-headers m4 openssl-dev pcre-dev perl zlib-dev
(1/13) Installing libgmpxx (6.1.1-r0)
(2/13) Installing gmp-dev (6.1.1-r0)
(3/13) Installing linux-headers (4.4.6-r1)
(4/13) Installing m4 (1.4.17-r1)
(5/13) Installing zlib-dev (1.2.8-r2)
(6/13) Installing libcrypto1.0 (1.0.2k-r0)
(7/13) Installing libssl1.0 (1.0.2k-r0)
(8/13) Installing openssl-dev (1.0.2k-r0)
(9/13) Installing libpcre16 (8.39-r0)
(10/13) Installing libpcre32 (8.39-r0)
(11/13) Installing libpcrecpp (8.39-r0)
(12/13) Installing pcre-dev (8.39-r0)
(13/13) Installing perl (5.24.0-r0)
Executing busybox-1.25.1-r0.trigger
OK: 643 MiB in 102 packages
# OS packages installation successful
# Now letting OPAM install the packages

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[protocol-9p.0.9.0] no changes from git+https://github.com/talex5/ocaml-9p.git#ping-mirage-3
[hvsock.0.14.0] no changes from git+https://github.com/mirage/ocaml-hvsock.git#88397c37a910c61507a9655ed8413c1692294da0
[irmin.1.1.0] no changes from git+https://github.com/mirage/irmin.git#89196ad17c53b02f333022a87ecc264ec8c06af0

The following actions will be performed:
  - install conf-gmp                1                           [required by zarith]
  - install mirage-no-xen           1                           [required by nocrypto]
  - install conf-m4                 1                           [required by ocamlfind]
  - install uchar                   0.0.1                       [required by tyxml]
  - install mirage-no-solo5         1                           [required by nocrypto]
  - install conf-perl               1                           [required by zarith]
  - install conf-which              1                           [required by bos]
  - install result                  1.2                         [required by tls, protocol-9p, cmdliner, etc.]
  - install ocamlfind               1.7.1                       [required by webmachine, tls, redis, etc.]
  - install zarith                  1.4.1                       [required by nocrypto, asn1-combinators]
  - install topkg                   0.9.0                       [required by protocol-9p, multipart-form-data, mirage-flow, etc.]
  - install ppx_tools               5.0                         [required by tls, lwt, protocol-9p, tyxml]
  - install ocamlmod                0.0.8                       [required by oasis]
  - install ocamlify                0.0.1                       [required by oasis]
  - install ocamlgraph              1.8.7                       [required by git, irmin]
  - install menhir                  20170101                    [required by atd]
  - install magic-mime              1.0.0                       [required by cohttp]
  - install jbuilder                1.0+beta7                   [required by fieldslib, ppx_sexp_conv, ppx_fields_conv]
  - install easy-format             1.2.0                       [required by biniou, atd, yojson]
  - install dispatch                0.3.0                       [required by webmachine]
  - install camlzip                 1.07
  - install calendar                2.03.2                      [required by webmachine]
  - install base-bytes              base                        [required by redis, hvsock, protocol-9p, tyxml]
  - install rresult                 0.5.0                       [required by protocol-9p]
  - install react                   1.2.1                       [required by lwt]
  - install ptime                   0.8.3                       [required by tls]
  - install mtime                   0.8.4
  - install duration                0.1.0                       [required by hvsock]
  - install cmdliner                1.0.0
  - install astring                 0.8.3                       [required by irmin, alcotest, git, protocol-9p]
  - install asetmap                 0.8.1                       [required by prometheus]
  - install oasis                   0.4.8                       [required by x509]
  - install sexplib                 v0.9.1                      [required by protocol-9p, tls]
  - install ppx_traverse_builtins   v0.9.0                      [required by ppx_core, ppx_metaquot]
  - install ocaml-migrate-parsetree 1.0                         [required by fieldslib, cstruct, ppx_sexp_conv, ppx_fields_conv]
  - install ocaml-compiler-libs     v0.9.0                      [required by ppx_core]
  - install biniou                  1.0.12                      [required by atdgen]
  - install atd                     1.2.0                       [required by atdgen]
  - install win-error               0.2                         [required by protocol-9p]
  - install stringext               1.4.3                       [required by github, multipart-form-data]
  - install re                      1.7.1                       [required by tyxml, redis, webmachine]
  - install cppo                    1.4.1                       [required by lwt]
  - install base64                  2.1.2                       [required by cohttp]
  - install uutf                    1.0.1                       [required by tyxml]
  - install uuidm                   0.9.6                       [required by redis]
  - install fmt                     0.8.3                       [required by prometheus-app, irmin, git, etc.]
  - install crunch                  2.0.0                       [required by irmin-http]
  - install ocb-stubblr             0.1.1                       [required by irmin-watcher, named-pipe]
  - install fpath                   0.7.1                       [required by bos]
  - install base                    v0.9.1                      [required by fieldslib]
  - install ppx_tools_versioned     5.0beta1                    [required by cstruct]
  - install ppx_ast                 v0.9.1                      [required by ppx_core]
  - install yojson                  1.3.3                       [required by github]
  - install ppx_deriving            4.1                         [required by protocol-9p, tls]
  - install ocplib-endian           1.0                         [required by cstruct]
  - install lwt                     2.7.1
       For module Lwt_react, please install package lwt_react
  - install camomile                0.8.5                       [required by zed]
  - install tyxml                   4.1.0
       For tyxml's ppx, please install tyxml-ppx.
  - install jsonm                   1.0.1                       [required by irmin]
  - install mirage-flow             1.2.0
  - install mirage-device           1.0.0                       [required by mirage-time, mirage-kv]
  - install alcotest                0.7.2
  - install cpuid                   0.1.1                       [required by nocrypto]
  - install stdio                   v0.9.0                      [required by ppx_core]
  - install atdgen                  1.10.0                      [required by github]
  - install redis                   0.3.3
  - install prometheus              0.1                         [required by prometheus-app, protocol-9p]
  - install named-pipe              0.4.0                       [required by protocol-9p]
  - install multipart-form-data     0.1.0
  - install logs                    0.6.2                       [required by protocol-9p, hvsock, asl, etc.]
  - install cstruct                 2.4.0                       [required by protocol-9p, irmin, hvsock, etc.]
  - install zed                     1.4                         [required by lambda-term]
  - install mirage-channel          3.0.0                       [required by mirage-channel-lwt]
  - install mirage-time             1.0.0                       [required by mirage-time-lwt]
  - install mirage-kv               1.0.0                       [required by mirage-kv-lwt]
  - install mirage-clock            1.2.0                       [required by tls]
  - install ppx_core                v0.9.0                      [required by ppx_sexp_conv, ppx_fields_conv]
  - install win-eventlog            0.1
  - install irmin-watcher           0.2.0                       [required by irmin-unix]
  - install bos                     0.1.5                       [required by hvsock]
  - install asl                     0.10
  - install mstruct                 1.3.2                       [required by git]
  - install io-page                 1.6.1                       [required by mirage-channel-lwt]
  - install hex                     1.0.0                       [required by git, irmin]
  - install asn1-combinators        0.1.3                       [required by x509]
  - install lambda-term             1.10.1                      [required by github, protocol-9p]
  - install mirage-time-lwt         1.0.0                       [required by hvsock]
  - install mirage-kv-lwt           1.0.0                       [required by protocol-9p, tls]
  - install mirage-flow-lwt         1.2.0                       [required by protocol-9p, hvsock, tls]
  - install ppx_optcomp             v0.9.0                      [required by conduit]
  - install mirage-channel-lwt      3.0.0                       [required by protocol-9p]
  - install hvsock                  0.14.0*
  - install ppx_driver              v0.9.0                      [required by fieldslib, ppx_sexp_conv, conduit, ppx_fields_conv]
  - install ppx_metaquot            v0.9.0                      [required by ppx_sexp_conv, ppx_fields_conv]
  - install fieldslib               v0.9.0                      [required by cohttp]
  - install ppx_type_conv           v0.9.0                      [required by ppx_sexp_conv, ppx_fields_conv]
  - install ppx_sexp_conv           v0.9.0                      [required by protocol-9p, tls]
  - install ppx_fields_conv         v0.9.0                      [required by cohttp]
  - install uri                     1.9.2                       [required by github, git, irmin]
  - install protocol-9p             0.9.0*
  - install nocrypto                0.5.4                       [required by session, pbkdf, tls]
  - install ipaddr                  2.7.2                       [required by conduit]
  - install irmin                   1.1.0*
  - install git                     1.10.0
  - install x509                    0.5.3                       [required by tls]
  - install pbkdf                   0.2.0
  - install irmin-git               1.1.0*                      [required by irmin-unix]
  - install tls                     0.8.0
  - install conduit                 0.15.0                      [required by cohttp, git-unix]
  - install cohttp                  0.22.0                      [required by session, github, prometheus-app, webmachine]
  - install webmachine              0.4.0
  - install prometheus-app          0.1
  - install github                  2.3.0
  - install git-http                1.10.0                      [required by git-unix]
  - install session                 0.3.0
  - install irmin-http              1.0.0                       [required by irmin-unix]
  - install git-unix                1.10.1                      [required by irmin-unix]
  - install irmin-unix              1.0.2
===== 118 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[asetmap.0.8.1] downloaded from http://erratique.ch/software/asetmap/releases/asetmap-0.8.1.tbz
[asl.0.10] downloaded from https://github.com/mirage/ocaml-asl/archive/v0.10.tar.gz
[astring.0.8.3] downloaded from http://erratique.ch/software/astring/releases/astring-0.8.3.tbz
[alcotest.0.7.2] downloaded from https://github.com/mirage/alcotest/releases/download/0.7.2/alcotest-0.7.2.tbz
[asn1-combinators.0.1.3] downloaded from https://github.com/mirleft/ocaml-asn1-combinators/releases/download/v0.1.3/asn1-combinators-0.1.3.tbz
[atd.1.2.0] downloaded from https://github.com/mjambon/atd/archive/v1.2.0.tar.gz
[atdgen.1.10.0] downloaded from https://github.com/mjambon/atdgen/archive/v1.10.0.tar.gz
[base.v0.9.1] downloaded from https://github.com/janestreet/base/archive/v0.9.1.tar.gz
[bos.0.1.5] downloaded from http://erratique.ch/software/bos/releases/bos-0.1.5.tbz
[calendar.2.03.2] downloaded from http://forge.ocamlcore.org/frs/download.php/915/calendar-2.03.2.tar.gz
[base64.2.1.2] downloaded from https://github.com/mirage/ocaml-base64/releases/download/v2.1.2/base64-2.1.2.tbz
[biniou.1.0.12] downloaded from https://github.com/mjambon/biniou/archive/v1.0.12.tar.gz
[cmdliner.1.0.0] downloaded from http://erratique.ch/software/cmdliner/releases/cmdliner-1.0.0.tbz
[camlzip.1.07] downloaded from https://github.com/xavierleroy/camlzip/archive/rel107.zip
[cohttp.0.22.0] downloaded from https://github.com/mirage/ocaml-cohttp/archive/v0.22.0.tar.gz
[conduit.0.15.0] downloaded from https://github.com/mirage/ocaml-conduit/archive/v0.15.0.tar.gz
[cppo.1.4.1] downloaded from https://github.com/mjambon/cppo/archive/v1.4.1.tar.gz
[cpuid.0.1.1] downloaded from https://github.com/pqwy/cpuid/releases/download/v0.1.1/cpuid-0.1.1.tbz
[crunch.2.0.0] downloaded from https://github.com/mirage/ocaml-crunch/releases/download/2.0.0/crunch-2.0.0.tbz
[cstruct.2.4.0] downloaded from https://github.com/mirage/ocaml-cstruct/archive/v2.4.0.tar.gz
[dispatch.0.3.0] downloaded from https://github.com/inhabitedtype/ocaml-dispatch/archive/0.3.0.tar.gz
[duration.0.1.0] downloaded from https://github.com/hannesm/duration/releases/download/0.1.0/duration-0.1.0.tbz
[fieldslib.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/fieldslib-v0.9.0.tar.gz
[fmt.0.8.3] downloaded from http://erratique.ch/software/fmt/releases/fmt-0.8.3.tbz
[easy-format.1.2.0] downloaded from https://github.com/mjambon/easy-format/archive/v1.2.0.tar.gz
[fpath.0.7.1] downloaded from http://erratique.ch/software/fpath/releases/fpath-0.7.1.tbz
[camomile.0.8.5] downloaded from https://github.com/yoriyuki/Camomile/releases/download/rel-0.8.5/camomile-0.8.5.tar.bz2
[git-http.1.10.0] downloaded from https://github.com/mirage/ocaml-git/releases/download/1.10.0/git-1.10.0.tbz
[git.1.10.0] downloaded from https://github.com/mirage/ocaml-git/releases/download/1.10.0/git-1.10.0.tbz
[github.2.3.0] downloaded from https://github.com/mirage/ocaml-github/archive/v2.3.0.tar.gz
[hex.1.0.0] downloaded from https://github.com/mirage/ocaml-hex/archive/1.0.0.tar.gz
[git-unix.1.10.1] downloaded from https://github.com/mirage/ocaml-git/releases/download/1.10.1/git-1.10.1.tbz
[io-page.1.6.1] downloaded from https://github.com/mirage/io-page/archive/v1.6.1.tar.gz
[ipaddr.2.7.2] downloaded from https://github.com/mirage/ocaml-ipaddr/releases/download/2.7.2/ipaddr-2.7.2.tbz
[hvsock.0.14.0] synchronised from git+https://github.com/mirage/ocaml-hvsock.git#88397c37a910c61507a9655ed8413c1692294da0
[irmin-http.1.0.0] downloaded from https://github.com/mirage/irmin/releases/download/1.0.0/irmin-1.0.0.tbz
[irmin.1.1.0] synchronised from git+https://github.com/mirage/irmin.git#89196ad17c53b02f333022a87ecc264ec8c06af0
[irmin-git.1.1.0] synchronised from git+https://github.com/mirage/irmin.git#89196ad17c53b02f333022a87ecc264ec8c06af0
[irmin-watcher.0.2.0] downloaded from https://github.com/samoht/irmin-watcher/releases/download/0.2.0/irmin-watcher-0.2.0.tbz
[jsonm.1.0.1] downloaded from http://erratique.ch/software/jsonm/releases/jsonm-1.0.1.tbz
[irmin-unix.1.0.2] downloaded from https://github.com/mirage/irmin/releases/download/1.0.2/irmin-1.0.2.tbz
[logs.0.6.2] downloaded from http://erratique.ch/software/logs/releases/logs-0.6.2.tbz
[jbuilder.1.0+beta7] downloaded from https://github.com/janestreet/jbuilder/archive/1.0+beta7.tar.gz
[lambda-term.1.10.1] downloaded from https://github.com/diml/lambda-term/archive/1.10.1.tar.gz
[menhir.20170101] downloaded from http://gallium.inria.fr/~fpottier/menhir/menhir-20170101.tar.gz
[lwt.2.7.1] downloaded from https://github.com/ocsigen/lwt/archive/2.7.1.tar.gz
[magic-mime.1.0.0] downloaded from https://github.com/mirage/ocaml-magic-mime/archive/v1.0.0.tar.gz
[mirage-channel.3.0.0] downloaded from https://github.com/mirage/mirage-channel/releases/download/v3.0.0/mirage-channel-3.0.0.tbz
[mirage-channel-lwt.3.0.0] downloaded from https://github.com/mirage/mirage-channel/releases/download/v3.0.0/mirage-channel-lwt-3.0.0.tbz
[mirage-clock.1.2.0] downloaded from https://github.com/mirage/mirage-clock/releases/download/1.2.0/mirage-clock-1.2.0.tbz
[mirage-device.1.0.0] downloaded from https://github.com/mirage/mirage-device/releases/download/1.0.0/mirage-device-1.0.0.tbz
[mirage-flow.1.2.0] downloaded from https://github.com/mirage/mirage-flow/releases/download/1.2.0/mirage-flow-1.2.0.tbz
[mirage-flow-lwt.1.2.0] downloaded from https://github.com/mirage/mirage-flow/releases/download/1.2.0/mirage-flow-lwt-1.2.0.tbz
[mirage-kv.1.0.0] downloaded from https://github.com/mirage/mirage-kv/releases/download/1.0.0/mirage-kv-1.0.0.tbz
[mirage-kv-lwt.1.0.0] downloaded from https://github.com/mirage/mirage-kv/releases/download/1.0.0/mirage-kv-lwt-1.0.0.tbz
[mirage-time.1.0.0] downloaded from https://github.com/mirage/mirage-time/releases/download/1.0.0/mirage-time-1.0.0.tbz
[mtime.0.8.4] downloaded from http://erratique.ch/software/mtime/releases/mtime-0.8.4.tbz
[mirage-time-lwt.1.0.0] downloaded from https://github.com/mirage/mirage-time/releases/download/1.0.0/mirage-time-lwt-1.0.0.tbz
[multipart-form-data.0.1.0] downloaded from https://github.com/cryptosense/multipart-form-data/releases/download/v0.1.0/multipart-form-data-0.1.0.tbz
[mstruct.1.3.2] downloaded from https://github.com/mirage/ocaml-mstruct/archive/1.3.2.tar.gz
[oasis.0.4.8] downloaded from https://forge.ocamlcore.org/frs/download.php/1669/oasis-0.4.8.tar.gz
[named-pipe.0.4.0] downloaded from https://github.com/mirage/ocaml-named-pipe/releases/download/0.4.0/named-pipe-0.4.0.tbz
[ocaml-compiler-libs.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ocaml-compiler-libs-v0.9.0.tar.gz
[ocamlfind.1.7.1] downloaded from http://download.camlcity.org/download/findlib-1.7.1.tar.gz
[ocamlgraph.1.8.7] downloaded from http://ocamlgraph.lri.fr/download/ocamlgraph-1.8.7.tar.gz
[ocamlify.0.0.1] downloaded from http://forge.ocamlcore.org/frs/download.php/379/ocamlify-0.0.1.tar.gz
[ocaml-migrate-parsetree.1.0] downloaded from https://github.com/let-def/ocaml-migrate-parsetree/archive/v1.0.tar.gz
[ocamlmod.0.0.8] downloaded from https://forge.ocamlcore.org/frs/download.php/1544/ocamlmod-0.0.8.tar.gz
[ocb-stubblr.0.1.1] downloaded from https://github.com/pqwy/ocb-stubblr/releases/download/v0.1.1/ocb-stubblr-0.1.1.tbz
[ocplib-endian.1.0] downloaded from https://github.com/OCamlPro/ocplib-endian/archive/1.0.tar.gz
[pbkdf.0.2.0] downloaded from https://github.com/abeaumont/ocaml-pbkdf/archive/0.2.0.tar.gz
[ppx_ast.v0.9.1] downloaded from https://github.com/janestreet/ppx_ast/archive/v0.9.1.tar.gz
[ppx_core.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_core-v0.9.0.tar.gz
[ppx_driver.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_driver-v0.9.0.tar.gz
[ppx_deriving.4.1] downloaded from https://github.com/whitequark/ppx_deriving/archive/v4.1.tar.gz
[ppx_fields_conv.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_fields_conv-v0.9.0.tar.gz
[ppx_metaquot.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_metaquot-v0.9.0.tar.gz
[ppx_optcomp.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_optcomp-v0.9.0.tar.gz
[ppx_sexp_conv.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_sexp_conv-v0.9.0.tar.gz
[ppx_tools.5.0] downloaded from https://github.com/alainfrisch/ppx_tools/tarball/f70ca1d07d565989a0041e312e8efc00ff2ad87e
[ppx_tools_versioned.5.0beta1] downloaded from https://github.com/let-def/ppx_tools_versioned/archive/5.0beta1.tar.gz
[nocrypto.0.5.4] downloaded from https://github.com/mirleft/ocaml-nocrypto/releases/download/v0.5.4/nocrypto-0.5.4.tbz
[ppx_traverse_builtins.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_traverse_builtins-v0.9.0.tar.gz
[ppx_type_conv.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_type_conv-v0.9.0.tar.gz
[prometheus.0.1] downloaded from https://github.com/mirage/prometheus/releases/download/v0.1/prometheus-0.1.tbz
[ptime.0.8.3] downloaded from http://erratique.ch/software/ptime/releases/ptime-0.8.3.tbz
[prometheus-app.0.1] downloaded from https://github.com/mirage/prometheus/releases/download/v0.1/prometheus-0.1.tbz
[react.1.2.1] downloaded from http://erratique.ch/software/react/releases/react-1.2.1.tbz
[protocol-9p.0.9.0] synchronised from git+https://github.com/talex5/ocaml-9p.git#ping-mirage-3
[re.1.7.1] downloaded from https://github.com/ocaml/ocaml-re/archive/1.7.1.tar.gz
[redis.0.3.3] downloaded from https://github.com/0xffea/ocaml-redis/archive/0.3.3.tar.gz
[rresult.0.5.0] downloaded from http://erratique.ch/software/rresult/releases/rresult-0.5.0.tbz
[result.1.2] downloaded from https://github.com/janestreet/result/archive/1.2.tar.gz
[stdio.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/stdio-v0.9.0.tar.gz
[sexplib.v0.9.1] downloaded from https://github.com/janestreet/sexplib/archive/v0.9.1.tar.gz
[session.0.3.0] downloaded from https://github.com/inhabitedtype/ocaml-session/archive/0.3.0.tar.gz
[topkg.0.9.0] downloaded from http://erratique.ch/software/topkg/releases/topkg-0.9.0.tbz
[stringext.1.4.3] downloaded from https://github.com/rgrinberg/stringext/archive/v1.4.3.tar.gz
[tyxml.4.1.0] downloaded from https://github.com/ocsigen/tyxml/archive/4.1.0.tar.gz
[uchar.0.0.1] downloaded from https://github.com/ocaml/uchar/releases/download/v0.0.1/uchar-0.0.1.tbz
[uuidm.0.9.6] downloaded from http://erratique.ch/software/uuidm/releases/uuidm-0.9.6.tbz
[uutf.1.0.1] downloaded from http://erratique.ch/software/uutf/releases/uutf-1.0.1.tbz
[uri.1.9.2] downloaded from https://github.com/mirage/ocaml-uri/archive/v1.9.2.tar.gz
[webmachine.0.4.0] downloaded from https://github.com/inhabitedtype/ocaml-webmachine/archive/0.4.0.tar.gz
[tls.0.8.0] downloaded from https://github.com/mirleft/ocaml-tls/releases/download/0.8.0/tls-0.8.0.tbz
[win-error.0.2] downloaded from https://github.com/djs55/ocaml-win-error/archive/v0.2.tar.gz
[win-eventlog.0.1] downloaded from https://github.com/djs55/ocaml-win-eventlog/archive/v0.1.tar.gz
[zarith.1.4.1] downloaded from https://forge.ocamlcore.org/frs/download.php/1574/zarith-1.4.1.tgz
[x509.0.5.3] downloaded from https://github.com/mirleft/ocaml-x509/archive/0.5.3.tar.gz
[yojson.1.3.3] downloaded from https://github.com/mjambon/yojson/archive/v1.3.3.tar.gz
[zed.1.4] downloaded from https://github.com/diml/zed/archive/1.4.tar.gz

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> installed conf-gmp.1
-> installed conf-m4.1
-> installed conf-perl.1
-> installed conf-which.1
-> installed mirage-no-solo5.1
-> installed mirage-no-xen.1
-> installed ocamlfind.1.7.1
-> installed base-bytes.base
-> installed calendar.2.03.2
-> installed camlzip.1.07
-> installed cppo.1.4.1
-> installed camomile.0.8.5
-> installed easy-format.1.2.0
-> installed biniou.1.0.12
-> installed jbuilder.1.0+beta7
-> installed magic-mime.1.0.0
-> installed menhir.20170101
-> installed atd.1.2.0
-> installed ocaml-compiler-libs.v0.9.0
-> installed ocamlgraph.1.8.7
-> installed ocamlify.0.0.1
-> installed ocamlmod.0.0.8
-> installed oasis.0.4.8
-> installed ocplib-endian.1.0
-> installed ppx_tools.5.0
-> installed ppx_traverse_builtins.v0.9.0
-> installed re.1.7.1
-> installed result.1.2
-> installed dispatch.0.3.0
-> installed ocaml-migrate-parsetree.1.0
-> installed ppx_ast.v0.9.1
-> installed ppx_deriving.4.1
-> installed ppx_tools_versioned.5.0beta1
-> installed sexplib.v0.9.1
-> installed base.v0.9.1
-> installed stdio.v0.9.0
-> installed ppx_core.v0.9.0
-> installed ppx_optcomp.v0.9.0
-> installed ppx_driver.v0.9.0
-> installed fieldslib.v0.9.0
-> installed ppx_metaquot.v0.9.0
-> installed ppx_type_conv.v0.9.0
-> installed ppx_fields_conv.v0.9.0
-> installed ppx_sexp_conv.v0.9.0
-> installed stringext.1.4.3
-> installed topkg.0.9.0
-> installed asetmap.0.8.1
-> installed astring.0.8.3
-> installed base64.2.1.2
-> installed cmdliner.1.0.0
-> installed crunch.2.0.0
-> installed duration.0.1.0
-> installed fpath.0.7.1
-> installed ipaddr.2.7.2
-> installed mtime.0.8.4
-> installed ocb-stubblr.0.1.1
-> installed cpuid.0.1.1
-> installed ptime.0.8.3
-> installed react.1.2.1
-> installed lwt.2.7.1
-> installed cstruct.2.4.0
-> installed hex.1.0.0
-> installed io-page.1.6.1
-> installed mstruct.1.3.2
-> installed multipart-form-data.0.1.0
-> installed named-pipe.0.4.0
-> installed rresult.0.5.0
-> installed uchar.0.0.1
-> installed fmt.0.8.3
-> installed alcotest.0.7.2
-> installed logs.0.6.2
-> installed asl.0.10
-> installed bos.0.1.5
-> installed irmin-watcher.0.2.0
-> installed mirage-device.1.0.0
-> installed mirage-clock.1.2.0
-> installed mirage-flow.1.2.0
-> installed mirage-channel.3.0.0
-> installed mirage-flow-lwt.1.2.0
-> installed mirage-channel-lwt.3.0.0
-> installed mirage-kv.1.0.0
-> installed mirage-kv-lwt.1.0.0
-> installed mirage-time.1.0.0
-> installed mirage-time-lwt.1.0.0
-> installed hvsock.0.14.0
-> installed prometheus.0.1
-> installed uri.1.9.2
-> installed git.1.10.0
-> installed uuidm.0.9.6
-> installed redis.0.3.3
-> installed uutf.1.0.1
-> installed jsonm.1.0.1
-> installed irmin.1.1.0
-> installed irmin-git.1.1.0
-> installed tyxml.4.1.0
-> installed win-error.0.2
-> installed win-eventlog.0.1
-> installed yojson.1.3.3
-> installed atdgen.1.10.0
-> installed zarith.1.4.1
-> installed asn1-combinators.0.1.3
-> installed nocrypto.0.5.4
-> installed pbkdf.0.2.0
-> installed x509.0.5.3
-> installed tls.0.8.0
-> installed conduit.0.15.0
-> installed cohttp.0.22.0
-> installed git-http.1.10.0
-> installed git-unix.1.10.1
-> installed prometheus-app.0.1
-> installed webmachine.0.4.0
-> installed irmin-http.1.0.0
[91m[ERROR] The compilation of irmin-unix failed at "ocaml pkg/pkg.ml build --pinned false -n irmin-unix --tests false".
[0m-> installed session.0.3.0
-> installed zed.1.4
-> installed lambda-term.1.10.1
-> installed github.2.3.0
-> installed protocol-9p.0.9.0
[91m
#=== ERROR while compiling irmin-unix.1.0.2 ===================================#
# command              ocaml pkg/pkg.ml build --pinned false -n irmin-unix --tests false
# path                 /home/opam/.opam/default/.opam-switch/build/irmin-unix.1.0.2
# exit-code            1
# env-file             /home/opam/.opam/log/irmin-unix-7-156e0f.env
# output-file          /home/opam/.opam/log/irmin-unix-7-156e0f.out
### output ###
# ocamlfind ocamldep -package 'irmin irmin-git irmin-http irmin-watcher git-unix' -package 'cstruct fmt hex logs lwt ocamlgraph re astring uri jsonm' -package irmin-git,irmin-http -modules src-unix/irmin_unix.ml > src-unix/irmin_unix.ml.depends
# ocamlfind ocamldep -package 'irmin irmin-git irmin-http irmin-watcher git-unix' -package 'cstruct fmt hex logs lwt ocamlgraph re astring uri jsonm' -package irmin-git,irmin-http -modules src-unix/irmin_unix.mli > src-unix/irmin_unix.mli.depends
# ocamlfind ocamlc -c -g -bin-annot -short-paths -thread -strict-sequence -package 'irmin irmin-git irmin-http irmin-watcher git-unix' -package 'cstruct fmt hex logs lwt ocamlgraph re astring uri jsonm' -warn-error +1..49+60 -w A-4-41-44-7 -package irmin-git,irmin-http -I src-unix -o src-unix/irmin_unix.cmi src-unix/irmin_unix.mli
# ocamlfind ocamlopt -c -g -bin-annot -short-paths -thread -strict-sequence -package 'irmin irmin-git irmin-http irmin-watcher git-unix' -package 'cstruct fmt hex logs lwt ocamlgraph re astring uri jsonm' -warn-error +1..49+60 -w A-4-41-44-7 -package irmin-git,irmin-http -I src-unix -o src-unix/irmin_unix.cmx src-unix/irmin_unix.ml
# ocamlfind ocamlopt -a -thread -package 'irmin irmin-git irmin-http irmin-watcher git-unix' -package 'cstruct fmt hex logs lwt ocamlgraph re astring uri jsonm' -package irmin-git,irmin-http -I src-unix src-unix/irmin_unix.cmx -o src-unix/irmin-unix.cmxa
# ocamlfind ocamlopt -shared -linkall -thread -package 'irmin irmin-git irmin-http irmin-watcher git-unix' -package 'cstruct fmt hex logs lwt ocamlgraph re astring uri jsonm' -package irmin-git,irmin-http -I src-unix src-unix/irmin-unix.cmxa -o src-unix/irmin-unix.cmxs
# ocamlfind ocamlc -c -g -bin-annot -short-paths -thread -strict-sequence -package 'irmin irmin-git irmin-http irmin-watcher git-unix' -package 'cstruct fmt hex logs lwt ocamlgraph re astring uri jsonm' -warn-error +1..49+60 -w A-4-41-44-7 -package irmin-git,irmin-http -I src-unix -o src-unix/irmin_unix.cmo src-unix/irmin_unix.ml
# ocamlfind ocamlc -a -thread -package 'irmin irmin-git irmin-http irmin-watcher git-unix' -package 'cstruct fmt hex logs lwt ocamlgraph re astring uri jsonm' -package irmin-git,irmin-http -I src-unix src-unix/irmin_unix.cmo -o src-unix/irmin-unix.cma
# ocamlfind ocamldep -package 'cmdliner git-unix fmt.cli logs.fmt fmt.tty logs.cli' -package irmin-watcher -package 'cstruct fmt hex logs lwt ocamlgraph re astring uri jsonm' -package irmin-git,irmin-http -modules bin/main.ml > bin/main.ml.depends
# ocamlfind ocamldep -package 'cmdliner git-unix fmt.cli logs.fmt fmt.tty logs.cli' -package irmin-watcher -package 'cstruct fmt hex logs lwt ocamlgraph re astring uri jsonm' -package irmin-git,irmin-http -modules bin/ir_cli.mli > bin/ir_cli.mli.depends
# ocamlfind ocamlc -c -g -bin-annot -short-paths -thread -strict-sequence -package 'cmdliner git-unix fmt.cli logs.fmt fmt.tty logs.cli' -package irmin-watcher -package 'cstruct fmt hex logs lwt ocamlgraph re astring uri jsonm' -warn-error +1..49+60 -w A-4-41-44-7 -package irmin-git,irmin-http -I bin -I src-unix -o bin/ir_cli.cmi bin/ir_cli.mli
# ocamlfind ocamlc -c -g -bin-annot -short-paths -thread -strict-sequence -package 'cmdliner git-unix fmt.cli logs.fmt fmt.tty logs.cli' -package irmin-watcher -package 'cstruct fmt hex logs lwt ocamlgraph re astring uri jsonm' -warn-error +1..49+60 -w A-4-41-44-7 -package irmin-git,irmin-http -I bin -I src-unix -o bin/main.cmo bin/main.ml
# ocamlfind ocamldep -package 'cmdliner git-unix fmt.cli logs.fmt fmt.tty logs.cli' -package irmin-watcher -package 'cstruct fmt hex logs lwt ocamlgraph re astring uri jsonm' -package irmin-git,irmin-http -modules bin/ir_cli.ml > bin/ir_cli.ml.depends
# ocamlfind ocamldep -package 'cmdliner git-unix fmt.cli logs.fmt fmt.tty logs.cli' -package irmin-watcher -package 'cstruct fmt hex logs lwt ocamlgraph re astring uri jsonm' -package irmin-git,irmin-http -modules bin/ir_resolver.ml > bin/ir_resolver.ml.depends
# ocamlfind ocamldep -package 'cmdliner git-unix fmt.cli logs.fmt fmt.tty logs.cli' -package irmin-watcher -package 'cstruct fmt hex logs lwt ocamlgraph re astring uri jsonm' -package irmin-git,irmin-http -modules bin/ir_resolver.mli > bin/ir_resolver.mli.depends
# ocamlfind ocamlc -c -g -bin-annot -short-paths -thread -strict-sequence -package 'cmdliner git-unix fmt.cli logs.fmt fmt.tty logs.cli' -package irmin-watcher -package 'cstruct fmt hex logs lwt ocamlgraph re astring uri jsonm' -warn-error +1..49+60 -w A-4-41-44-7 -package irmin-git,irmin-http -I bin -I src-unix -o bin/ir_resolver.cmi bin/ir_resolver.mli
# ocamlfind ocamlopt -c -g -bin-annot -short-paths -thread -strict-sequence -package 'cmdliner git-unix fmt.cli logs.fmt fmt.tty logs.cli' -package irmin-watcher -package 'cstruct fmt hex logs lwt ocamlgraph re astring uri jsonm' -warn-error +1..49+60 -w A-4-41-44-7 -package irmin-git,irmin-http -I bin -I src-unix -o bin/ir_resolver.cmx bin/ir_resolver.ml
# ocamlfind ocamlopt -c -g -bin-annot -short-paths -thread -strict-sequence -package 'cmdliner git-unix fmt.cli logs.fmt fmt.tty logs.cli' -package irmin-watcher -package 'cstruct fmt hex logs lwt ocamlgraph re astring uri jsonm' -warn-error +1..49+60 -w A-4-41-44-7 -package irmin-git,irmin-http -I bin -I src-unix -o bin/ir_cli.cmx bin/ir_cli.ml
# + ocamlfind ocamlopt -c -g -bin-annot -short-paths -thread -strict-sequence -package 'cmdliner git-unix fmt.cli logs.fmt fmt.tty logs.cli' -package irmin-watcher -package 'cstruct fmt hex logs lwt ocamlgraph re astring uri jsonm' -warn-error +1..49+60 -w A-4-41-44-7 -package irmin-git,irmin-http -I bin -I src-unix -o bin/ir_cli.cmx bin/ir_cli.ml
# File "bin/ir_cli.ml", line 418, characters 35-40:
# Error: This expression has type S.tree Conduit_lwt_unix.io
#        but an expression was expected of type
#          S.tree option Conduit_lwt_unix.io
#        Type
#          S.tree = [ `Contents of S.contents * S.metadata | `Node of S.node ]
#        is not compatible with type S.tree option 
# Command exited with code 2.
# pkg.ml: [ERROR] cmd ['ocamlbuild' '-use-ocamlfind' '-classic-display' '-tag' 'debug'
#      '-build-dir' '_build' '-Is' 'src-unix' '-package' 'irmin-git,irmin-http'
#      'CHANGES.md' 'LICENSE.md' 'README.md' 'pkg/META.unix' 'irmin-unix.opam'
#      'src-unix/irmin-unix.a' 'src-unix/irmin-unix.cmxs'
#      'src-unix/irmin-unix.cmxa' 'src-unix/irmin-unix.cma'
#      'src-unix/irmin_unix.cmx' 'src-unix/irmin_unix.cmi'
#      'src-unix/irmin_unix.mli' 'bin/main.native']: exited with 10

[0m

=-=- Error report -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
+- The following actions failed
| - build irmin-unix 1.0.2
+- 
+- The following changes have been performed
| - install alcotest                0.7.2
| - install asetmap                 0.8.1
| - install asl                     0.10
| - install asn1-combinators        0.1.3
| - install astring                 0.8.3
| - install atd                     1.2.0
| - install atdgen                  1.10.0
| - install base                    v0.9.1
| - install base-bytes              base
| - install base64                  2.1.2
| - install biniou                  1.0.12
| - install bos                     0.1.5
| - install calendar                2.03.2
| - install camlzip                 1.07
| - install camomile                0.8.5
| - install cmdliner                1.0.0
| - install cohttp                  0.22.0
| - install conduit                 0.15.0
| - install conf-gmp                1
| - install conf-m4                 1
| - install conf-perl               1
| - install conf-which              1
| - install cppo                    1.4.1
| - install cpuid                   0.1.1
| - install crunch                  2.0.0
| - install cstruct                 2.4.0
| - install dispatch                0.3.0
| - install duration                0.1.0
| - install easy-format             1.2.0
| - install fieldslib               v0.9.0
| - install fmt                     0.8.3
| - install fpath                   0.7.1
| - install git                     1.10.0
| - install git-http                1.10.0
| - install git-unix                1.10.1
| - install github                  2.3.0
| - install hex                     1.0.0
| - install hvsock                  0.14.0
| - install io-page                 1.6.1
| - install ipaddr                  2.7.2
| - install irmin                   1.1.0
| - install irmin-git               1.1.0
| - install irmin-http              1.0.0
| - install irmin-watcher           0.2.0
| - install jbuilder                1.0+beta7
| - install jsonm                   1.0.1
| - install lambda-term             1.10.1
| - install logs                    0.6.2
| - install lwt                     2.7.1
| - install magic-mime              1.0.0
| - install menhir                  20170101
| - install mirage-channel          3.0.0
| - install mirage-channel-lwt      3.0.0
| - install mirage-clock            1.2.0
| - install mirage-device           1.0.0
| - install mirage-flow             1.2.0
| - install mirage-flow-lwt         1.2.0
| - install mirage-kv               1.0.0
| - install mirage-kv-lwt           1.0.0
| - install mirage-no-solo5         1
| - install mirage-no-xen           1
| - install mirage-time             1.0.0
| - install mirage-time-lwt         1.0.0
| - install mstruct                 1.3.2
| - install mtime                   0.8.4
| - install multipart-form-data     0.1.0
| - install named-pipe              0.4.0
| - install nocrypto                0.5.4
| - install oasis                   0.4.8
| - install ocaml-compiler-libs     v0.9.0
| - install ocaml-migrate-parsetree 1.0
| - install ocamlfind               1.7.1
| - install ocamlgraph              1.8.7
| - install ocamlify                0.0.1
| - install ocamlmod                0.0.8
| - install ocb-stubblr             0.1.1
| - install ocplib-endian           1.0
| - install pbkdf                   0.2.0
| - install ppx_ast                 v0.9.1
| - install ppx_core                v0.9.0
| - install ppx_deriving            4.1
| - install ppx_driver              v0.9.0
| - install ppx_fields_conv         v0.9.0
| - install ppx_metaquot            v0.9.0
| - install ppx_optcomp             v0.9.0
| - install ppx_sexp_conv           v0.9.0
| - install ppx_tools               5.0
| - install ppx_tools_versioned     5.0beta1
| - install ppx_traverse_builtins   v0.9.0
| - install ppx_type_conv           v0.9.0
| - install prometheus              0.1
| - install prometheus-app          0.1
| - install protocol-9p             0.9.0
| - install ptime                   0.8.3
| - install re                      1.7.1
| - install react                   1.2.1
| - install redis                   0.3.3
| - install result                  1.2
| - install rresult                 0.5.0
| - install session                 0.3.0
| - install sexplib                 v0.9.1
| - install stdio                   v0.9.0
| - install stringext               1.4.3
| - install tls                     0.8.0
| - install topkg                   0.9.0
| - install tyxml                   4.1.0
| - install uchar                   0.0.1
| - install uri                     1.9.2
| - install uuidm                   0.9.6
| - install uutf                    1.0.1
| - install webmachine              0.4.0
| - install win-error               0.2
| - install win-eventlog            0.1
| - install x509                    0.5.3
| - install yojson                  1.3.3
| - install zarith                  1.4.1
| - install zed                     1.4
+- 
# Run eval `opam env` to update the current shell environment
[91m
The former state can be restored with:
    opam switch import "/home/opam/.opam/default/.opam-switch/backup/state-20170426091005.export"
[0mThe command '/bin/sh -c opam depext -i asl win-eventlog camlzip alcotest mtime mirage-flow hvsock git irmin irmin-unix lwt protocol-9p tyxml redis multipart-form-data pbkdf tls prometheus-app github git session irmin irmin-unix cmdliner webmachine' returned a non-zero code: 4
[2017-04-26 09:18.28] Failed: Command "docker" "build" "--pull" "-f" "Dockerfile.ci" "." exited with status 4
