=== Docker build Dockerfile.client
[2017-02-17 11:41.58] Starting...
Cloning into '/tmp/with_clone23f91380'...
done.
HEAD is now at 81a5461 ci: add link to build history on GitHub
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 6.128 MBSending build context to Docker daemon 6.685 MBSending build context to Docker daemon 7.001 MB
Step 1/15 : FROM ocaml/opam:alpine
alpine: Pulling from ocaml/opam
b7f33cc0b48e: Already exists
3032d0792072: Already exists
2cb4a0d9223a: Pulling fs layer
1f1d1290cb4e: Pulling fs layer
2cb4a0d9223a: Verifying Checksum
2cb4a0d9223a: Download complete
2cb4a0d9223a: Pull complete
1f1d1290cb4e: Verifying Checksum
1f1d1290cb4e: Download complete
1f1d1290cb4e: Pull complete
Digest: sha256:1c6e47f331fbd41a40eb7f6debdc482f476295bfc060e6de542f651a6d69229f
Status: Downloaded newer image for ocaml/opam:alpine
 ---> bff4aaa9492c
Step 2/15 : ENV OPAMERRLOGLEN 0 OPAMYES 1
 ---> Running in 5996add800f8
 ---> 2d71f7b90bec
Removing intermediate container 5996add800f8
Step 3/15 : RUN cd /home/opam/opam-repository && git pull && opam update -y
 ---> Running in a7bb4b8b845e
[91mFrom git://github.com/ocaml/opam-repository
   b31f6cb..810fbda  master     -> origin/master
[0mUpdating b31f6cb..810fbda
Fast-forward
 .../4.05.0+beta1+flambda/4.05.0+beta1+flambda.comp    | 17 +++++++++++++++++
 .../4.05.0+beta1+flambda/4.05.0+beta1+flambda.descr   |  1 +
 .../4.05.0+beta1.comp}                                |  8 ++++++--
 compilers/4.05.0/4.05.0+beta1/4.05.0+beta1.descr      |  2 ++
 compilers/4.05.0/4.05.0+pr1019/4.05.0+pr1019.descr    |  1 -
 compilers/4.05.0/4.05.0+pr1033/4.05.0+pr1033.comp     | 11 -----------
 compilers/4.05.0/4.05.0+pr1033/4.05.0+pr1033.descr    |  1 -
 .../4.05.0+pr1043.comp}                               |  2 +-
 compilers/4.05.0/4.05.0+pr1043/4.05.0+pr1043.descr    |  1 +
 .../4.05.0+pr1044.comp}                               |  2 +-
 compilers/4.05.0/4.05.0+pr1044/4.05.0+pr1044.descr    |  1 +
 compilers/4.05.0/4.05.0+pr886/4.05.0+pr886.comp       | 11 -----------
 compilers/4.05.0/4.05.0+pr886/4.05.0+pr886.descr      |  1 -
 compilers/4.05.0/4.05.0+pr965/4.05.0+pr965.descr      |  1 -
 compilers/4.05.0/4.05.0+pr966/4.05.0+pr966.descr      |  1 -
 compilers/4.05.0/4.05.0+pr998/4.05.0+pr998.descr      |  1 -
 .../4.05.0/4.05.0+trunk+afl/4.05.0+trunk+afl.comp     |  2 +-
 .../4.05.0+trunk+flambda/4.05.0+trunk+flambda.comp    |  2 +-
 .../4.05.0+trunk+fp+flambda.comp                      |  2 +-
 compilers/4.05.0/4.05.0+trunk+fp/4.05.0+trunk+fp.comp |  2 +-
 .../4.05.0+trunk+safe-string.comp                     |  2 +-
 .../4.05.0+trunk+safe-string.descr                    |  2 +-
 compilers/4.05.0/4.05.0+trunk/4.05.0+trunk.comp       |  2 +-
 compilers/4.05.0/4.05.0+trunk/4.05.0+trunk.descr      |  2 +-
 .../4.06.0/4.06.0+trunk+afl/4.06.0+trunk+afl.comp     | 15 +++++++++++++++
 .../4.06.0/4.06.0+trunk+afl/4.06.0+trunk+afl.descr    |  1 +
 .../4.06.0+trunk+flambda/4.06.0+trunk+flambda.comp    | 17 +++++++++++++++++
 .../4.06.0+trunk+flambda/4.06.0+trunk+flambda.descr   |  1 +
 .../4.06.0+trunk+fp+flambda.comp                      | 17 +++++++++++++++++
 .../4.06.0+trunk+fp+flambda.descr                     |  1 +
 compilers/4.06.0/4.06.0+trunk+fp/4.06.0+trunk+fp.comp | 17 +++++++++++++++++
 .../4.06.0/4.06.0+trunk+fp/4.06.0+trunk+fp.descr      |  1 +
 .../4.06.0+trunk+safe-string.comp                     | 11 +++++++++++
 .../4.06.0+trunk+safe-string.descr                    |  1 +
 .../4.06.0+trunk/4.06.0+trunk.comp}                   | 10 +++++++---
 compilers/4.06.0/4.06.0+trunk/4.06.0+trunk.descr      |  1 +
 packages/mqtt/mqtt.0.0.1/opam                         |  2 +-
 packages/mqtt/mqtt.0.0.2/descr                        |  1 +
 packages/mqtt/mqtt.0.0.2/opam                         | 19 +++++++++++++++++++
 packages/mqtt/mqtt.0.0.2/url                          |  2 ++
 40 files changed, 151 insertions(+), 44 deletions(-)
 create mode 100644 compilers/4.05.0/4.05.0+beta1+flambda/4.05.0+beta1+flambda.comp
 create mode 100644 compilers/4.05.0/4.05.0+beta1+flambda/4.05.0+beta1+flambda.descr
 rename compilers/4.05.0/{4.05.0+pr998/4.05.0+pr998.comp => 4.05.0+beta1/4.05.0+beta1.comp} (62%)
 create mode 100644 compilers/4.05.0/4.05.0+beta1/4.05.0+beta1.descr
 delete mode 100644 compilers/4.05.0/4.05.0+pr1019/4.05.0+pr1019.descr
 delete mode 100644 compilers/4.05.0/4.05.0+pr1033/4.05.0+pr1033.comp
 delete mode 100644 compilers/4.05.0/4.05.0+pr1033/4.05.0+pr1033.descr
 rename compilers/4.05.0/{4.05.0+pr965/4.05.0+pr965.comp => 4.05.0+pr1043/4.05.0+pr1043.comp} (80%)
 create mode 100644 compilers/4.05.0/4.05.0+pr1043/4.05.0+pr1043.descr
 rename compilers/4.05.0/{4.05.0+pr966/4.05.0+pr966.comp => 4.05.0+pr1044/4.05.0+pr1044.comp} (79%)
 create mode 100644 compilers/4.05.0/4.05.0+pr1044/4.05.0+pr1044.descr
 delete mode 100644 compilers/4.05.0/4.05.0+pr886/4.05.0+pr886.comp
 delete mode 100644 compilers/4.05.0/4.05.0+pr886/4.05.0+pr886.descr
 delete mode 100644 compilers/4.05.0/4.05.0+pr965/4.05.0+pr965.descr
 delete mode 100644 compilers/4.05.0/4.05.0+pr966/4.05.0+pr966.descr
 delete mode 100644 compilers/4.05.0/4.05.0+pr998/4.05.0+pr998.descr
 create mode 100644 compilers/4.06.0/4.06.0+trunk+afl/4.06.0+trunk+afl.comp
 create mode 100644 compilers/4.06.0/4.06.0+trunk+afl/4.06.0+trunk+afl.descr
 create mode 100644 compilers/4.06.0/4.06.0+trunk+flambda/4.06.0+trunk+flambda.comp
 create mode 100644 compilers/4.06.0/4.06.0+trunk+flambda/4.06.0+trunk+flambda.descr
 create mode 100644 compilers/4.06.0/4.06.0+trunk+fp+flambda/4.06.0+trunk+fp+flambda.comp
 create mode 100644 compilers/4.06.0/4.06.0+trunk+fp+flambda/4.06.0+trunk+fp+flambda.descr
 create mode 100644 compilers/4.06.0/4.06.0+trunk+fp/4.06.0+trunk+fp.comp
 create mode 100644 compilers/4.06.0/4.06.0+trunk+fp/4.06.0+trunk+fp.descr
 create mode 100644 compilers/4.06.0/4.06.0+trunk+safe-string/4.06.0+trunk+safe-string.comp
 create mode 100644 compilers/4.06.0/4.06.0+trunk+safe-string/4.06.0+trunk+safe-string.descr
 rename compilers/{4.05.0/4.05.0+pr1019/4.05.0+pr1019.comp => 4.06.0/4.06.0+trunk/4.06.0+trunk.comp} (56%)
 create mode 100644 compilers/4.06.0/4.06.0+trunk/4.06.0+trunk.descr
 create mode 100644 packages/mqtt/mqtt.0.0.2/descr
 create mode 100644 packages/mqtt/mqtt.0.0.2/opam
 create mode 100644 packages/mqtt/mqtt.0.0.2/url

=-=- Updating package repositories =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[default: local] Command started
[default: local] Command started
[default: local] Command started
[default] /home/opam/opam-repository synchronized
 ---> b5f37c4b8d79
Removing intermediate container a7bb4b8b845e
Step 4/15 : RUN opam depext -ui lwt alcotest conf-libev
 ---> Running in c457a0e9b552
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - libev-dev
#  - m4
The following command needs to be run through "sudo":
    apk update
fetch http://dl-cdn.alpinelinux.org/alpine/v3.4/main/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.4/community/x86_64/APKINDEX.tar.gz
fetch http://www.cl.cam.ac.uk/~avsm2/alpine-ocaml/3.4/x86_64/APKINDEX.tar.gz
v3.4.6-73-g812244f [http://dl-cdn.alpinelinux.org/alpine/v3.4/main]
v3.4.6-33-g38ef2d2 [http://dl-cdn.alpinelinux.org/alpine/v3.4/community]
testing v3.3.0-55-g55836a9 [http://www.cl.cam.ac.uk/~avsm2/alpine-ocaml/3.4]
OK: 5976 distinct packages available
# OS package update successful
The following command needs to be run through "sudo":
    apk add libev-dev m4
(1/3) Installing libev (4.22-r0)
(2/3) Installing libev-dev (4.22-r0)
(3/3) Installing m4 (1.4.17-r1)
Executing busybox-1.24.2-r13.trigger
OK: 422 MiB in 84 packages
# OS packages installation successful
# Now letting OPAM install the packages
The following actions will be performed:
  - install conf-m4    1                                        [required by ocamlfind]
  - install conf-libev 4-11      
  - install result     1.2                                      [required by alcotest, lwt]
  - install ocamlfind  1.7.1                                    [required by alcotest, lwt]
  - install topkg      0.8.1                                    [required by alcotest]
  - install ppx_tools  5.0+4.03.0                               [required by lwt]
  - install fmt        0.8.0                                    [required by alcotest]
  - install astring    0.8.3                                    [required by alcotest]
  - install lwt        2.7.0     
  - install alcotest   0.7.2     
===== 10 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[alcotest: http] Command started
[astring: http] Command started
[fmt: http] Command started
[astring: http] Command started
[fmt: http] Command started
[astring.0.8.3] http://erratique.ch/software/astring/releases/astring-0.8.3.tbz downloaded
[lwt: http] Command started
[fmt.0.8.0] http://erratique.ch/software/fmt/releases/fmt-0.8.0.tbz downloaded
[ocamlfind: http] Command started
[ocamlfind: http] Command started
[ocamlfind.1.7.1] http://download.camlcity.org/download/findlib-1.7.1.tar.gz downloaded
[ppx_tools: http] Command started
[alcotest: http] Command started
[alcotest.0.7.2] https://github.com/mirage/alcotest/releases/download/0.7.2/alcotest-0.7.2.tbz downloaded
[result: http] Command started
[ppx_tools: http] Command started
[ppx_tools.5.0+4.03.0] https://github.com/alainfrisch/ppx_tools/archive/5.0+4.03.0.tar.gz downloaded
[topkg: http] Command started
[lwt: http] Command started
[lwt.2.7.0] https://github.com/ocsigen/lwt/archive/2.7.0.tar.gz downloaded
[topkg: http] Command started
[topkg.0.8.1] http://erratique.ch/software/topkg/releases/topkg-0.8.1.tbz downloaded
[result: http] Command started
[result.1.2] https://github.com/janestreet/result/archive/1.2.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[conf-libev: sh] Command started
[conf-m4: sh echo | m4] Command started
[result: make] Command started
-> installed conf-m4.1
[ocamlfind: ./configure] Command started
-> installed result.1.2
-> installed conf-libev.4-11
[ocamlfind: make all] Command started
[ocamlfind: make opt] Command started
[ocamlfind: make install] Command started
-> installed ocamlfind.1.7.1
[ppx_tools: make all] Command started
[topkg: ocaml build] Command started
[ppx_tools: make install] Command started
-> installed ppx_tools.5.0+4.03.0
[lwt: make setup] Command started
[lwt: ocaml setup.ml] Command started
-> installed topkg.0.8.1
[astring: ocaml build] Command started
[fmt: ocaml build] Command started
-> installed fmt.0.8.0
-> installed astring.0.8.3
[alcotest: ocaml build] Command started
-> installed alcotest.0.7.2
[lwt: make build] Command started
[lwt: make install] Command started
-> installed lwt.2.7.0
Done.

=-=- lwt.2.7.0 installed successfully -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
=> The future Lwt 3.0.0 will make minor breaking changes near 1 April 2017. See
     https://github.com/ocsigen/lwt/issues/308
 ---> a0bad09405a6
Removing intermediate container c457a0e9b552
Step 5/15 : COPY datakit-client.opam /home/opam/src/datakit/datakit-client.opam
 ---> 6a6036cafda0
Removing intermediate container a32b7da124b5
Step 6/15 : RUN opam pin add datakit-client.dev /home/opam/src/datakit -n
 ---> Running in f52e2e9883ed
datakit-client is now path-pinned to /home/opam/src/datakit

[datakit-client: local]
[datakit-client] /home/opam/src/datakit/ synchronized

 ---> f9115455c8be
Removing intermediate container f52e2e9883ed
Step 7/15 : RUN opam depext datakit-client &&     opam install datakit-client --deps
 ---> Running in c571bf3ad3d2
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - m4
#  - ncurses-dev
#  - pkgconfig
m4
ncurses-dev
pkgconfig
# All required OS packages found.

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: local] Command started
[datakit-client] /home/opam/src/datakit/ already up-to-date
The following actions will be performed:
  - install rresult          0.5.0         
  - install logs             0.6.2         
  - install ocb-stubblr      0.1.0         
  - install base-bytes       base          
  - install ppx_core         113.33.01+4.03
  - install sexplib          113.33.00+4.03
  - install win-error        0.2           
  - install stringext        1.4.3         
  - install re               1.7.1         
  - install named-pipe       0.4.0         
  - install cppo             1.4.1         
  - install ppx_optcomp      113.33.00+4.03
  - install ppx_deriving     4.1           
  - install ocplib-endian    1.0           
  - install ppx_driver       113.33.02+4.03
  - install cstruct          2.3.1         
  - install ppx_type_conv    113.33.02+4.03
  - install io-page          1.6.1         
  - install ppx_sexp_conv    113.33.01+4.03
  - install uri              1.9.2         
  - install ipaddr           2.7.1         
  - install mirage-types     2.8.0         
  - install mirage-types-lwt 2.8.0         
  - install channel          1.1.1         
  - install protocol-9p      0.8.0         
===== 25 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[channel: http] Command started
[cppo: http] Command started
[cstruct: http] Command started
[channel: http] Command started
[channel.1.1.1] https://github.com/mirage/mirage-channel/releases/download/v1.1.1/channel-1.1.1.tbz downloaded
[io-page: http] Command started
[cppo: http] Command started
[cppo.1.4.1] https://github.com/mjambon/cppo/archive/v1.4.1.tar.gz downloaded
[ipaddr: http] Command started
[cstruct: http] Command started
[cstruct.2.3.1] https://github.com/mirage/ocaml-cstruct/archive/v2.3.1.tar.gz downloaded
[logs: http] Command started
[logs: http] Command started
[logs.0.6.2] http://erratique.ch/software/logs/releases/logs-0.6.2.tbz downloaded
[mirage-types: http] Command started
[io-page: http] Command started
[io-page.1.6.1] https://github.com/mirage/io-page/archive/v1.6.1.tar.gz downloaded
[named-pipe: http] Command started
[ipaddr: http] Command started
[ipaddr.2.7.1] https://github.com/mirage/ocaml-ipaddr/releases/download/2.7.1/ipaddr-2.7.1.tbz downloaded
[ocb-stubblr: http] Command started
[mirage-types: http] Command started
[mirage-types.2.8.0] https://github.com/mirage/mirage/archive/v2.8.0.tar.gz downloaded
[ocplib-endian: http] Command started
[ocb-stubblr: http] Command started
[named-pipe: http] Command started
[ocb-stubblr.0.1.0] https://github.com/pqwy/ocb-stubblr/releases/download/v0.1.0/ocb-stubblr-0.1.0.tbz downloaded
[ppx_core: http] Command started
[named-pipe.0.4.0] https://github.com/mirage/ocaml-named-pipe/releases/download/0.4.0/named-pipe-0.4.0.tbz downloaded
[ppx_deriving: http] Command started
[ocplib-endian: http] Command started
[ocplib-endian.1.0] https://github.com/OCamlPro/ocplib-endian/archive/1.0.tar.gz downloaded
[ppx_driver: http] Command started
[ppx_core: http] Command started
[ppx_core.113.33.01+4.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_core-113.33.01+4.03.tar.gz downloaded
[ppx_optcomp: http] Command started
[ppx_driver: http] Command started
[ppx_driver.113.33.02+4.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_driver-113.33.02+4.03.tar.gz downloaded
[ppx_sexp_conv: http] Command started
[ppx_deriving: http] Command started
[ppx_deriving.4.1] https://github.com/whitequark/ppx_deriving/archive/v4.1.tar.gz downloaded
[ppx_type_conv: http] Command started
[ppx_optcomp: http] Command started
[ppx_optcomp.113.33.00+4.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_optcomp-113.33.00+4.03.tar.gz downloaded
[protocol-9p: http] Command started
[ppx_sexp_conv: http] Command started
[ppx_sexp_conv.113.33.01+4.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_sexp_conv-113.33.01+4.03.tar.gz downloaded
[re: http] Command started
[ppx_type_conv: http] Command started
[ppx_type_conv.113.33.02+4.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_type_conv-113.33.02+4.03.tar.gz downloaded
[rresult: http] Command started
[rresult: http] Command started
[rresult.0.5.0] http://erratique.ch/software/rresult/releases/rresult-0.5.0.tbz downloaded
[sexplib: http] Command started
[protocol-9p: http] Command started
[protocol-9p.0.8.0] https://github.com/mirage/ocaml-9p/releases/download/v0.8.0/protocol-9p-0.8.0.tbz downloaded
[stringext: http] Command started
[sexplib: http] Command started
[sexplib.113.33.00+4.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/sexplib-113.33.00+4.03.tar.gz downloaded
[uri: http] Command started
[re: http] Command started
[re.1.7.1] https://github.com/ocaml/ocaml-re/archive/1.7.1.tar.gz downloaded
[win-error: http] Command started
[stringext: http] Command started
[stringext.1.4.3] https://github.com/rgrinberg/stringext/archive/v1.4.3.tar.gz downloaded
[win-error: http] Command started
[win-error.0.2] https://github.com/djs55/ocaml-win-error/archive/v0.2.tar.gz downloaded
[uri: http] Command started
[uri.1.9.2] https://github.com/mirage/ocaml-uri/archive/v1.9.2.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> installed base-bytes.base
[cppo: make opt] Command started
[logs: ocaml build] Command started
[ocb-stubblr: ocaml build] Command started
[ppx_core: ./configure] Command started
-> installed ocb-stubblr.0.1.0
[named-pipe: ocaml build] Command started
[cppo: make ocamlbuild] Command started
[ppx_core: make] Command started
-> installed logs.0.6.2
[re: ocaml setup.ml] Command started
[cppo: make install-lib] Command started
-> installed cppo.1.4.1
[ocplib-endian: ocaml setup.ml] Command started
-> installed named-pipe.0.4.0
[ppx_deriving: ocaml] Command started
[ocplib-endian: ocaml setup.ml] Command started
[re: ocaml setup.ml] Command started
[ocplib-endian: ocaml setup.ml] Command started
-> installed ocplib-endian.1.0
[rresult: ocaml build] Command started
-> installed rresult.0.5.0
[sexplib: ./configure] Command started
[re: ocaml setup.ml] Command started
[sexplib: make] Command started
-> installed re.1.7.1
[stringext: ocaml setup.ml] Command started
-> installed ppx_deriving.4.1
[win-error: make] Command started
[stringext: ocaml setup.ml] Command started
[stringext: ocaml setup.ml] Command started
-> installed stringext.1.4.3
[win-error: make install] Command started
-> installed sexplib.113.33.00+4.03
[cstruct: ./configure] Command started
-> installed win-error.0.2
[cstruct: make] Command started
-> installed ppx_core.113.33.01+4.03
[ppx_optcomp: ./configure] Command started
[ppx_optcomp: make] Command started
[cstruct: make install] Command started
[cstruct: make js-install] Command started
-> installed cstruct.2.3.1
[io-page: ./configure] Command started
[io-page: make] Command started
-> installed ppx_optcomp.113.33.00+4.03
[ppx_driver: ./configure] Command started
[io-page: make install] Command started
[ppx_driver: make] Command started
-> installed io-page.1.6.1
-> installed ppx_driver.113.33.02+4.03
[ppx_type_conv: ./configure] Command started
[ppx_type_conv: make] Command started
-> installed ppx_type_conv.113.33.02+4.03
[ppx_sexp_conv: ./configure] Command started
[ppx_sexp_conv: make] Command started
-> installed ppx_sexp_conv.113.33.01+4.03
[ipaddr: ocaml build] Command started
[uri: ocaml setup.ml] Command started
[uri: ocaml setup.ml] Command started
-> installed ipaddr.2.7.1
[mirage-types: make build-types] Command started
[mirage-types: make install-types] Command started
-> installed mirage-types.2.8.0
-> installed mirage-types-lwt.2.8.0
[channel: ocaml build] Command started
-> installed channel.1.1.1
[protocol-9p: ocaml build] Command started
[uri: ocaml setup.ml] Command started
-> installed uri.1.9.2
-> installed protocol-9p.0.8.0
Done.
 ---> 8f827cb1ebbb
Removing intermediate container c571bf3ad3d2
Step 8/15 : COPY . /home/opam/src/datakit
 ---> 96c994de0366
Removing intermediate container 20b0b9f6168f
Step 9/15 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in 646b8b33ff56
 ---> 8067e37783f7
Removing intermediate container 646b8b33ff56
Step 10/15 : RUN cd /home/opam/src/datakit &&     git diff && git status --porcelain &&     git checkout . && scripts/watermark.sh &&     git status --porcelain
 ---> Running in 06d25275715e
 M src/version.ml
 ---> 15225551c4e6
Removing intermediate container 06d25275715e
Step 11/15 : RUN opam update datakit-client
 ---> Running in 83ce074e515f

=-=- Synchronizing development packages -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: local] Command started
[datakit-client] /home/opam/src/datakit/ synchronized
 ---> 603bcaa4babe
Removing intermediate container 83ce074e515f
Step 12/15 : RUN opam info datakit-client --raw
 ---> Running in cf4b29c369cc
opam-version: "1.2"
name: "datakit-client"
version: "dev"
maintainer: "thomas@gazagnaire.org"
authors: [
  "Thomas Leonard" "Magnus Skjegstad" "David Scott" "Thomas Gazagnaire"
]
homepage: "https://github.com/docker/datakit"
bug-reports: "https://github.com/docker/datakit/issues"
license: "Apache"
doc: "https://docker.github.io/datakit/"
dev-repo: "https://github.com/docker/datakit.git"
build: ["ocaml" "pkg/pkg.ml" "build" "--pinned" "%{pinned}%" "-n" name]
depends: [
  "ocamlfind" {build}
  "ocamlbuild" {build}
  "topkg" {build}
  "base-bytes"
  "astring"
  "logs"
  "uri"
  "rresult"
  "fmt"
  "cstruct" {> "2.2.0"}
  "protocol-9p" {>= "0.7.4"}
  "cmdliner"
]
 ---> d6f328770bb2
Removing intermediate container cf4b29c369cc
Step 13/15 : RUN opam install datakit-client.dev -vv
 ---> Running in df726ed24d84

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/4.03.0/packages.dev/datakit-client"
- sending incremental file list
- 
- sent 8,610 bytes  received 39 bytes  17,298.00 bytes/sec
- total size is 1,296,956  speedup is 149.95
[datakit-client] /home/opam/src/datakit/ already up-to-date
The following actions will be performed:
  - install datakit-client dev*

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/4.03.0/packages.dev/datakit-client"
- sending incremental file list
- 
- sent 8,610 bytes  received 39 bytes  17,298.00 bytes/sec
- total size is 1,296,956  speedup is 149.95
[datakit-client.dev] /home/opam/src/datakit/ already up-to-date

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: ocaml build] Command started
+ ocaml "pkg/pkg.ml" "build" "--pinned" "true" "-n" "datakit-client" (CWD=/home/opam/.opam/4.03.0/build/datakit-client.dev)
- ocamlfind ocamlopt unix.cmxa -I /home/opam/.opam/4.03.0/lib/ocamlbuild /home/opam/.opam/4.03.0/lib/ocamlbuild/ocamlbuildlib.cmxa -linkpkg myocamlbuild.ml /home/opam/.opam/4.03.0/lib/ocamlbuild/ocamlbuild.cmx -o myocamlbuild
- ocamlfind ocamldep -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit-client/datakit_client_9p.ml > src/datakit-client/datakit_client_9p.ml.depends
- ocamlfind ocamldep -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit-client/datakit_client_9p.mli > src/datakit-client/datakit_client_9p.mli.depends
- ocamlfind ocamldep -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit-client/datakit_S.mli > src/datakit-client/datakit_S.mli.depends
- ocamlfind ocamldep -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit-client/datakit_path.mli > src/datakit-client/datakit_path.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src/datakit-client -I src -o src/datakit-client/datakit_path.cmi src/datakit-client/datakit_path.mli
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src/datakit-client -I src -o src/datakit-client/datakit_S.cmi src/datakit-client/datakit_S.mli
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src/datakit-client -I src -o src/datakit-client/datakit_client_9p.cmi src/datakit-client/datakit_client_9p.mli
- ocamlfind ocamldep -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit-client/datakit_path.ml > src/datakit-client/datakit_path.ml.depends
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src/datakit-client -I src -o src/datakit-client/datakit_path.cmx src/datakit-client/datakit_path.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src/datakit-client -I src -o src/datakit-client/datakit_client_9p.cmx src/datakit-client/datakit_client_9p.ml
- ocamlfind ocamlopt -a -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' src/datakit-client/datakit_path.cmx src/datakit-client/datakit_client_9p.cmx -o src/datakit-client/datakit-client.cmxa
- ocamlfind ocamlopt -shared -linkall -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' src/datakit-client/datakit-client.cmxa -o src/datakit-client/datakit-client.cmxs
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src/datakit-client -I src -o src/datakit-client/datakit_client_9p.cmo src/datakit-client/datakit_client_9p.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src/datakit-client -I src -o src/datakit-client/datakit_path.cmo src/datakit-client/datakit_path.ml
- ocamlfind ocamlc -a -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' src/datakit-client/datakit_path.cmo src/datakit-client/datakit_client_9p.cmo -o src/datakit-client/datakit-client.cma
- ocamlfind ocamldep -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit-client/mount.ml > src/datakit-client/mount.ml.depends
- ocamlfind ocamldep -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/version.ml > src/version.ml.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src -I src/datakit-client -o src/version.cmo src/version.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src/datakit-client -I src -o src/datakit-client/mount.cmo src/datakit-client/mount.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src -I src/datakit-client -o src/version.cmx src/version.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src/datakit-client -I src -o src/datakit-client/mount.cmx src/datakit-client/mount.ml
- ocamlfind ocamlopt -linkpkg -g -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' src/version.cmx src/datakit-client/mount.cmx -o src/datakit-client/mount.native
+ install "-m" "0755" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/src/datakit-client/mount.native" "/home/opam/.opam/4.03.0/bin/datakit-mount"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/datakit-client.opam" "/home/opam/.opam/4.03.0/lib/datakit-client/opam"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/pkg/META.client" "/home/opam/.opam/4.03.0/lib/datakit-client/META"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/src/datakit-client/datakit-client.a" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit-client.a"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/src/datakit-client/datakit-client.cma" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit-client.cma"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/src/datakit-client/datakit-client.cmxa" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit-client.cmxa"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/src/datakit-client/datakit-client.cmxs" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit-client.cmxs"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/src/datakit-client/datakit_S.cmi" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_S.cmi"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/src/datakit-client/datakit_S.mli" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_S.mli"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/src/datakit-client/datakit_client_9p.cmi" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_client_9p.cmi"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/src/datakit-client/datakit_client_9p.cmti" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_client_9p.cmti"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/src/datakit-client/datakit_client_9p.cmx" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_client_9p.cmx"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/src/datakit-client/datakit_client_9p.mli" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_client_9p.mli"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/src/datakit-client/datakit_path.cmi" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_path.cmi"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/src/datakit-client/datakit_path.cmti" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_path.cmti"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/src/datakit-client/datakit_path.cmx" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_path.cmx"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/src/datakit-client/datakit_path.mli" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_path.mli"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/CHANGES.md" "/home/opam/.opam/4.03.0/doc/datakit-client/CHANGES.md"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/LICENSE.md" "/home/opam/.opam/4.03.0/doc/datakit-client/LICENSE.md"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/README.md" "/home/opam/.opam/4.03.0/doc/datakit-client/README.md"
-> installed datakit-client.dev
Done.
 ---> aa6cd6069eb5
Removing intermediate container df726ed24d84
Step 14/15 : RUN sudo mkdir /data && sudo chown opam.nogroup /data && chmod 700 /data &&     sudo cp $(opam config exec -- which datakit-mount) /usr/bin/datakit-mount
 ---> Running in 0c21670ab24e
 ---> 201f5d3c0153
Removing intermediate container 0c21670ab24e
Step 15/15 : CMD bash -c "/usr/bin/datakit-mount -h $(getent hosts datakit | awk '{print $1}')";     bash
 ---> Running in 53b9bce6ebcc
 ---> c122cea00c1f
Removing intermediate container 53b9bce6ebcc
Successfully built c122cea00c1f
[2017-02-17 11:46.32] Success
