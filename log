=== Docker build Dockerfile.github
[2017-01-25 14:41.54] Starting...
Cloning into '/tmp/with_clone41a68c3'...
done.
HEAD is now at de78aaa ci: use opam 2 for builds
[2017-01-25 14:41.54] Rewrite Dockerfile's first line to:
FROM sha256:7f3b223ef9fc4016f673638b38930ddd1ee759a26210dee51ea668ed0717fa8c
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 5.881 MB
Step 1/18 : FROM sha256:7f3b223ef9fc4016f673638b38930ddd1ee759a26210dee51ea668ed0717fa8c
 ---> 7f3b223ef9fc
Step 2/18 : RUN cd /home/opam/opam-repository && git pull &&     opam update -y
 ---> Running in d2f5143f52db
[91mFrom git://github.com/ocaml/opam-repository
   0f17b3542..4216184e9  master     -> origin/master
[0mUpdating 0f17b3542..4216184e9
Fast-forward
 compilers/4.05.0/4.05.0+pr1013/4.05.0+pr1013.descr |  1 -
 .../4.05.0+pr1017.comp}                            |  2 +-
 compilers/4.05.0/4.05.0+pr1017/4.05.0+pr1017.descr |  1 +
 compilers/4.05.0/4.05.0+pr738/4.05.0+pr738.comp    | 11 ------
 compilers/4.05.0/4.05.0+pr738/4.05.0+pr738.descr   |  1 -
 compilers/4.05.0/4.05.0+pr751/4.05.0+pr751.comp    | 11 ------
 compilers/4.05.0/4.05.0+pr751/4.05.0+pr751.descr   |  1 -
 packages/camlpdf/camlpdf.2.2.1/descr               |  1 +
 packages/camlpdf/camlpdf.2.2.1/opam                | 10 ++++++
 packages/camlpdf/camlpdf.2.2.1/url                 |  2 ++
 packages/conduit/conduit.0.14.4/opam               |  2 +-
 packages/conduit/conduit.0.5.0/opam                | 24 ++++++-------
 packages/conduit/conduit.0.5.1/opam                | 20 +++++------
 packages/conduit/conduit.0.6.0/opam                | 24 ++++++-------
 packages/conduit/conduit.0.6.1/opam                | 24 ++++++-------
 packages/conduit/conduit.0.7.0/opam                | 11 +++---
 packages/conduit/conduit.0.7.1/opam                | 11 +++---
 packages/conduit/conduit.0.7.2/opam                | 11 +++---
 packages/conduit/conduit.0.8.0/opam                |  2 +-
 packages/conduit/conduit.0.8.1/opam                |  2 +-
 packages/conduit/conduit.0.8.2/opam                |  2 +-
 packages/conf-zlib/conf-zlib.1/opam                |  1 +
 packages/cpdf/cpdf.2.2.1/descr                     |  2 ++
 packages/cpdf/cpdf.2.2.1/files/cpdf.install        |  1 +
 packages/cpdf/cpdf.2.2.1/findlib                   |  1 +
 packages/cpdf/cpdf.2.2.1/opam                      | 14 ++++++++
 packages/cpdf/cpdf.2.2.1/url                       |  2 ++
 packages/emoji/emoji.1.0.0/descr                   | 15 ++++++++
 packages/emoji/emoji.1.0.0/opam                    | 26 ++++++++++++++
 packages/emoji/emoji.1.0.0/url                     |  2 ++
 packages/gg/gg.0.9.2/descr                         | 10 ++++++
 packages/gg/gg.0.9.2/opam                          | 23 +++++++++++++
 packages/gg/gg.0.9.2/url                           |  2 ++
 .../google-drive-ocamlfuse.0.6.14/descr            |  4 +++
 .../google-drive-ocamlfuse.0.6.14/opam             | 32 +++++++++++++++++
 .../google-drive-ocamlfuse.0.6.14/url              |  2 ++
 packages/graphicspdf/graphicspdf.1.1/opam          |  2 +-
 packages/graphicspdf/graphicspdf.2.2.1/descr       |  1 +
 packages/graphicspdf/graphicspdf.2.2.1/findlib     |  1 +
 packages/graphicspdf/graphicspdf.2.2.1/opam        | 13 +++++++
 packages/graphicspdf/graphicspdf.2.2.1/url         |  2 ++
 packages/gsl/gsl.1.19.2/descr                      |  4 +++
 packages/gsl/gsl.1.19.2/findlib                    |  1 +
 packages/gsl/gsl.1.19.2/opam                       | 35 +++++++++++++++++++
 packages/gsl/gsl.1.19.2/url                        |  2 ++
 packages/lacaml/lacaml.9.2.2/descr                 |  5 +++
 packages/lacaml/lacaml.9.2.2/findlib               |  1 +
 packages/lacaml/lacaml.9.2.2/opam                  | 40 ++++++++++++++++++++++
 packages/lacaml/lacaml.9.2.2/url                   |  2 ++
 packages/levenshtein/levenshtein.1.1.1/url         |  2 +-
 packages/libevent/libevent.0.8.0/descr             |  6 ++++
 packages/libevent/libevent.0.8.0/opam              | 37 ++++++++++++++++++++
 packages/libevent/libevent.0.8.0/url               |  2 ++
 packages/omd/omd.1.3.0/opam                        |  1 +
 packages/opamconfig/opamconfig.0.3.0/descr         |  6 ++++
 packages/opamconfig/opamconfig.0.3.0/opam          | 20 +++++++++++
 packages/opamconfig/opamconfig.0.3.0/url           |  2 ++
 packages/opamfind/opamfind.1.1.0/url               |  1 +
 packages/opamfind/opamfind.1.1.1/url               |  1 +
 packages/opamfind/opamfind.1.1.2/descr             |  4 +++
 packages/opamfind/opamfind.1.1.2/opam              | 29 ++++++++++++++++
 packages/opamfind/opamfind.1.1.2/url               |  2 ++
 packages/opamfu/opamfu.0.1.4/descr                 |  6 ++++
 packages/opamfu/opamfu.0.1.4/opam                  | 19 ++++++++++
 packages/opamfu/opamfu.0.1.4/url                   |  2 ++
 packages/owl/owl.0.2.0/descr                       |  2 ++
 packages/owl/owl.0.2.0/files/owl.install           |  6 ++++
 packages/owl/owl.0.2.0/findlib                     |  1 +
 packages/owl/owl.0.2.0/opam                        | 36 +++++++++++++++++++
 packages/owl/owl.0.2.0/url                         |  2 ++
 packages/pkcs11/pkcs11.0.7.0/descr                 |  6 ++++
 packages/pkcs11/pkcs11.0.7.0/opam                  | 32 +++++++++++++++++
 packages/pkcs11/pkcs11.0.7.0/url                   |  2 ++
 packages/posix-types/posix-types.0.1.1/descr       |  5 +++
 packages/posix-types/posix-types.0.1.1/opam        | 16 +++++++++
 packages/posix-types/posix-types.0.1.1/url         |  2 ++
 packages/ppx_meta_conv/ppx_meta_conv.2.5.0/url     |  2 +-
 packages/ppx_monadic/ppx_monadic.1.0.5/descr       | 10 ++++++
 packages/ppx_monadic/ppx_monadic.1.0.5/opam        | 27 +++++++++++++++
 packages/ppx_monadic/ppx_monadic.1.0.5/url         |  2 ++
 packages/ppx_orakuda/ppx_orakuda.3.0.0/opam        | 12 +++----
 packages/qcheck/qcheck.0.5.3/descr                 |  6 ++++
 packages/qcheck/qcheck.0.5.3/opam                  | 40 ++++++++++++++++++++++
 packages/qcheck/qcheck.0.5.3/url                   |  2 ++
 packages/spotlib/spotlib.1.0.0/opam                |  2 +-
 packages/spotlib/spotlib.2.0.1/opam                |  2 +-
 packages/spotlib/spotlib.2.1.0/opam                |  2 +-
 packages/spotlib/spotlib.2.1.1/opam                |  2 +-
 packages/spotlib/spotlib.2.1.2/opam                |  2 +-
 packages/spotlib/spotlib.2.2.0/opam                |  2 +-
 packages/spotlib/spotlib.2.3.0/opam                |  2 +-
 packages/spotlib/spotlib.2.4.0/opam                |  2 +-
 packages/spotlib/spotlib.2.4.1/opam                |  2 +-
 packages/spotlib/spotlib.2.5.0/opam                |  2 +-
 packages/spotlib/spotlib.2.5.1/opam                |  2 +-
 packages/spotlib/spotlib.2.5.2/opam                |  2 +-
 packages/spotlib/spotlib.2.5.3/opam                |  2 +-
 packages/spotlib/spotlib.3.0.0/opam                |  2 +-
 packages/tiny_json/tiny_json.1.1.3/descr           |  3 ++
 packages/tiny_json/tiny_json.1.1.3/opam            | 24 +++++++++++++
 packages/tiny_json/tiny_json.1.1.3/url             |  2 ++
 packages/treeprint/treeprint.2.1.1/descr           |  4 +++
 packages/treeprint/treeprint.2.1.1/opam            | 27 +++++++++++++++
 packages/treeprint/treeprint.2.1.1/url             |  2 ++
 packages/tsdl-image/tsdl-image.0.2.0/descr         |  4 +++
 packages/tsdl-image/tsdl-image.0.2.0/opam          | 28 +++++++++++++++
 packages/tsdl-image/tsdl-image.0.2.0/url           |  2 ++
 packages/tsdl-mixer/tsdl-mixer.0.2/descr           |  4 +++
 packages/tsdl-mixer/tsdl-mixer.0.2/opam            | 27 +++++++++++++++
 packages/tsdl-mixer/tsdl-mixer.0.2/url             |  2 ++
 packages/tsdl-ttf/tsdl-ttf.0.2/descr               |  3 ++
 packages/tsdl-ttf/tsdl-ttf.0.2/opam                | 31 +++++++++++++++++
 packages/tsdl-ttf/tsdl-ttf.0.2/url                 |  2 ++
 packages/unix-dirent/unix-dirent.0.3.5/descr       | 13 +++++++
 packages/unix-dirent/unix-dirent.0.3.5/opam        | 25 ++++++++++++++
 packages/unix-dirent/unix-dirent.0.3.5/url         |  2 ++
 packages/unix-errno/unix-errno.0.5.2/descr         | 10 ++++++
 packages/unix-errno/unix-errno.0.5.2/opam          | 25 ++++++++++++++
 packages/unix-errno/unix-errno.0.5.2/url           |  2 ++
 packages/unix-fcntl/unix-fcntl.0.3.5/descr         | 16 +++++++++
 packages/unix-fcntl/unix-fcntl.0.3.5/opam          | 22 ++++++++++++
 packages/unix-fcntl/unix-fcntl.0.3.5/url           |  2 ++
 packages/unix-sys-stat/unix-sys-stat.0.5.2/descr   | 12 +++++++
 packages/unix-sys-stat/unix-sys-stat.0.5.2/opam    | 25 ++++++++++++++
 packages/unix-sys-stat/unix-sys-stat.0.5.2/url     |  2 ++
 packages/unix-unistd/unix-unistd.0.3.1/descr       |  7 ++++
 packages/unix-unistd/unix-unistd.0.3.1/opam        | 31 +++++++++++++++++
 packages/unix-unistd/unix-unistd.0.3.1/url         |  2 ++
 packages/unmagic/unmagic.1.0.1/url                 |  1 +
 129 files changed, 1048 insertions(+), 113 deletions(-)
 delete mode 100644 compilers/4.05.0/4.05.0+pr1013/4.05.0+pr1013.descr
 rename compilers/4.05.0/{4.05.0+pr1013/4.05.0+pr1013.comp => 4.05.0+pr1017/4.05.0+pr1017.comp} (74%)
 create mode 100644 compilers/4.05.0/4.05.0+pr1017/4.05.0+pr1017.descr
 delete mode 100644 compilers/4.05.0/4.05.0+pr738/4.05.0+pr738.comp
 delete mode 100644 compilers/4.05.0/4.05.0+pr738/4.05.0+pr738.descr
 delete mode 100644 compilers/4.05.0/4.05.0+pr751/4.05.0+pr751.comp
 delete mode 100644 compilers/4.05.0/4.05.0+pr751/4.05.0+pr751.descr
 create mode 100644 packages/camlpdf/camlpdf.2.2.1/descr
 create mode 100644 packages/camlpdf/camlpdf.2.2.1/opam
 create mode 100644 packages/camlpdf/camlpdf.2.2.1/url
 create mode 100644 packages/cpdf/cpdf.2.2.1/descr
 create mode 100644 packages/cpdf/cpdf.2.2.1/files/cpdf.install
 create mode 100644 packages/cpdf/cpdf.2.2.1/findlib
 create mode 100644 packages/cpdf/cpdf.2.2.1/opam
 create mode 100644 packages/cpdf/cpdf.2.2.1/url
 create mode 100644 packages/emoji/emoji.1.0.0/descr
 create mode 100644 packages/emoji/emoji.1.0.0/opam
 create mode 100644 packages/emoji/emoji.1.0.0/url
 create mode 100644 packages/gg/gg.0.9.2/descr
 create mode 100644 packages/gg/gg.0.9.2/opam
 create mode 100644 packages/gg/gg.0.9.2/url
 create mode 100644 packages/google-drive-ocamlfuse/google-drive-ocamlfuse.0.6.14/descr
 create mode 100644 packages/google-drive-ocamlfuse/google-drive-ocamlfuse.0.6.14/opam
 create mode 100644 packages/google-drive-ocamlfuse/google-drive-ocamlfuse.0.6.14/url
 create mode 100644 packages/graphicspdf/graphicspdf.2.2.1/descr
 create mode 100644 packages/graphicspdf/graphicspdf.2.2.1/findlib
 create mode 100644 packages/graphicspdf/graphicspdf.2.2.1/opam
 create mode 100644 packages/graphicspdf/graphicspdf.2.2.1/url
 create mode 100644 packages/gsl/gsl.1.19.2/descr
 create mode 100644 packages/gsl/gsl.1.19.2/findlib
 create mode 100644 packages/gsl/gsl.1.19.2/opam
 create mode 100644 packages/gsl/gsl.1.19.2/url
 create mode 100644 packages/lacaml/lacaml.9.2.2/descr
 create mode 100644 packages/lacaml/lacaml.9.2.2/findlib
 create mode 100644 packages/lacaml/lacaml.9.2.2/opam
 create mode 100644 packages/lacaml/lacaml.9.2.2/url
 create mode 100644 packages/libevent/libevent.0.8.0/descr
 create mode 100644 packages/libevent/libevent.0.8.0/opam
 create mode 100644 packages/libevent/libevent.0.8.0/url
 create mode 100644 packages/opamconfig/opamconfig.0.3.0/descr
 create mode 100644 packages/opamconfig/opamconfig.0.3.0/opam
 create mode 100644 packages/opamconfig/opamconfig.0.3.0/url
 create mode 100644 packages/opamfind/opamfind.1.1.2/descr
 create mode 100644 packages/opamfind/opamfind.1.1.2/opam
 create mode 100644 packages/opamfind/opamfind.1.1.2/url
 create mode 100644 packages/opamfu/opamfu.0.1.4/descr
 create mode 100644 packages/opamfu/opamfu.0.1.4/opam
 create mode 100644 packages/opamfu/opamfu.0.1.4/url
 create mode 100644 packages/owl/owl.0.2.0/descr
 create mode 100644 packages/owl/owl.0.2.0/files/owl.install
 create mode 100644 packages/owl/owl.0.2.0/findlib
 create mode 100644 packages/owl/owl.0.2.0/opam
 create mode 100644 packages/owl/owl.0.2.0/url
 create mode 100644 packages/pkcs11/pkcs11.0.7.0/descr
 create mode 100644 packages/pkcs11/pkcs11.0.7.0/opam
 create mode 100644 packages/pkcs11/pkcs11.0.7.0/url
 create mode 100644 packages/posix-types/posix-types.0.1.1/descr
 create mode 100644 packages/posix-types/posix-types.0.1.1/opam
 create mode 100644 packages/posix-types/posix-types.0.1.1/url
 create mode 100644 packages/ppx_monadic/ppx_monadic.1.0.5/descr
 create mode 100644 packages/ppx_monadic/ppx_monadic.1.0.5/opam
 create mode 100644 packages/ppx_monadic/ppx_monadic.1.0.5/url
 create mode 100644 packages/qcheck/qcheck.0.5.3/descr
 create mode 100644 packages/qcheck/qcheck.0.5.3/opam
 create mode 100644 packages/qcheck/qcheck.0.5.3/url
 create mode 100644 packages/tiny_json/tiny_json.1.1.3/descr
 create mode 100644 packages/tiny_json/tiny_json.1.1.3/opam
 create mode 100644 packages/tiny_json/tiny_json.1.1.3/url
 create mode 100644 packages/treeprint/treeprint.2.1.1/descr
 create mode 100644 packages/treeprint/treeprint.2.1.1/opam
 create mode 100644 packages/treeprint/treeprint.2.1.1/url
 create mode 100644 packages/tsdl-image/tsdl-image.0.2.0/descr
 create mode 100644 packages/tsdl-image/tsdl-image.0.2.0/opam
 create mode 100644 packages/tsdl-image/tsdl-image.0.2.0/url
 create mode 100644 packages/tsdl-mixer/tsdl-mixer.0.2/descr
 create mode 100644 packages/tsdl-mixer/tsdl-mixer.0.2/opam
 create mode 100644 packages/tsdl-mixer/tsdl-mixer.0.2/url
 create mode 100644 packages/tsdl-ttf/tsdl-ttf.0.2/descr
 create mode 100644 packages/tsdl-ttf/tsdl-ttf.0.2/opam
 create mode 100644 packages/tsdl-ttf/tsdl-ttf.0.2/url
 create mode 100644 packages/unix-dirent/unix-dirent.0.3.5/descr
 create mode 100644 packages/unix-dirent/unix-dirent.0.3.5/opam
 create mode 100644 packages/unix-dirent/unix-dirent.0.3.5/url
 create mode 100644 packages/unix-errno/unix-errno.0.5.2/descr
 create mode 100644 packages/unix-errno/unix-errno.0.5.2/opam
 create mode 100644 packages/unix-errno/unix-errno.0.5.2/url
 create mode 100644 packages/unix-fcntl/unix-fcntl.0.3.5/descr
 create mode 100644 packages/unix-fcntl/unix-fcntl.0.3.5/opam
 create mode 100644 packages/unix-fcntl/unix-fcntl.0.3.5/url
 create mode 100644 packages/unix-sys-stat/unix-sys-stat.0.5.2/descr
 create mode 100644 packages/unix-sys-stat/unix-sys-stat.0.5.2/opam
 create mode 100644 packages/unix-sys-stat/unix-sys-stat.0.5.2/url
 create mode 100644 packages/unix-unistd/unix-unistd.0.3.1/descr
 create mode 100644 packages/unix-unistd/unix-unistd.0.3.1/opam
 create mode 100644 packages/unix-unistd/unix-unistd.0.3.1/url

=-=- Updating package repositories =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/1: [default: http]
[default] synchronized from https://opam.ocaml.org/2.0~dev
[91m[WARNING] Errors in /home/opam/.opam/repo/default/repo, some fields have been ignored:
            - At /home/opam/.opam/repo/default/repo:5:0:
              Invalid field archive-mirrors

[WARNING] Errors in /home/opam/.opam/repo/default/repo, some fields have been ignored:
            - At /home/opam/.opam/repo/default/repo:5:0:
              Invalid field archive-mirrors

[0m
=-=- Synchronizing development packages -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/3: [datakit-server: rsync]
Processing  2/3: [datakit-server: rsync] [prometheus: rsync]
Processing  3/3: [datakit-server: rsync] [prometheus: rsync] [prometheus-app: rsync]
[datakit-server.dev] file:///home/opam/src/datakit/ already up-to-date
Processing  3/3: [prometheus: rsync] [prometheus-app: rsync]
[prometheus.dev] file:///home/opam/src/datakit/ synchronized
Processing  3/3: [prometheus-app: rsync]
[prometheus-app.dev] file:///home/opam/src/datakit/ synchronized
Now run 'opam upgrade' to apply any package updates.
 ---> 6af9f2dbd4e6
Removing intermediate container d2f5143f52db
Step 3/18 : COPY datakit-github.opam /home/opam/src/datakit/datakit-github.opam
 ---> b379c3ca38a1
Removing intermediate container a320d6e13732
Step 4/18 : RUN opam pin add github --dev -n
 ---> Running in 981ce8917e4a
[github: git]
[github: git]
[github: git]
[github: git]
[github: git]
[github: git]
[github] git+https://github.com/mirage/ocaml-github.git changed
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/packages.dev/github/opam from 1.2 to 2.0~alpha3
[0mgithub is now pinned to git+https://github.com/mirage/ocaml-github.git (version 2.2.0)
 ---> 8c13f24ae080
Removing intermediate container 981ce8917e4a
Step 5/18 : RUN opam pin add datakit-client.dev /home/opam/src/datakit -n
 ---> Running in e3decbc3a5c8
[datakit-client: git]
[datakit-client: git]
[datakit-client] git+file:///home/opam/src/datakit changed
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/packages.dev/datakit-client/datakit-client.opam from 1.2 to 2.0~alpha3
[0mdatakit-client is now pinned to git+file:///home/opam/src/datakit (version dev)
[91m[NOTE] Pinning in mixed mode: OPAM will use tracked files in the current working tree from /home/opam/src/datakit. If this is not what you want, pin to a given branch (e.g. git+file:///home/opam/src/datakit#HEAD)
[0m ---> 5641a08e7b5e
Removing intermediate container e3decbc3a5c8
Step 6/18 : RUN opam pin add datakit-github.dev /home/opam/src/datakit -n
 ---> Running in 19011e5a8171
[datakit-github: git]
[datakit-github: git]
[datakit-github] git+file:///home/opam/src/datakit changed
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/packages.dev/datakit-github/datakit-github.opam from 1.2 to 2.0~alpha3
[0mdatakit-github is now pinned to git+file:///home/opam/src/datakit (version dev)
[91m[NOTE] Pinning in mixed mode: OPAM will use tracked files in the current working tree from /home/opam/src/datakit. If this is not what you want, pin to a given branch (e.g. git+file:///home/opam/src/datakit#HEAD)
[0m ---> 8f08bb1516e0
Removing intermediate container 19011e5a8171
Step 7/18 : RUN opam depext datakit-github && opam install datakit-github --deps
 ---> Running in 05bbed9b08d8
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - gmp-dev
#  - linux-headers
#  - m4
#  - ncurses-dev
#  - openssl-dev
#  - pcre-dev
#  - perl
#  - pkgconfig
m4
ncurses-dev
pcre-dev
perl
pkgconf
# The following new OS packages need to be installed: gmp-dev linux-headers openssl-dev
The following command needs to be run through "sudo":
    apk add gmp-dev linux-headers openssl-dev
(1/7) Installing libgmpxx (6.1.1-r0)
(2/7) Installing gmp-dev (6.1.1-r0)
(3/7) Installing linux-headers (4.4.6-r1)
(4/7) Installing zlib-dev (1.2.8-r2)
(5/7) Installing libcrypto1.0 (1.0.2j-r2)
(6/7) Installing libssl1.0 (1.0.2j-r2)
(7/7) Installing openssl-dev (1.0.2j-r2)
OK: 659 MiB in 106 packages
# OS packages installation successful

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/1: [datakit-github: git]
[datakit-github] git+file:///home/opam/src/datakit changed
The following actions will be performed:
  - install conf-gmp         1             
  - install mirage-no-xen    1             
  - install conf-m4          1             
  - install conf-perl        1             
  - install conf-which       1             
  - install result           1.2           
  - install ocamlfind        1.7.1         
  - install zarith           1.4.1         
  - install topkg            0.8.1         
  - install sexplib          113.33.00+4.03
  - install react            1.2.0         
  - install ppx_tools        5.0           
  - install ocamlmod         0.0.8         
  - install ocamlify         0.0.1         
  - install mtime            0.8.3         
  - install menhir           20170101      
  - install magic-mime       1.0.0         
  - install fieldslib        113.24.00     
  - install easy-format      1.2.0         
  - install base-bytes       base          
  - install rresult          0.5.0         
  - install fmt              0.8.0         
  - install duration         0.1.0         
  - install astring          0.8.3         
  - install asetmap          0.8.1         
  - install ppx_core         113.33.01+4.03
  - install lwt              2.7.0         
       For module Lwt_react, please install package lwt_react
  - install oasis            0.4.8         
  - install biniou           1.0.12        
  - install atd              1.2.0         
  - install win-error        0.2           
  - install stringext        1.4.3         
  - install re               1.7.1         
  - install cppo             1.4.1         
  - install base64           2.1.2         
  - install ocb-stubblr      0.1.0         
  - install ppx_optcomp      113.33.01+4.03
  - install prometheus       dev*          
  - install logs             0.6.2         
  - install yojson           1.3.3         
  - install ppx_deriving     4.1           
  - install ocplib-endian    1.0           
  - install camomile         0.8.5         
  - install named-pipe       0.4.0         
  - install ppx_driver       113.33.01+4.03
  - install win-eventlog     0.1           
  - install asl              0.10          
  - install atdgen           1.10.0        
  - install cstruct          2.3.1         
  - install zed              1.4           
  - install ppx_type_conv    113.33.02+4.03
  - install io-page          1.6.1         
  - install hex              1.0.0         
  - install asn1-combinators 0.1.3         
  - install lambda-term      1.10.1        
  - install ppx_sexp_conv    113.33.01+4.03
  - install ppx_fields_conv  113.33.00+4.03
  - install uri              1.9.2         
  - install nocrypto         0.5.3         
  - install ipaddr           2.7.1         
  - install x509             0.5.3         
  - install mirage-types     2.8.0         
  - install mirage-types-lwt 2.8.0         
  - install tls              0.7.1         
  - install mirage-flow      1.1.0         
  - install channel          1.1.1         
  - install conduit          0.14.4        
  - install hvsock           0.11.1        
  - install protocol-9p      0.8.0         
  - install cohttp           0.21.0        
  - install datakit-server   dev*          
  - install datakit-client   dev*          
  - install prometheus-app   dev*          
  - install github           2.2.0*        
  - install github-hooks     0.1.1         
===== 75 to install =====
Do you want to continue ? [Y/n] n
 ---> 770703336b93
Removing intermediate container 05bbed9b08d8
Step 8/18 : COPY . /home/opam/src/datakit/
 ---> 4db16a8e224e
Removing intermediate container 2c6e31228367
Step 9/18 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in 6b5083700ab0
 ---> c065afb290d7
Removing intermediate container 6b5083700ab0
Step 10/18 : RUN cd /home/opam/src/datakit &&     git diff && git status --porcelain &&     git checkout . && scripts/watermark.sh &&     git status --porcelain
 ---> Running in 1824470c1f10
diff --git a/Dockerfile.github b/Dockerfile.github
index f475eb4..ce67348 100644
--- a/Dockerfile.github
+++ b/Dockerfile.github
@@ -1,4 +1,4 @@
-FROM docker/datakit:server
+FROM sha256:7f3b223ef9fc4016f673638b38930ddd1ee759a26210dee51ea668ed0717fa8c
 
 # TMP
 RUN cd /home/opam/opam-repository && git pull && \
 M Dockerfile.github
 M src/version.ml
 ---> fad0906e59a2
Removing intermediate container 1824470c1f10
Step 11/18 : RUN opam update datakit-github
 ---> Running in d4d623dc4778

=-=- Synchronizing development packages -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/1: [datakit-github: git]
[datakit-github] git+file:///home/opam/src/datakit changed
Now run 'opam upgrade' to apply any package updates.
 ---> ce17e36781f9
Removing intermediate container d4d623dc4778
Step 12/18 : RUN opam install datakit-github -vv
 ---> Running in 5aa6cf5d4201

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/1: [datakit-github: git]
+ rsync "-rLptgoDrvc" "--files-from" "/home/opam/.opam/log/rsync-files-7-dd682e" "--exclude" ".#*" "--exclude" "_opam" "--delete" "--delete-excluded" "/home/opam/src/datakit/" "/home/opam/.opam/default/.opam-switch/packages.dev/datakit-github"
- sending incremental file list
- .git/
- .git/objects/
- .git/refs/
- api/
- api/ocaml/
- api/ocaml/datakit-client.mllib
- api/ocaml/datakit_S.mli
- api/ocaml/datakit_client_9p.ml
- api/ocaml/datakit_client_9p.mli
- api/ocaml/datakit_path.ml
- api/ocaml/datakit_path.mli
- api/ocaml/mount.ml
- 
- sent 114,327 bytes  received 463 bytes  229,580.00 bytes/sec
- total size is 4,836,238  speedup is 42.13
[datakit-github] git+file:///home/opam/src/datakit changed
+ ocamlc "-vnum"
- 4.04.0
The following actions will be performed:
  - install conf-gmp         1                                  [required by zarith]
  - install mirage-no-xen    1                                  [required by nocrypto]
  - install conf-m4          1                                  [required by ocamlfind]
  - install conf-perl        1                                  [required by zarith]
  - install conf-which       1                                  [required by biniou]
  - install result           1.2                                [required by asl, win-eventlog]
  - install ocamlfind        1.7.1                              [required by datakit-github]
  - install zarith           1.4.1                              [required by nocrypto]
  - install topkg            0.8.1                              [required by datakit-github]
  - install sexplib          113.33.00+4.03                     [required by conduit, datakit-server]
  - install react            1.2.0                              [required by lwt, lambda-term]
  - install ppx_tools        5.0                                [required by tls, cstruct, protocol-9p]
  - install ocamlmod         0.0.8                              [required by oasis]
  - install ocamlify         0.0.1                              [required by oasis]
  - install mtime            0.8.3                              [required by datakit-github]
  - install menhir           20170101                           [required by atd]
  - install magic-mime       1.0.0                              [required by cohttp]
  - install fieldslib        113.24.00                          [required by cohttp]
  - install easy-format      1.2.0                              [required by biniou, atd, yojson]
  - install base-bytes       base                               [required by datakit-server, datakit-client, hvsock]
  - install rresult          0.5.0                              [required by datakit-client, datakit-server]
  - install fmt              0.8.0                              [required by datakit-github]
  - install duration         0.1.0                              [required by hvsock]
  - install astring          0.8.3                              [required by datakit-client, datakit-server]
  - install asetmap          0.8.1                              [required by datakit-github]
  - install ppx_core         113.33.01+4.03                     [required by ppx_sexp_conv, ppx_fields_conv]
  - install lwt              2.7.0                              [required by datakit-github]
       For module Lwt_react, please install package lwt_react
  - install oasis            0.4.8                              [required by tls]
  - install biniou           1.0.12                             [required by atdgen]
  - install atd              1.2.0                              [required by atdgen]
  - install win-error        0.2                                [required by protocol-9p]
  - install stringext        1.4.3                              [required by conduit, github]
  - install re               1.7.1                              [required by uri, cohttp]
  - install cppo             1.4.1                              [required by ocplib-endian, yojson]
  - install base64           2.1.2                              [required by cohttp]
  - install ocb-stubblr      0.1.0                              [required by named-pipe]
  - install ppx_optcomp      113.33.01+4.03                     [required by conduit]
  - install prometheus       dev*                               [required by prometheus-app]
  - install logs             0.6.2                              [required by datakit-github]
  - install yojson           1.3.3                              [required by github]
  - install ppx_deriving     4.1                                [required by protocol-9p]
  - install ocplib-endian    1.0                                [required by cstruct]
  - install camomile         0.8.5                              [required by zed]
  - install named-pipe       0.4.0                              [required by protocol-9p]
  - install ppx_driver       113.33.01+4.03                     [required by conduit]
  - install win-eventlog     0.1                                [required by datakit-github]
  - install asl              0.10                               [required by datakit-github]
  - install atdgen           1.10.0                             [required by github]
  - install cstruct          2.3.1                              [required by datakit-server, conduit, datakit-client, hvsock]
  - install zed              1.4                                [required by lambda-term]
  - install ppx_type_conv    113.33.02+4.03                     [required by ppx_sexp_conv, ppx_fields_conv]
  - install io-page          1.6.1                              [required by mirage-types-lwt]
  - install hex              1.0.0                              [required by datakit-github]
  - install asn1-combinators 0.1.3                              [required by x509]
  - install lambda-term      1.10.1                             [required by github]
  - install ppx_sexp_conv    113.33.01+4.03                     [required by conduit]
  - install ppx_fields_conv  113.33.00+4.03                     [required by cohttp]
  - install uri              1.9.2                              [required by datakit-server, conduit, datakit-client, github]
  - install nocrypto         0.5.3                              [required by datakit-github]
  - install ipaddr           2.7.1                              [required by conduit]
  - install x509             0.5.3                              [required by tls]
  - install mirage-types     2.8.0                              [required by mirage-types-lwt]
  - install mirage-types-lwt 2.8.0                              [required by datakit-server, conduit, hvsock]
  - install tls              0.7.1                              [required by conduit, github]
  - install mirage-flow      1.1.0                              [required by hvsock]
  - install channel          1.1.1                              [required by protocol-9p]
  - install conduit          0.14.4                             [required by datakit-github]
  - install hvsock           0.11.1                             [required by datakit-github]
  - install protocol-9p      0.8.0                              [required by datakit-github]
  - install cohttp           0.21.0                             [required by github-hooks, github, prometheus-app]
  - install datakit-server   dev*                               [required by datakit-github]
  - install datakit-client   dev*                               [required by datakit-github]
  - install prometheus-app   dev*                               [required by datakit-github]
  - install github           2.2.0*                             [required by datakit-github]
  - install github-hooks     0.1.1                              [required by datakit-github]
  - install datakit-github   dev*          
===== 76 to install =====
Do you want to continue ? [Y/n] n
 ---> c9e6b764bd93
Removing intermediate container 5aa6cf5d4201
Step 13/18 : EXPOSE 5641
 ---> Running in 156a5c1367d5
 ---> d9a67fbc5254
Removing intermediate container 156a5c1367d5
Step 14/18 : RUN sudo mkdir /data && sudo chown opam.nogroup /data && chmod 700 /data &&     sudo cp $(opam config exec -- which datakit-github) /usr/bin/
 ---> Running in 2142fd17ad96
[91mBusyBox v1.25.1 (2016-10-26 16:15:20 GMT) multi-call binary.

Usage: cp [OPTIONS] SOURCE... DEST

Copy SOURCE(s) to DEST

	-a	Same as -dpR
	-R,-r	Recurse
	-d,-P	Preserve symlinks (default if -R)
	-L	Follow all symlinks
	-H	Follow symlinks on command line
	-p	Preserve file attributes if possible
	-f	Overwrite
	-i	Prompt before overwrite
	-l,-s	Create (sym)links
	-u	Copy only newer files
[0mThe command '/bin/sh -c sudo mkdir /data && sudo chown opam.nogroup /data && chmod 700 /data &&     sudo cp $(opam config exec -- which datakit-github) /usr/bin/' returned a non-zero code: 1
[2017-01-25 14:42.52] Failed: Command "docker" "build" "-f" "Dockerfile.github" "." exited with status 1
