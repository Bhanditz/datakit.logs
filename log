=== Docker build Dockerfile.prometheus
[2017-02-01 11:57.03] Starting...
Cloning into '/tmp/with_clone2d0c8ff5'...
done.
HEAD is now at b110aab Merge pull request #467 from talex5/serial-updates
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 6.104 MBSending build context to Docker daemon 6.104 MB
Step 1/16 : FROM ocaml/opam:alpine-3.5_ocaml-4.04.0
alpine-3.5_ocaml-4.04.0: Pulling from ocaml/opam
Digest: sha256:aa72b91ed887e6e3161121642b32c7415c4f57047c5eb7011594cbd224773113
Status: Image is up to date for ocaml/opam:alpine-3.5_ocaml-4.04.0
 ---> d584e207406b
Step 2/16 : ENV OPAMYES 1
 ---> Using cache
 ---> 9de7042c1dcd
Step 3/16 : RUN sudo apk add tzdata
 ---> Using cache
 ---> b5373e968868
Step 4/16 : RUN opam depext -i opam-devel && sudo cp $(opam config var "opam-devel:lib")/opam /usr/bin/opam
 ---> Using cache
 ---> c2b3d781c608
Step 5/16 : RUN rm -rf ~/.opam
 ---> Using cache
 ---> 6e1946554a77
Step 6/16 : RUN opam init -y
 ---> Using cache
 ---> c65d20ed6d1a
Step 7/16 : RUN opam install ocaml -y
 ---> Using cache
 ---> ad56d0b53b1f
Step 8/16 : RUN OPAMYES=1 opam depext -i cohttp lwt fmt
 ---> Using cache
 ---> 783b9c886dfa
Step 9/16 : ADD prometheus.opam /tmp/deps/opam
 ---> Using cache
 ---> 69a1bb032b51
Step 10/16 : RUN opam pin add -y tmp /tmp/deps/opam -n
 ---> Using cache
 ---> 0618af5656d7
Step 11/16 : RUN opam depext tmp -y
 ---> Using cache
 ---> 00edf5d99303
Step 12/16 : RUN opam install --deps-only tmp -y
 ---> Using cache
 ---> 8b266fee720a
Step 13/16 : ADD . /home/opam/datakit
 ---> c82e3dbb1fe0
Removing intermediate container f7b8c9eced00
Step 14/16 : RUN sudo chown opam /home/opam/datakit
 ---> Running in 05e3aa781993
 ---> 9376081336d8
Removing intermediate container 05e3aa781993
Step 15/16 : RUN opam pin add -y -k git prometheus /home/opam/datakit -n
 ---> Running in 348303ffba32
Package prometheus does not exist, create as a NEW package ? [Y/n] y
[prometheus: git]
[prometheus: git]
[prometheus] git+file:///home/opam/datakit changed
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/packages.dev/prometheus/prometheus.opam from 1.2 to 2.0~alpha3
[0mprometheus is now pinned to git+file:///home/opam/datakit (version ~dev)
[91m[NOTE] Pinning in mixed mode: OPAM will use tracked files in the current working tree from /home/opam/datakit. If this is not what you want, pin to a given branch (e.g. git+file:///home/opam/datakit#HEAD)
[0m ---> 124663219145
Removing intermediate container 348303ffba32
Step 16/16 : RUN opam pin add -y -k git prometheus-app /home/opam/datakit
 ---> Running in 0ce7a8801d00
Package prometheus-app does not exist, create as a NEW package ? [Y/n] y
[prometheus-app: git]
[prometheus-app: git]
[prometheus-app] git+file:///home/opam/datakit changed
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/packages.dev/prometheus-app/prometheus-app.opam from 1.2 to 2.0~alpha3
[0mprometheus-app is now pinned to git+file:///home/opam/datakit (version ~dev)
[91m[NOTE] Pinning in mixed mode: OPAM will use tracked files in the current working tree from /home/opam/datakit. If this is not what you want, pin to a given branch (e.g. git+file:///home/opam/datakit#HEAD)
[0m
The following actions will be performed:
  - install prometheus     ~dev*                                [required by prometheus-app]
  - install prometheus-app ~dev*
===== 2 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/2: [prometheus: git]
Processing  2/2: [prometheus: git] [prometheus-app: git]
[prometheus] git+file:///home/opam/datakit changed
Processing  2/2: [prometheus-app: git]
[prometheus-app] git+file:///home/opam/datakit changed

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/4: [prometheus: ocaml build]
-> installed prometheus.~dev
Processing  3/4: [prometheus-app: ocaml build]
-> installed prometheus-app.~dev
Done.
# Run eval `opam config env` to update the current shell environment
 ---> b81155ce8bf6
Removing intermediate container 0ce7a8801d00
Successfully built b81155ce8bf6
[2017-02-01 11:57.32] Success
