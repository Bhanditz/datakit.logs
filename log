=== Docker run test-prometheus-app
[2017-01-25 10:50.37] Starting...
[2017-01-25 10:50.37] Running "docker" "run" "--rm" "sha256:c7db0695e71d699f3ca5732717138c674b2e9535b2ef640f0c84480d5372d3ce" "sh" "-c" "opam remove \"prometheus-app\"&& opam install -t --deps-only \"prometheus-app\" && opam reinstall -v -t \"prometheus-app\""
The following actions will be performed:
  - remove prometheus-app *

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> removed   prometheus-app.~unknown
Done.

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[prometheus-app: git] Command started
[prometheus-app: git] Command started
[prometheus-app] /home/opam/datakit already up-to-date
The following actions will be performed:
  - install ounit      2.0.0
  - install mtime      0.8.3
  - install conf-which 1    
  - install rresult    0.5.0
  - install fpath      0.7.1
  - install alcotest   0.7.2
  - install qcheck     0.5.2
  - install bos        0.1.4
  - install qtest      2.5  
===== 9 to install =====
Do you want to continue ? [Y/n] y

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[alcotest: http] Command started
[bos: http] Command started
[fpath: http] Command started
[fpath: http] Command started
[fpath.0.7.1] http://erratique.ch/software/fpath/releases/fpath-0.7.1.tbz downloaded
[mtime: http] Command started
[bos: http] Command started
[bos.0.1.4] http://erratique.ch/software/bos/releases/bos-0.1.4.tbz downloaded
[ounit: http] Command started
[mtime: http] Command started
[mtime.0.8.3] http://erratique.ch/software/mtime/releases/mtime-0.8.3.tbz downloaded
[qcheck: http] Command started
[ounit: http] Command started
[ounit.2.0.0] http://forge.ocamlcore.org/frs/download.php/1258/ounit-2.0.0.tar.gz downloaded
[qtest: http] Command started
[alcotest: http] Command started
[alcotest.0.7.2] https://github.com/mirage/alcotest/releases/download/0.7.2/alcotest-0.7.2.tbz downloaded
[rresult: http] Command started
[rresult: http] Command started
[rresult.0.5.0] http://erratique.ch/software/rresult/releases/rresult-0.5.0.tbz downloaded
[qcheck: http] Command started
[qcheck.0.5.2] https://github.com/c-cube/qcheck/archive/0.5.2.tar.gz downloaded
[qtest: http] Command started
[qtest.2.5] https://github.com/vincent-hugot/iTeML/archive/v2.5.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[alcotest: ocaml build] Command started
[conf-which: which which] Command started
[fpath: ocaml build] Command started
[mtime: ocaml] Command started
-> installed conf-which.1
[ounit: make build] Command started
[mtime: ocaml] Command started
[alcotest: ocaml build] Command started
-> installed fpath.0.7.1
[rresult: ocaml build] Command started
-> installed mtime.0.8.3
-> installed rresult.0.5.0
[bos: ocaml build] Command started
[alcotest: ocaml test] Command started
-> installed alcotest.0.7.2
-> installed bos.0.1.4
[ounit: make install] Command started
-> installed ounit.2.0.0
[qcheck: ocaml setup.ml] Command started
[qcheck: make build] Command started
[qcheck: make install] Command started
-> installed qcheck.0.5.2
[qtest: make build] Command started
[qtest: make install] Command started
-> installed qtest.2.5
Done.

=-=- qtest.2.5 installed successfully -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
=> Version similar to 2.4, except it uses qcheck as an external library
     instead of embedding it. There should be no other difference.

     To use it, still call `qtest` on your .ml/.mli files to extract tests,
     then compile the resulting suite using oUnit and qcheck.

=-=- qcheck.0.5.2 installed successfully =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
=> new release that fixes some problems with 0.5.1,
   including a better handling of backtraces, safe-string awareness,
   a mode for long tests, and reverting `small_int` to being an alias to `nat`.

   The latter point is important for not breaking code that would use
   `small_int`
   to pick the size of lists, strings, etc. The new `small_signed_int` can
   be used instead.

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[prometheus-app: git] Command started
[prometheus-app: git] Command started
[prometheus-app] /home/opam/datakit already up-to-date
Install ? [Y/n] y
[WARNING] prometheus-app is not installed.
The following actions will be performed:
  - install prometheus-app *

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[prometheus-app: git] Command started
[prometheus-app: git] Command started
[prometheus-app] /home/opam/datakit already up-to-date

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[prometheus-app: ocaml build] Command started
+ ocaml "pkg/pkg.ml" "build" "--pinned" "true" "--tests" "false" "-n" "prometheus-app" (CWD=/home/opam/.opam/4.03.0/build/prometheus-app.~unknown)
- ocamlfind ocamlopt unix.cmxa -I /home/opam/.opam/4.03.0/lib/ocamlbuild /home/opam/.opam/4.03.0/lib/ocamlbuild/ocamlbuildlib.cmxa -linkpkg myocamlbuild.ml /home/opam/.opam/4.03.0/lib/ocamlbuild/ocamlbuild.cmx -o myocamlbuild
- ocamlfind ocamldep -package 'cohttp.lwt, uri, cmdliner' -package cohttp.lwt -package 'lwt, astring, asetmap, fmt, str' -modules prometheus/app/prometheus_app.ml > prometheus/app/prometheus_app.ml.depends
- ocamlfind ocamldep -package 'cohttp.lwt, uri, cmdliner' -package cohttp.lwt -package 'lwt, astring, asetmap, fmt, str' -modules prometheus/app/prometheus_app.mli > prometheus/app/prometheus_app.mli.depends
- ocamlfind ocamldep -package 'lwt, astring, asetmap, fmt, str' -modules prometheus/src/prometheus.mli > prometheus/src/prometheus.mli.depends
- ocamlfind ocamlc -c -g -annot -bin-annot -safe-string -strict-sequence -package 'lwt, astring, asetmap, fmt, str' -w A-4-58 -warn-error +1..49-3 -w A-4-41-44 -I prometheus/src -I prometheus -I prometheus/app -o prometheus/src/prometheus.cmi prometheus/src/prometheus.mli
- ocamlfind ocamlc -c -g -annot -bin-annot -safe-string -strict-sequence -package 'cohttp.lwt, uri, cmdliner' -package cohttp.lwt -package 'lwt, astring, asetmap, fmt, str' -w A-4-58 -warn-error +1..49-3 -w A-4-41-44 -I prometheus/app -I prometheus -I prometheus/src -o prometheus/app/prometheus_app.cmi prometheus/app/prometheus_app.mli
- ocamlfind ocamldep -package 'lwt, astring, asetmap, fmt, str' -modules prometheus/src/prometheus.ml > prometheus/src/prometheus.ml.depends
- ocamlfind ocamlopt -c -g -annot -bin-annot -safe-string -strict-sequence -package 'lwt, astring, asetmap, fmt, str' -w A-4-58 -warn-error +1..49-3 -w A-4-41-44 -I prometheus/src -I prometheus -I prometheus/app -o prometheus/src/prometheus.cmx prometheus/src/prometheus.ml
- ocamlfind ocamlopt -c -g -annot -bin-annot -safe-string -strict-sequence -package 'cohttp.lwt, uri, cmdliner' -package cohttp.lwt -package 'lwt, astring, asetmap, fmt, str' -w A-4-58 -warn-error +1..49-3 -w A-4-41-44 -I prometheus/app -I prometheus -I prometheus/src -o prometheus/app/prometheus_app.cmx prometheus/app/prometheus_app.ml
- ocamlfind ocamlopt -a -package 'cohttp.lwt, uri, cmdliner' -package cohttp.lwt -package 'lwt, astring, asetmap, fmt, str' prometheus/app/prometheus_app.cmx -o prometheus/app/prometheus-app.cmxa
- ocamlfind ocamlopt -shared -linkall -package 'cohttp.lwt, uri, cmdliner' -package cohttp.lwt -package 'lwt, astring, asetmap, fmt, str' prometheus/app/prometheus-app.cmxa -o prometheus/app/prometheus-app.cmxs
- ocamlfind ocamlc -c -g -annot -bin-annot -safe-string -strict-sequence -package 'cohttp.lwt, uri, cmdliner' -package cohttp.lwt -package 'lwt, astring, asetmap, fmt, str' -w A-4-58 -warn-error +1..49-3 -w A-4-41-44 -I prometheus/app -I prometheus -I prometheus/src -o prometheus/app/prometheus_app.cmo prometheus/app/prometheus_app.ml
- ocamlfind ocamlc -a -package 'cohttp.lwt, uri, cmdliner' -package cohttp.lwt -package 'lwt, astring, asetmap, fmt, str' prometheus/app/prometheus_app.cmo -o prometheus/app/prometheus-app.cma
[prometheus-app: ocaml build] Command started
+ ocaml "pkg/pkg.ml" "build" "--pinned" "true" "--tests" "true" "-n" "prometheus-app" (CWD=/home/opam/.opam/4.03.0/build/prometheus-app.~unknown)
- ocamlfind ocamlopt -shared -linkall -package 'cohttp.lwt, uri, cmdliner' -package cohttp.lwt -package 'lwt, astring, asetmap, fmt, str' prometheus/app/prometheus-app.cmxa -o prometheus/app/prometheus-app.cmxs
- ocamlfind ocamldep -package alcotest -package cohttp.lwt -package 'lwt, astring, asetmap, fmt, str' -modules prometheus/tests/test.ml > prometheus/tests/test.ml.depends
- ocamlfind ocamldep -package alcotest -package cohttp.lwt -package 'lwt, astring, asetmap, fmt, str' -modules prometheus/tests/test.mli > prometheus/tests/test.mli.depends
- ocamlfind ocamlc -c -g -annot -bin-annot -safe-string -strict-sequence -package alcotest -package cohttp.lwt -package 'lwt, astring, asetmap, fmt, str' -w A-4-58 -warn-error +1..49-3 -w A-4-41-44 -I prometheus/tests -I prometheus -I prometheus/app -I prometheus/src -o prometheus/tests/test.cmi prometheus/tests/test.mli
- ocamlfind ocamlopt -c -g -annot -bin-annot -safe-string -strict-sequence -package alcotest -package cohttp.lwt -package 'lwt, astring, asetmap, fmt, str' -w A-4-58 -warn-error +1..49-3 -w A-4-41-44 -I prometheus/tests -I prometheus -I prometheus/app -I prometheus/src -o prometheus/tests/test.cmx prometheus/tests/test.ml
- ocamlfind ocamlopt -linkpkg -g -package alcotest -package cohttp.lwt -package 'lwt, astring, asetmap, fmt, str' prometheus/src/prometheus.cmx prometheus/app/prometheus_app.cmx prometheus/tests/test.cmx -o prometheus/tests/test.native
[prometheus-app: ocaml test] Command started
+ ocaml "pkg/pkg.ml" "test" "_build/prometheus/tests/test.native" (CWD=/home/opam/.opam/4.03.0/build/prometheus-app.~unknown)
- Testing prometheus.
-  ...                main          0   Metrics.[OK]                main          0   Metrics.
- The full test results are available in `_build/_tests`.
- Test Successful in 0.000s. 1 test run.
- /bin/sh: tput: not found
- stty: standard input: Not a tty
-> installed prometheus-app.~unknown
Done.
[2017-01-25 10:51.17] Success
