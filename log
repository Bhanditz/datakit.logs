=== Docker build Dockerfile.github
[2017-04-19 10:05.35] Starting...
Cloning into '/tmp/with_clone388d20f7'...
done.
warning: remote HEAD refers to nonexistent ref, unable to checkout.

HEAD is now at 2899dff Simplify the Dockerfiles
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.111 MB
Step 1/26 : FROM ocaml/opam-dev@sha256:573b5d71e94104590a8282a9ae67b63a6144b15bafdacb9980391c84ca730615
sha256:573b5d71e94104590a8282a9ae67b63a6144b15bafdacb9980391c84ca730615: Pulling from ocaml/opam-dev
Digest: sha256:573b5d71e94104590a8282a9ae67b63a6144b15bafdacb9980391c84ca730615
Status: Image is up to date for ocaml/opam-dev@sha256:573b5d71e94104590a8282a9ae67b63a6144b15bafdacb9980391c84ca730615
 ---> 1db57234caaa
Step 2/26 : ENV OPAMERRLOGLEN 0 OPAMYES 1
 ---> Using cache
 ---> cc9fd0f47aac
Step 3/26 : RUN sudo apk add tzdata aspcud
 ---> Using cache
 ---> 8c71ee82f35c
Step 4/26 : RUN opam pin add -yn protocol-9p.0.8.0 'https://github.com/talex5/ocaml-9p.git#ping'
 ---> Using cache
 ---> 30a0d05e709e
Step 5/26 : RUN opam pin add github --dev -n
 ---> Running in dc75641c1906
[github.2.2.0: git]
[github.2.2.0: git]
[github.2.2.0: git]
[github.2.2.0: git]
[github.2.2.0] synchronised from git+https://github.com/mirage/ocaml-github.git
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/github/opam from 1.2 to 2.0~beta
[0mgithub is now pinned to git+https://github.com/mirage/ocaml-github.git (version 2.3.0)
 ---> fed26ca00f2c
Error removing intermediate container dc75641c1906: Driver aufs failed to remove root filesystem dc75641c19063f01c3bfc29aa016765f29ea02899467842aaea25db020acd254: rename /var/lib/docker/aufs/mnt/5461aeaa1d999507520be30ba2461bf54eb837b756aeddc0c02cecb38ca12167 /var/lib/docker/aufs/mnt/5461aeaa1d999507520be30ba2461bf54eb837b756aeddc0c02cecb38ca12167-removing: device or resource busy
Step 6/26 : RUN opam depext -ui lwt inotify alcotest conf-libev lambda-term cmdliner.0.9.8 github protocol-9p rresult prometheus-app mirage-types-lwt.2.8.0
 ---> Running in 924f6cddd203
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - gmp-dev
#  - libev-dev
#  - linux-headers
#  - m4
#  - ncurses-dev
#  - openssl-dev
#  - pcre-dev
#  - perl
#  - pkgconfig
ncurses-dev
pkgconf
# The following new OS packages need to be installed: gmp-dev libev-dev linux-headers m4 openssl-dev pcre-dev perl
The following command needs to be run through "sudo":
    apk update
fetch http://dl-cdn.alpinelinux.org/alpine/v3.5/main/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.5/community/x86_64/APKINDEX.tar.gz
v3.5.2-46-gdf4d97eba7 [http://dl-cdn.alpinelinux.org/alpine/v3.5/main]
v3.5.2-47-ga46d5990dc [http://dl-cdn.alpinelinux.org/alpine/v3.5/community]
OK: 7962 distinct packages available
# OS package update successful
The following command needs to be run through "sudo":
    apk add gmp-dev libev-dev linux-headers m4 openssl-dev pcre-dev perl
(1/15) Installing libgmpxx (6.1.1-r0)
(2/15) Installing gmp-dev (6.1.1-r0)
(3/15) Installing libev (4.22-r0)
(4/15) Installing libev-dev (4.22-r0)
(5/15) Installing linux-headers (4.4.6-r1)
(6/15) Installing m4 (1.4.17-r1)
(7/15) Installing zlib-dev (1.2.8-r2)
(8/15) Installing libcrypto1.0 (1.0.2k-r0)
(9/15) Installing libssl1.0 (1.0.2k-r0)
(10/15) Installing openssl-dev (1.0.2k-r0)
(11/15) Installing libpcre16 (8.39-r0)
(12/15) Installing libpcre32 (8.39-r0)
(13/15) Installing libpcrecpp (8.39-r0)
(14/15) Installing pcre-dev (8.39-r0)
(15/15) Installing perl (5.24.0-r0)
Executing busybox-1.25.1-r0.trigger
OK: 644 MiB in 104 packages
# OS packages installation successful
# Now letting OPAM install the packages

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[protocol-9p.0.8.0] no changes from git+https://github.com/talex5/ocaml-9p.git#ping
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/protocol-9p/opam from 1.2 to 2.0~beta
[0m[github.2.3.0] no changes from git+https://github.com/mirage/ocaml-github.git
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/github/opam from 1.2 to 2.0~beta
[0m
The following actions will be performed:
  - install conf-gmp         1                                  [required by zarith]
  - install mirage-no-xen    1                                  [required by nocrypto]
  - install conf-m4          1                                  [required by ocamlfind]
  - install cmdliner         0.9.8
  - install mirage-no-solo5  1                                  [required by nocrypto]
  - install conf-perl        1                                  [required by zarith]
  - install conf-libev       4-11
  - install conf-which       1                                  [required by biniou]
  - install result           1.2                                [required by protocol-9p, alcotest, lwt, rresult]
  - install ocamlfind        1.7.1                              [required by protocol-9p, mirage-types-lwt, lambda-term, etc.]
  - install zarith           1.4.1                              [required by nocrypto]
  - install topkg            0.8.1                              [required by protocol-9p, alcotest, rresult]
  - install sexplib          113.33.00+4.03                     [required by protocol-9p]
  - install react            1.2.0                              [required by lambda-term, lwt]
  - install ppx_tools        5.0                                [required by lwt, protocol-9p]
  - install ocamlmod         0.0.8                              [required by oasis]
  - install ocamlify         0.0.1                              [required by oasis]
  - install menhir           20170101                           [required by atd]
  - install magic-mime       1.0.0                              [required by cohttp]
  - install fieldslib        113.24.00                          [required by cohttp]
  - install easy-format      1.2.0                              [required by biniou, atd, yojson]
  - install base-bytes       base                               [required by inotify, protocol-9p]
  - install rresult          0.5.0
  - install fmt              0.8.0                              [required by prometheus-app, alcotest, protocol-9p]
  - install astring          0.8.3                              [required by alcotest, protocol-9p]
  - install asetmap          0.8.1                              [required by prometheus]
  - install ppx_core         113.33.01+4.03                     [required by ppx_fields_conv]
  - install lwt              2.7.0
       For module Lwt_react, please install package lwt_react
  - install oasis            0.4.8                              [required by tls]
  - install biniou           1.0.12                             [required by atdgen]
  - install atd              1.2.0                              [required by atdgen]
  - install win-error        0.2                                [required by protocol-9p]
  - install stringext        1.4.3                              [required by github]
  - install re               1.7.1                              [required by cohttp]
  - install cppo             1.4.1                              [required by yojson, camomile]
  - install base64           2.1.2                              [required by cohttp]
  - install ocb-stubblr      0.1.1                              [required by named-pipe]
  - install alcotest         0.7.2
  - install ppx_optcomp      113.33.01+4.03                     [required by conduit]
  - install prometheus       0.1                                [required by prometheus-app, protocol-9p]
  - install logs             0.6.2                              [required by protocol-9p]
  - install inotify          2.3
  - install yojson           1.3.3                              [required by github]
  - install ppx_deriving     4.1                                [required by protocol-9p]
  - install ocplib-endian    1.0                                [required by cstruct]
  - install camomile         0.8.5                              [required by zed]
  - install named-pipe       0.4.0                              [required by protocol-9p]
  - install cpuid            0.1.0                              [required by nocrypto]
  - install ppx_driver       113.33.02+4.03                     [required by conduit]
  - install atdgen           1.10.0                             [required by github]
  - install cstruct          2.3.2                              [required by mirage-types-lwt, protocol-9p]
  - install zed              1.4                                [required by lambda-term]
  - install ppx_type_conv    113.33.02+4.03                     [required by ppx_fields_conv]
  - install io-page          1.6.1                              [required by mirage-types-lwt]
  - install asn1-combinators 0.1.3                              [required by x509]
  - install lambda-term      1.10.1
  - install ppx_sexp_conv    113.33.01+4.03                     [required by protocol-9p]
  - install ppx_fields_conv  113.33.00+4.03                     [required by cohttp]
  - install uri              1.9.2                              [required by github]
  - install nocrypto         0.5.4                              [required by tls]
  - install ipaddr           2.7.2                              [required by mirage-types-lwt]
  - install x509             0.5.3                              [required by tls]
  - install mirage-types     2.8.0                              [required by mirage-types-lwt]
  - install mirage-types-lwt 2.8.0
  - install tls              0.7.1                              [required by github]
  - install channel          1.1.1                              [required by protocol-9p]
  - install conduit          0.14.5                             [required by cohttp]
  - install protocol-9p      0.8.0*
  - install cohttp           0.21.1                             [required by github, prometheus-app]
  - install prometheus-app   0.1
  - install github           2.3.0*
===== 71 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[asetmap.0.8.1] downloaded from http://erratique.ch/software/asetmap/releases/asetmap-0.8.1.tbz
[astring.0.8.3] downloaded from http://erratique.ch/software/astring/releases/astring-0.8.3.tbz
[asn1-combinators.0.1.3] downloaded from https://github.com/mirleft/ocaml-asn1-combinators/releases/download/v0.1.3/asn1-combinators-0.1.3.tbz
[alcotest.0.7.2] downloaded from https://github.com/mirage/alcotest/releases/download/0.7.2/alcotest-0.7.2.tbz
[atd.1.2.0] downloaded from https://github.com/mjambon/atd/archive/v1.2.0.tar.gz
[base64.2.1.2] downloaded from https://github.com/mirage/ocaml-base64/releases/download/v2.1.2/base64-2.1.2.tbz
[atdgen.1.10.0] downloaded from https://github.com/mjambon/atdgen/archive/v1.10.0.tar.gz
[biniou.1.0.12] downloaded from https://github.com/mjambon/biniou/archive/v1.0.12.tar.gz
[cmdliner.0.9.8] downloaded from http://erratique.ch/software/cmdliner/releases/cmdliner-0.9.8.tbz
[channel.1.1.1] downloaded from https://github.com/mirage/mirage-channel/releases/download/v1.1.1/channel-1.1.1.tbz
[cohttp.0.21.1] downloaded from https://github.com/mirage/ocaml-cohttp/archive/v0.21.1.tar.gz
[cppo.1.4.1] downloaded from https://github.com/mjambon/cppo/archive/v1.4.1.tar.gz
[conduit.0.14.5] downloaded from https://github.com/mirage/ocaml-conduit/archive/v0.14.5.tar.gz
[cstruct.2.3.2] downloaded from https://github.com/mirage/ocaml-cstruct/archive/v2.3.2.tar.gz
[cpuid.0.1.0] downloaded from https://github.com/pqwy/cpuid/releases/download/v0.1.0/cpuid-0.1.0.tbz
[fieldslib.113.24.00] downloaded from https://ocaml.janestreet.com/ocaml-core/113.24/files/fieldslib-113.24.00.tar.gz
[fmt.0.8.0] downloaded from http://erratique.ch/software/fmt/releases/fmt-0.8.0.tbz
[easy-format.1.2.0] downloaded from https://github.com/mjambon/easy-format/archive/v1.2.0.tar.gz
[camomile.0.8.5] downloaded from https://github.com/yoriyuki/Camomile/releases/download/rel-0.8.5/camomile-0.8.5.tar.bz2
[inotify.2.3] downloaded from https://github.com/whitequark/ocaml-inotify/archive/v2.3.tar.gz
[github.2.3.0] synchronised from git+https://github.com/mirage/ocaml-github.git
[io-page.1.6.1] downloaded from https://github.com/mirage/io-page/archive/v1.6.1.tar.gz
[logs.0.6.2] downloaded from http://erratique.ch/software/logs/releases/logs-0.6.2.tbz
[ipaddr.2.7.2] downloaded from https://github.com/mirage/ocaml-ipaddr/releases/download/2.7.2/ipaddr-2.7.2.tbz
[lambda-term.1.10.1] downloaded from https://github.com/diml/lambda-term/archive/1.10.1.tar.gz
[menhir.20170101] downloaded from http://gallium.inria.fr/~fpottier/menhir/menhir-20170101.tar.gz
[lwt.2.7.0] downloaded from https://github.com/ocsigen/lwt/archive/2.7.0.tar.gz
[magic-mime.1.0.0] downloaded from https://github.com/mirage/ocaml-magic-mime/archive/v1.0.0.tar.gz
[mirage-types.2.8.0] downloaded from https://github.com/mirage/mirage/archive/v2.8.0.tar.gz
[named-pipe.0.4.0] downloaded from https://github.com/mirage/ocaml-named-pipe/releases/download/0.4.0/named-pipe-0.4.0.tbz
[ocamlfind.1.7.1] downloaded from http://download.camlcity.org/download/findlib-1.7.1.tar.gz
[oasis.0.4.8] downloaded from https://forge.ocamlcore.org/frs/download.php/1669/oasis-0.4.8.tar.gz
[ocamlify.0.0.1] downloaded from http://forge.ocamlcore.org/frs/download.php/379/ocamlify-0.0.1.tar.gz
[ocamlmod.0.0.8] downloaded from https://forge.ocamlcore.org/frs/download.php/1544/ocamlmod-0.0.8.tar.gz
[ocb-stubblr.0.1.1] downloaded from https://github.com/pqwy/ocb-stubblr/releases/download/v0.1.1/ocb-stubblr-0.1.1.tbz
[ocplib-endian.1.0] downloaded from https://github.com/OCamlPro/ocplib-endian/archive/1.0.tar.gz
[nocrypto.0.5.4] downloaded from https://github.com/mirleft/ocaml-nocrypto/releases/download/v0.5.4/nocrypto-0.5.4.tbz
[ppx_core.113.33.01+4.03] downloaded from https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_core-113.33.01+4.03.tar.gz
[ppx_deriving.4.1] downloaded from https://github.com/whitequark/ppx_deriving/archive/v4.1.tar.gz
[ppx_driver.113.33.02+4.03] downloaded from https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_driver-113.33.02+4.03.tar.gz
[ppx_fields_conv.113.33.00+4.03] downloaded from https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_fields_conv-113.33.00+4.03.tar.gz
[ppx_optcomp.113.33.01+4.03] downloaded from https://github.com/janestreet/ppx_optcomp/archive/113.33.01+4.03.tar.gz
[ppx_sexp_conv.113.33.01+4.03] downloaded from https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_sexp_conv-113.33.01+4.03.tar.gz
[ppx_tools.5.0] downloaded from https://github.com/alainfrisch/ppx_tools/tarball/f70ca1d07d565989a0041e312e8efc00ff2ad87e
[ppx_type_conv.113.33.02+4.03] downloaded from https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_type_conv-113.33.02+4.03.tar.gz
[prometheus.0.1] downloaded from https://github.com/mirage/prometheus/releases/download/v0.1/prometheus-0.1.tbz
[prometheus-app.0.1] downloaded from https://github.com/mirage/prometheus/releases/download/v0.1/prometheus-0.1.tbz
[react.1.2.0] downloaded from http://erratique.ch/software/react/releases/react-1.2.0.tbz
[protocol-9p.0.8.0] synchronised from git+https://github.com/talex5/ocaml-9p.git#ping
[rresult.0.5.0] downloaded from http://erratique.ch/software/rresult/releases/rresult-0.5.0.tbz
[re.1.7.1] downloaded from https://github.com/ocaml/ocaml-re/archive/1.7.1.tar.gz
[result.1.2] downloaded from https://github.com/janestreet/result/archive/1.2.tar.gz
[sexplib.113.33.00+4.03] downloaded from https://ocaml.janestreet.com/ocaml-core/113.33/files/sexplib-113.33.00+4.03.tar.gz
[topkg.0.8.1] downloaded from http://erratique.ch/software/topkg/releases/topkg-0.8.1.tbz
[stringext.1.4.3] downloaded from https://github.com/rgrinberg/stringext/archive/v1.4.3.tar.gz
[win-error.0.2] downloaded from https://github.com/djs55/ocaml-win-error/archive/v0.2.tar.gz
[uri.1.9.2] downloaded from https://github.com/mirage/ocaml-uri/archive/v1.9.2.tar.gz
[tls.0.7.1] downloaded from https://github.com/mirleft/ocaml-tls/archive/0.7.1.tar.gz
[yojson.1.3.3] downloaded from https://github.com/mjambon/yojson/archive/v1.3.3.tar.gz
[zarith.1.4.1] downloaded from https://forge.ocamlcore.org/frs/download.php/1574/zarith-1.4.1.tgz
[x509.0.5.3] downloaded from https://github.com/mirleft/ocaml-x509/archive/0.5.3.tar.gz
[zed.1.4] downloaded from https://github.com/diml/zed/archive/1.4.tar.gz

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> installed cmdliner.0.9.8
-> installed conf-gmp.1
-> installed conf-libev.4-11
-> installed conf-m4.1
-> installed conf-perl.1
-> installed conf-which.1
-> installed mirage-no-solo5.1
-> installed mirage-no-xen.1
-> installed ocamlfind.1.7.1
-> installed base-bytes.base
-> installed cppo.1.4.1
-> installed camomile.0.8.5
-> installed easy-format.1.2.0
-> installed biniou.1.0.12
-> installed fieldslib.113.24.00
-> installed magic-mime.1.0.0
-> installed menhir.20170101
-> installed atd.1.2.0
-> installed ocamlify.0.0.1
-> installed ocamlmod.0.0.8
-> installed oasis.0.4.8
-> installed ocplib-endian.1.0
-> installed ppx_tools.5.0
-> installed ppx_core.113.33.01+4.03
-> installed ppx_optcomp.113.33.01+4.03
-> installed ppx_driver.113.33.02+4.03
-> installed re.1.7.1
-> installed react.1.2.0
-> installed result.1.2
-> installed lwt.2.7.0
-> installed inotify.2.3
-> installed ppx_deriving.4.1
-> installed ppx_type_conv.113.33.02+4.03
-> installed ppx_fields_conv.113.33.00+4.03
-> installed sexplib.113.33.00+4.03
-> installed cstruct.2.3.2
-> installed io-page.1.6.1
-> installed ppx_sexp_conv.113.33.01+4.03
-> installed stringext.1.4.3
-> installed topkg.0.8.1
-> installed asetmap.0.8.1
-> installed astring.0.8.3
-> installed base64.2.1.2
-> installed fmt.0.8.0
-> installed alcotest.0.7.2
-> installed ipaddr.2.7.2
-> installed logs.0.6.2
-> installed mirage-types.2.8.0
-> installed mirage-types-lwt.2.8.0
-> installed channel.1.1.1
-> installed ocb-stubblr.0.1.1
-> installed cpuid.0.1.0
-> installed named-pipe.0.4.0
-> installed prometheus.0.1
-> installed rresult.0.5.0
-> installed uri.1.9.2
-> installed win-error.0.2
-> installed yojson.1.3.3
-> installed atdgen.1.10.0
-> installed zarith.1.4.1
-> installed asn1-combinators.0.1.3
-> installed nocrypto.0.5.4
-> installed x509.0.5.3
-> installed tls.0.7.1
-> installed conduit.0.14.5
-> installed cohttp.0.21.1
-> installed prometheus-app.0.1
-> installed zed.1.4
-> installed lambda-term.1.10.1
-> installed github.2.3.0
-> installed protocol-9p.0.8.0
Done.

=-=- lwt.2.7.0 installed successfully -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
=> The future Lwt 3.0.0 will make minor breaking changes near 1 April 2017. See
     https://github.com/ocsigen/lwt/issues/308
# Run eval `opam env` to update the current shell environment
 ---> f0822c38f53a
Error removing intermediate container dc75641c1906: No such container: dc75641c19063f01c3bfc29aa016765f29ea02899467842aaea25db020acd254
Step 7/26 : COPY check-libev.ml /tmp/check-libev.ml
 ---> 072eca931b0b
Error removing intermediate container dc75641c1906: No such container: dc75641c19063f01c3bfc29aa016765f29ea02899467842aaea25db020acd254
Step 8/26 : RUN opam config exec -- ocaml /tmp/check-libev.ml
 ---> Running in 1e0706f6a658
 ---> c1357f3abdad
Error removing intermediate container dc75641c1906: No such container: dc75641c19063f01c3bfc29aa016765f29ea02899467842aaea25db020acd254
Step 9/26 : COPY datakit-client.opam /home/opam/src/datakit/datakit-client.opam
 ---> 23230afac34e
Error removing intermediate container dc75641c1906: No such container: dc75641c19063f01c3bfc29aa016765f29ea02899467842aaea25db020acd254
Step 10/26 : COPY datakit-server.opam /home/opam/src/datakit/datakit-server.opam
 ---> 3842cfee0ecc
Removing intermediate container 6cb7ea77351c
Error removing intermediate container dc75641c1906: No such container: dc75641c19063f01c3bfc29aa016765f29ea02899467842aaea25db020acd254
Step 11/26 : COPY datakit-github.opam /home/opam/src/datakit/datakit-github.opam
 ---> 4bb829660354
Removing intermediate container 77325ecacaa4
Removing intermediate container 1e0706f6a658
Removing intermediate container 1e07de79ff4a
Removing intermediate container 8e14d04ced96
Error removing intermediate container dc75641c1906: No such container: dc75641c19063f01c3bfc29aa016765f29ea02899467842aaea25db020acd254
Step 12/26 : COPY datakit-bridge-github.opam /home/opam/src/datakit/datakit-bridge-github.opam
 ---> c0911e8022ba
Removing intermediate container dd5a938255b2
Error removing intermediate container dc75641c1906: No such container: dc75641c19063f01c3bfc29aa016765f29ea02899467842aaea25db020acd254
Step 13/26 : RUN opam pin add datakit-server.dev /home/opam/src/datakit -yn &&     opam pin add datakit-client.dev /home/opam/src/datakit -yn &&     opam pin add datakit-github.dev /home/opam/src/datakit -yn &&     opam pin add datakit-bridge-github.dev /home/opam/src/datakit -yn
 ---> Running in c8d9a3e79d28
[datakit-server.dev: rsync]
[datakit-server.dev] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit-server/datakit-server.opam from 1.2 to 2.0~beta
[0mdatakit-server is now pinned to file:///home/opam/src/datakit (version dev)
[datakit-client.dev: rsync]
[datakit-client.dev] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit-client/datakit-client.opam from 1.2 to 2.0~beta
[0mdatakit-client is now pinned to file:///home/opam/src/datakit (version dev)
[datakit-github.dev: rsync]
[datakit-github.dev] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit-github/datakit-github.opam from 1.2 to 2.0~beta
[0mdatakit-github is now pinned to file:///home/opam/src/datakit (version dev)
[datakit-bridge-github.dev: rsync]
[datakit-bridge-github.dev] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit-bridge-github/datakit-bridge-github.opam from 1.2 to 2.0~beta
[0mdatakit-bridge-github is now pinned to file:///home/opam/src/datakit (version dev)
 ---> 276f58a71f1d
Error removing intermediate container dc75641c1906: No such container: dc75641c19063f01c3bfc29aa016765f29ea02899467842aaea25db020acd254
Step 14/26 : COPY . /home/opam/src/datakit
 ---> 2ff8dcca1934
Error removing intermediate container dc75641c1906: No such container: dc75641c19063f01c3bfc29aa016765f29ea02899467842aaea25db020acd254
Step 15/26 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in 8e44599ba09c
 ---> 63c40cbd602b
Removing intermediate container bca044a66cbe
Removing intermediate container 8e44599ba09c
Error removing intermediate container dc75641c1906: No such container: dc75641c19063f01c3bfc29aa016765f29ea02899467842aaea25db020acd254
Step 16/26 : RUN cd /home/opam/src/datakit &&     git diff && git status --porcelain &&     git checkout . && scripts/watermark.sh &&     git status --porcelain
 ---> Running in 7148b5b2dcff
 M src/version.ml
 ---> cb6f9dd17107
Error removing intermediate container dc75641c1906: No such container: dc75641c19063f01c3bfc29aa016765f29ea02899467842aaea25db020acd254
Step 17/26 : RUN opam install datakit-bridge-github -y
 ---> Running in 13f5764a03c4

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-bridge-github.dev] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit-bridge-github/datakit-bridge-github.opam from 1.2 to 2.0~beta
[0m
The following actions will be performed:
  - install asl                   0.10                          [required by datakit-bridge-github]
  - install datakit-server        dev*                          [required by datakit-bridge-github]
  - install win-eventlog          0.1                           [required by datakit-bridge-github]
  - install datakit-client        dev*                          [required by datakit-bridge-github]
  - install mtime                 0.8.4                         [required by datakit-bridge-github]
  - install hex                   1.0.0                         [required by datakit-bridge-github]
  - install duration              0.1.0                         [required by hvsock]
  - install mirage-flow           1.1.0                         [required by hvsock]
  - install datakit-github        dev*                          [required by datakit-bridge-github]
  - install github-hooks          0.1.1                         [required by datakit-bridge-github]
  - install hvsock                0.11.1                        [required by datakit-bridge-github]
  - install datakit-bridge-github dev*
===== 12 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-bridge-github.dev] synchronised from file:///home/opam/src/datakit
[datakit-client.dev] synchronised from file:///home/opam/src/datakit
[datakit-github.dev] synchronised from file:///home/opam/src/datakit
[datakit-server.dev] synchronised from file:///home/opam/src/datakit
[duration.0.1.0] downloaded from https://github.com/hannesm/duration/releases/download/0.1.0/duration-0.1.0.tbz
[asl.0.10] downloaded from https://github.com/mirage/ocaml-asl/archive/v0.10.tar.gz
[github-hooks.0.1.1] downloaded from https://github.com/dsheets/ocaml-github-hooks/releases/download/0.1.1/github-hooks-0.1.1.tbz
[hex.1.0.0] downloaded from https://github.com/mirage/ocaml-hex/archive/1.0.0.tar.gz
[mtime.0.8.4] downloaded from http://erratique.ch/software/mtime/releases/mtime-0.8.4.tbz
[hvsock.0.11.1] downloaded from https://github.com/mirage/ocaml-hvsock/archive/v0.11.1.tar.gz
[mirage-flow.1.1.0] downloaded from https://github.com/mirage/mirage-flow/archive/v1.1.0.tar.gz
[win-eventlog.0.1] downloaded from https://github.com/djs55/ocaml-win-eventlog/archive/v0.1.tar.gz

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> installed asl.0.10
-> installed datakit-client.dev
-> installed datakit-github.dev
-> installed datakit-server.dev
-> installed duration.0.1.0
-> installed hex.1.0.0
-> installed github-hooks.0.1.1
-> installed mirage-flow.1.1.0
-> installed hvsock.0.11.1
-> installed mtime.0.8.4
-> installed win-eventlog.0.1
-> installed datakit-bridge-github.dev
Done.
# Run eval `opam env` to update the current shell environment
 ---> 0fdb4d0ca759
Removing intermediate container 7148b5b2dcff
Error removing intermediate container 13f5764a03c4: Driver aufs failed to remove root filesystem 13f5764a03c4da085908391ceabeff106107f175178db906ef3b269a6fc3057a: rename /var/lib/docker/aufs/mnt/74e9b2f1dba2c3d6ef8bd8a5df1fc3ef7df87b4661e66d68d6ee14a58236fd3b /var/lib/docker/aufs/mnt/74e9b2f1dba2c3d6ef8bd8a5df1fc3ef7df87b4661e66d68d6ee14a58236fd3b-removing: device or resource busy
Step 18/26 : RUN sudo cp $(opam config exec -- which datakit-bridge-github) /usr/bin/
 ---> Running in 6ecc2c578e7c
 ---> 05488d627654
Removing intermediate container 924f6cddd203
Removing intermediate container c8d9a3e79d28
Removing intermediate container 6ecc2c578e7c
Error removing intermediate container 13f5764a03c4: No such container: 13f5764a03c4da085908391ceabeff106107f175178db906ef3b269a6fc3057a
Step 19/26 : USER root
 ---> Running in aa6f922262f8
 ---> 48ba7dc3a526
Error removing intermediate container 13f5764a03c4: No such container: 13f5764a03c4da085908391ceabeff106107f175178db906ef3b269a6fc3057a
Step 20/26 : FROM alpine:3.5
3.5: Pulling from library/alpine
Digest: sha256:58e1a1bb75db1b5a24a462dd5e2915277ea06438c3f105138f97eb53149673c4
Status: Image is up to date for alpine:3.5
 ---> 4a415e366388
Error removing intermediate container 13f5764a03c4: No such container: 13f5764a03c4da085908391ceabeff106107f175178db906ef3b269a6fc3057a
Step 21/26 : RUN apk add --no-cache libev gmp tzdata ca-certificates
 ---> Using cache
 ---> cfa1a4a81238
Error removing intermediate container dc75641c1906: No such container: dc75641c19063f01c3bfc29aa016765f29ea02899467842aaea25db020acd254
Step 22/26 : EXPOSE 5640
 ---> Using cache
 ---> 8877e13165b7
Error removing intermediate container dc75641c1906: No such container: dc75641c19063f01c3bfc29aa016765f29ea02899467842aaea25db020acd254
Step 23/26 : EXPOSE 5641
 ---> Running in 1e1e81364ebb
 ---> 80015c1626a5
Error removing intermediate container dc75641c1906: No such container: dc75641c19063f01c3bfc29aa016765f29ea02899467842aaea25db020acd254
Step 24/26 : ENTRYPOINT /usr/bin/datakit
 ---> Running in 08bf9e7d8d66
 ---> c4f2f4140201
Removing intermediate container aa6f922262f8
Removing intermediate container 1e1e81364ebb
Removing intermediate container 08bf9e7d8d66
Error removing intermediate container 13f5764a03c4: No such container: 13f5764a03c4da085908391ceabeff106107f175178db906ef3b269a6fc3057a
Step 25/26 : CMD --listen=tcp://0.0.0.0:5641 -v --datakit=tcp:127.0.0.1:5640
 ---> Running in 2bd3591c87bb
 ---> 2ed0e4216a96
Error removing intermediate container dc75641c1906: No such container: dc75641c19063f01c3bfc29aa016765f29ea02899467842aaea25db020acd254
Step 26/26 : COPY --from 0 /usr/bin/datakit-bridge-github /usr/bin/datakit-bridge-github
Missing a value on flag: from
[2017-04-19 10:14.39] Failed: Command "docker" "build" "--pull" "-f" "Dockerfile.github" "." exited with status 1
