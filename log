=== Run docker-build-server on commit dac83d3a5aedc09ae630e5f7e2a3767939621b71
[2016-11-22 15:03.11] Starting...
Cloning into '/tmp/with_clone312ac285'...
done.
HEAD is now at dac83d3 ci: add Prometheus metric reporting
[2016-11-22 15:03.12] Running "docker" "build" "--pull" "-f" "Dockerfile.server" "."...
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 5.642 MB
Step 1 : FROM ocaml/opam:alpine
alpine: Pulling from ocaml/opam
3690ec4760f9: Already exists
f7fbfc4181f4: Pulling fs layer
5a1a12605468: Pulling fs layer
c36ddd52cd6e: Pulling fs layer
5a1a12605468: Verifying Checksum
5a1a12605468: Download complete
c36ddd52cd6e: Download complete
f7fbfc4181f4: Verifying Checksum
f7fbfc4181f4: Download complete
f7fbfc4181f4: Pull complete
5a1a12605468: Pull complete
c36ddd52cd6e: Pull complete
Digest: sha256:f903be364a78f9c339d7de3bb6bbf057743f9aaa71958d26e7ba5f2805c5d8d5
Status: Downloaded newer image for ocaml/opam:alpine
 ---> 5181a2d37143
Step 2 : RUN cd /home/opam/opam-repository && git pull && opam update -y
 ---> Running in 704b143b8f03
[91mFrom git://github.com/ocaml/opam-repository
[0m[91m   c5ec6a9..1104e5d  master     -> origin/master
[0mUpdating c5ec6a9..1104e5d
Fast-forward
 compilers/4.05.0/4.05.0+pr930/4.05.0+pr930.comp    | 11 ++++
 compilers/4.05.0/4.05.0+pr930/4.05.0+pr930.descr   |  1 +
 compilers/4.05.0/4.05.0+pr931/4.05.0+pr931.comp    | 11 ++++
 compilers/4.05.0/4.05.0+pr931/4.05.0+pr931.descr   |  1 +
 packages/alsa/alsa.0.2.3/descr                     |  1 +
 packages/alsa/alsa.0.2.3/findlib                   |  1 +
 packages/alsa/alsa.0.2.3/opam                      | 20 ++++++++
 packages/alsa/alsa.0.2.3/url                       |  2 +
 packages/alt-ergo/alt-ergo.1.30/descr              |  7 +++
 packages/alt-ergo/alt-ergo.1.30/opam               | 38 ++++++++++++++
 packages/alt-ergo/alt-ergo.1.30/url                |  2 +
 packages/altgr-ergo/altgr-ergo.1.30/descr          |  7 +++
 packages/altgr-ergo/altgr-ergo.1.30/opam           | 41 +++++++++++++++
 packages/altgr-ergo/altgr-ergo.1.30/url            |  2 +
 packages/channel/channel.1.1.1/opam                | 20 +++++---
 packages/distwit/distwit.0.1.0/descr               |  4 ++
 packages/distwit/distwit.0.1.0/opam                | 14 +++++
 packages/distwit/distwit.0.1.0/url                 |  2 +
 packages/dns-forward/dns-forward.0.7.2/descr       |  9 ++++
 packages/dns-forward/dns-forward.0.7.2/findlib     |  1 +
 packages/dns-forward/dns-forward.0.7.2/opam        | 35 +++++++++++++
 packages/dns-forward/dns-forward.0.7.2/url         |  2 +
 packages/efl/efl.1.18.0/descr                      | 12 +++++
 packages/efl/efl.1.18.0/opam                       | 22 ++++++++
 packages/efl/efl.1.18.0/url                        |  2 +
 packages/fat-filesystem/fat-filesystem.0.10.0/opam |  5 +-
 packages/fat-filesystem/fat-filesystem.0.10.1/opam |  5 +-
 packages/fat-filesystem/fat-filesystem.0.10.2/opam |  5 +-
 packages/fat-filesystem/fat-filesystem.0.10.3/opam |  4 +-
 packages/fat-filesystem/fat-filesystem.0.11.0/opam |  4 +-
 packages/fat-filesystem/fat-filesystem.0.6.0/opam  | 10 +++-
 packages/fat-filesystem/fat-filesystem.0.6.2/opam  |  6 ++-
 packages/fat-filesystem/fat-filesystem.0.7.0/opam  |  5 +-
 packages/fat-filesystem/fat-filesystem.0.8.0/opam  |  5 +-
 packages/fat-filesystem/fat-filesystem.0.9.0/opam  |  5 +-
 packages/gapi-ocaml/gapi-ocaml.0.2.14/descr        | 11 ++++
 packages/gapi-ocaml/gapi-ocaml.0.2.14/findlib      |  1 +
 packages/gapi-ocaml/gapi-ocaml.0.2.14/opam         | 36 +++++++++++++
 packages/gapi-ocaml/gapi-ocaml.0.2.14/url          |  2 +
 .../google-drive-ocamlfuse.0.5.25/opam             |  2 +-
 packages/lymp/lymp.0.1.2/descr                     |  2 +
 packages/lymp/lymp.0.1.2/opam                      | 20 ++++++++
 packages/lymp/lymp.0.1.2/url                       |  2 +
 packages/lymp/lymp.0.1/descr                       |  2 +-
 packages/lymp/lymp.0.1/opam                        |  4 +-
 packages/lymp/lymp.0.1/url                         |  3 +-
 packages/mbr-format/mbr-format.0.3/opam            |  6 +--
 .../mirage-block-ramdisk.0.1/opam                  | 18 +++----
 .../mirage-block-ramdisk.0.2/opam                  | 18 +++----
 .../mirage-block-solo5.0.1.1/opam                  | 27 +++++-----
 .../mirage-block-xen/mirage-block-xen.1.3.1/opam   | 33 ++++++------
 .../mirage-block-xen/mirage-block-xen.1.4.0/opam   | 37 ++++++-------
 packages/mirage-block/mirage-block.0.1/opam        | 19 +++----
 packages/mirage-block/mirage-block.0.2/opam        | 19 +++----
 packages/mirage-conduit/mirage-conduit.2.0.0/opam  | 14 +++--
 packages/mirage-conduit/mirage-conduit.2.1.0/opam  | 21 ++++----
 packages/mirage-conduit/mirage-conduit.2.2.0/opam  | 28 +++++-----
 packages/mirage-console/mirage-console.2.0.0/opam  |  7 +--
 packages/mirage-console/mirage-console.2.1.0/opam  |  8 ++-
 packages/mirage-console/mirage-console.2.1.1/opam  |  7 +--
 packages/mirage-console/mirage-console.2.1.2/opam  | 32 +++++-------
 packages/mirage-console/mirage-console.2.1.3/opam  | 32 +++++-------
 packages/mirage-fs-unix/mirage-fs-unix.1.1.4/opam  | 22 ++++----
 packages/mirage-fs-unix/mirage-fs-unix.1.2.0/opam  | 21 ++++----
 packages/mirage-fs-unix/mirage-fs-unix.1.2.1/opam  | 25 ++++-----
 packages/mirage-logs/mirage-logs.0.1/opam          | 20 +++-----
 packages/mirage/mirage.2.0.0/opam                  | 17 ++----
 packages/mirage/mirage.2.0.1/opam                  | 17 ++----
 packages/mirage/mirage.2.1.0/opam                  | 17 ++----
 packages/mirage/mirage.2.1.1/opam                  | 17 ++----
 packages/mirage/mirage.2.2.1/opam                  | 17 ++----
 packages/mirage/mirage.2.3.0/opam                  | 17 ++----
 packages/mirage/mirage.2.4.0/opam                  | 16 +++---
 packages/mirage/mirage.2.5.0/opam                  | 17 +++---
 packages/mirage/mirage.2.6.0/opam                  | 23 ++++-----
 packages/mirage/mirage.2.6.1/opam                  | 23 ++++-----
 packages/mirage/mirage.2.7.3/opam                  | 32 +++++-------
 packages/mirage/mirage.2.8.0/opam                  | 32 +++++-------
 packages/mirage/mirage.2.9.0/opam                  |  4 +-
 packages/mirage/mirage.2.9.1/opam                  |  4 +-
 .../msgpack/msgpack.1.0.0/files/no-camlp4.patch    | 60 ++++++++++++++++++++++
 .../msgpack/msgpack.1.1.0/files/no-camlp4.patch    | 60 ++++++++++++++++++++++
 .../msgpack/msgpack.1.1.1/files/no-camlp4.patch    | 60 ++++++++++++++++++++++
 .../msgpack/msgpack.1.2.0/files/no-camlp4.patch    | 60 ++++++++++++++++++++++
 .../msgpack/msgpack.1.2.1/files/no-camlp4.patch    | 60 ++++++++++++++++++++++
 packages/omake/omake.0.10.1/descr                  |  1 +
 packages/omake/omake.0.10.1/opam                   | 22 ++++++++
 packages/omake/omake.0.10.1/url                    |  2 +
 packages/ppx_bigarray/ppx_bigarray.2.0.0/descr     |  1 +
 packages/ppx_bigarray/ppx_bigarray.2.0.0/opam      | 27 ++++++++++
 packages/ppx_bigarray/ppx_bigarray.2.0.0/url       |  2 +
 packages/ppxx/ppxx.1.3.1/descr                     |  4 ++
 packages/ppxx/ppxx.1.3.1/opam                      | 26 ++++++++++
 packages/ppxx/ppxx.1.3.1/url                       |  2 +
 packages/psq/psq.0.1.0/descr                       | 16 ++++++
 packages/psq/psq.0.1.0/opam                        | 17 ++++++
 packages/psq/psq.0.1.0/url                         |  2 +
 packages/qcow-format/qcow-format.0.1/opam          | 20 +++-----
 packages/qcow-format/qcow-format.0.2/opam          | 24 ++++-----
 packages/qcow-format/qcow-format.0.3/opam          | 23 +++------
 packages/qcow-format/qcow-format.0.4.1/opam        | 23 +++------
 packages/qcow-format/qcow-format.0.4.2/opam        | 23 +++------
 packages/qcow-format/qcow-format.0.4/opam          | 23 +++------
 packages/socketcan/socketcan.0.8.7-0/descr         |  3 ++
 packages/socketcan/socketcan.0.8.7-0/findlib       |  1 +
 packages/socketcan/socketcan.0.8.7-0/opam          | 26 ++++++++++
 packages/socketcan/socketcan.0.8.7-0/url           |  2 +
 packages/syndic/syndic.1.5.3/descr                 |  4 ++
 packages/syndic/syndic.1.5.3/findlib               |  1 +
 packages/syndic/syndic.1.5.3/opam                  | 34 ++++++++++++
 packages/syndic/syndic.1.5.3/url                   |  2 +
 packages/syslog/syslog.1.4/url                     |  2 +-
 packages/typpx/typpx.1.2.0/descr                   |  9 ++++
 packages/typpx/typpx.1.2.0/opam                    | 26 ++++++++++
 packages/typpx/typpx.1.2.0/url                     |  2 +
 packages/ulex/ulex.1.1/url                         |  2 +-
 packages/vhd-format/vhd-format.0.7.0/opam          | 13 +++--
 packages/vhd-format/vhd-format.0.7.1/opam          | 13 +++--
 packages/vhd-format/vhd-format.0.8.0/opam          | 17 +++---
 packages/xen-evtchn/xen-evtchn.1.0.7/descr         |  3 ++
 packages/xen-evtchn/xen-evtchn.1.0.7/findlib       |  3 ++
 packages/xen-evtchn/xen-evtchn.1.0.7/opam          | 25 +++++++++
 packages/xen-evtchn/xen-evtchn.1.0.7/url           |  2 +
 packages/xen-gnt/xen-gnt.2.2.3/descr               |  5 ++
 packages/xen-gnt/xen-gnt.2.2.3/findlib             |  2 +
 packages/xen-gnt/xen-gnt.2.2.3/opam                | 33 ++++++++++++
 packages/xen-gnt/xen-gnt.2.2.3/url                 |  2 +
 127 files changed, 1335 insertions(+), 529 deletions(-)
 create mode 100644 compilers/4.05.0/4.05.0+pr930/4.05.0+pr930.comp
 create mode 100644 compilers/4.05.0/4.05.0+pr930/4.05.0+pr930.descr
 create mode 100644 compilers/4.05.0/4.05.0+pr931/4.05.0+pr931.comp
 create mode 100644 compilers/4.05.0/4.05.0+pr931/4.05.0+pr931.descr
 create mode 100644 packages/alsa/alsa.0.2.3/descr
 create mode 100644 packages/alsa/alsa.0.2.3/findlib
 create mode 100644 packages/alsa/alsa.0.2.3/opam
 create mode 100644 packages/alsa/alsa.0.2.3/url
 create mode 100644 packages/alt-ergo/alt-ergo.1.30/descr
 create mode 100644 packages/alt-ergo/alt-ergo.1.30/opam
 create mode 100644 packages/alt-ergo/alt-ergo.1.30/url
 create mode 100644 packages/altgr-ergo/altgr-ergo.1.30/descr
 create mode 100644 packages/altgr-ergo/altgr-ergo.1.30/opam
 create mode 100644 packages/altgr-ergo/altgr-ergo.1.30/url
 create mode 100644 packages/distwit/distwit.0.1.0/descr
 create mode 100644 packages/distwit/distwit.0.1.0/opam
 create mode 100644 packages/distwit/distwit.0.1.0/url
 create mode 100644 packages/dns-forward/dns-forward.0.7.2/descr
 create mode 100644 packages/dns-forward/dns-forward.0.7.2/findlib
 create mode 100644 packages/dns-forward/dns-forward.0.7.2/opam
 create mode 100644 packages/dns-forward/dns-forward.0.7.2/url
 create mode 100644 packages/efl/efl.1.18.0/descr
 create mode 100644 packages/efl/efl.1.18.0/opam
 create mode 100644 packages/efl/efl.1.18.0/url
 create mode 100644 packages/gapi-ocaml/gapi-ocaml.0.2.14/descr
 create mode 100644 packages/gapi-ocaml/gapi-ocaml.0.2.14/findlib
 create mode 100644 packages/gapi-ocaml/gapi-ocaml.0.2.14/opam
 create mode 100644 packages/gapi-ocaml/gapi-ocaml.0.2.14/url
 create mode 100644 packages/lymp/lymp.0.1.2/descr
 create mode 100644 packages/lymp/lymp.0.1.2/opam
 create mode 100644 packages/lymp/lymp.0.1.2/url
 create mode 100644 packages/omake/omake.0.10.1/descr
 create mode 100644 packages/omake/omake.0.10.1/opam
 create mode 100644 packages/omake/omake.0.10.1/url
 create mode 100644 packages/ppx_bigarray/ppx_bigarray.2.0.0/descr
 create mode 100644 packages/ppx_bigarray/ppx_bigarray.2.0.0/opam
 create mode 100644 packages/ppx_bigarray/ppx_bigarray.2.0.0/url
 create mode 100644 packages/ppxx/ppxx.1.3.1/descr
 create mode 100644 packages/ppxx/ppxx.1.3.1/opam
 create mode 100644 packages/ppxx/ppxx.1.3.1/url
 create mode 100644 packages/psq/psq.0.1.0/descr
 create mode 100644 packages/psq/psq.0.1.0/opam
 create mode 100644 packages/psq/psq.0.1.0/url
 create mode 100644 packages/socketcan/socketcan.0.8.7-0/descr
 create mode 100644 packages/socketcan/socketcan.0.8.7-0/findlib
 create mode 100644 packages/socketcan/socketcan.0.8.7-0/opam
 create mode 100644 packages/socketcan/socketcan.0.8.7-0/url
 create mode 100644 packages/syndic/syndic.1.5.3/descr
 create mode 100644 packages/syndic/syndic.1.5.3/findlib
 create mode 100644 packages/syndic/syndic.1.5.3/opam
 create mode 100644 packages/syndic/syndic.1.5.3/url
 create mode 100644 packages/typpx/typpx.1.2.0/descr
 create mode 100644 packages/typpx/typpx.1.2.0/opam
 create mode 100644 packages/typpx/typpx.1.2.0/url
 create mode 100644 packages/xen-evtchn/xen-evtchn.1.0.7/descr
 create mode 100644 packages/xen-evtchn/xen-evtchn.1.0.7/findlib
 create mode 100644 packages/xen-evtchn/xen-evtchn.1.0.7/opam
 create mode 100644 packages/xen-evtchn/xen-evtchn.1.0.7/url
 create mode 100644 packages/xen-gnt/xen-gnt.2.2.3/descr
 create mode 100644 packages/xen-gnt/xen-gnt.2.2.3/findlib
 create mode 100644 packages/xen-gnt/xen-gnt.2.2.3/opam
 create mode 100644 packages/xen-gnt/xen-gnt.2.2.3/url

=-=- Updating package repositories =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[default: local] Command started
[default: local] Command started
[default: local] Command started
[default] /home/opam/opam-repository synchronized
 ---> 292d00941828
Removing intermediate container 704b143b8f03
Step 3 : RUN opam depext -ui lwt inotify alcotest conf-libev lambda-term
 ---> Running in 2233dd458cad
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - libev-dev
#  - m4
#  - ncurses-dev
#  - pkgconfig
ncurses-dev
pkgconfig
# The following new OS packages need to be installed: libev-dev m4
The following command needs to be run through "sudo":
    apk update
fetch http://dl-cdn.alpinelinux.org/alpine/v3.4/main/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.4/community/x86_64/APKINDEX.tar.gz
fetch http://www.cl.cam.ac.uk/~avsm2/alpine-ocaml/3.4/x86_64/APKINDEX.tar.gz
v3.4.6-8-ga4354fb [http://dl-cdn.alpinelinux.org/alpine/v3.4/main]
v3.4.6-5-g027d8ce [http://dl-cdn.alpinelinux.org/alpine/v3.4/community]
testing v3.3.0-55-g55836a9 [http://www.cl.cam.ac.uk/~avsm2/alpine-ocaml/3.4]
OK: 5976 distinct packages available
# OS package update successful
The following command needs to be run through "sudo":
    apk add libev-dev m4
(1/3) Installing libev (4.22-r0)
(2/3) Installing libev-dev (4.22-r0)
(3/3) Installing m4 (1.4.17-r1)
Executing busybox-1.24.2-r12.trigger
OK: 435 MiB in 86 packages
# OS packages installation successful
# Now letting OPAM install the packages
The following actions will be performed:
  - install conf-m4     1                                       [required by ocamlfind]
  - install conf-libev  4-11      
  - install result      1.2                                     [required by alcotest, lwt]
  - install ocamlfind   1.6.2                                   [required by lambda-term, alcotest, inotify, lwt]
  - install topkg       0.8.1                                   [required by alcotest]
  - install react       1.2.0                                   [required by lambda-term, lwt]
  - install ppx_tools   5.0+4.03.0                              [required by lwt]
  - install camomile    0.8.5                                   [required by zed]
  - install base-bytes  base                                    [required by inotify, lwt]
  - install fmt         0.8.0                                   [required by alcotest]
  - install astring     0.8.3                                   [required by alcotest]
  - install zed         1.4                                     [required by lambda-term]
  - install lwt         2.6.0     
  - install alcotest    0.7.2     
  - install lambda-term 1.10.1    
  - install inotify     2.3       
===== 16 to install =====
Do you want to continue ? [Y/n] y

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[alcotest: http] Command started
[astring: http] Command started
[camomile: http] Command started
[astring: http] Command started
[astring.0.8.3] http://erratique.ch/software/astring/releases/astring-0.8.3.tbz downloaded
[fmt: http] Command started
[fmt: http] Command started
[fmt.0.8.0] http://erratique.ch/software/fmt/releases/fmt-0.8.0.tbz downloaded
[inotify: http] Command started
[alcotest: http] Command started
[alcotest.0.7.2] https://github.com/mirage/alcotest/releases/download/0.7.2/alcotest-0.7.2.tbz downloaded
[lambda-term: http] Command started
[inotify: http] Command started
[inotify.2.3] https://github.com/whitequark/ocaml-inotify/archive/v2.3.tar.gz downloaded
[lwt: http] Command started
[lambda-term: http] Command started
[lambda-term.1.10.1] https://github.com/diml/lambda-term/archive/1.10.1.tar.gz downloaded
[ocamlfind: http] Command started
[ocamlfind: http] Command started
[ocamlfind.1.6.2] http://download.camlcity.org/download/findlib-1.6.2.tar.gz downloaded
[ppx_tools: http] Command started
[camomile: http] Command started
[camomile.0.8.5] https://github.com/yoriyuki/Camomile/releases/download/rel-0.8.5/camomile-0.8.5.tar.bz2 downloaded
[react: http] Command started
[react: http] Command started
[react.1.2.0] http://erratique.ch/software/react/releases/react-1.2.0.tbz downloaded
[result: http] Command started
[lwt: http] Command started
[lwt.2.6.0] https://github.com/ocsigen/lwt/archive/2.6.0.tar.gz downloaded
[topkg: http] Command started
[topkg: http] Command started
[topkg.0.8.1] http://erratique.ch/software/topkg/releases/topkg-0.8.1.tbz downloaded
[zed: http] Command started
[ppx_tools: http] Command started
[ppx_tools.5.0+4.03.0] https://github.com/alainfrisch/ppx_tools/archive/5.0+4.03.0.tar.gz downloaded
[result: http] Command started
[result.1.2] https://github.com/janestreet/result/archive/1.2.tar.gz downloaded
[zed: http] Command started
[zed.1.4] https://github.com/diml/zed/archive/1.4.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[conf-libev: ./build.sh] Command started
[conf-m4: sh echo | m4] Command started
[result: make] Command started
-> installed conf-m4.1
[ocamlfind: ./configure] Command started
-> installed conf-libev.4-11
-> installed result.1.2
[ocamlfind: make all] Command started
[ocamlfind: make opt] Command started
[ocamlfind: make install] Command started
-> installed ocamlfind.1.6.2
-> installed base-bytes.base
[camomile: ./configure] Command started
[ppx_tools: make all] Command started
[react: ocaml] Command started
[topkg: ocaml build] Command started
[react: ocaml] Command started
[camomile: make] Command started
-> installed react.1.2.0
[ppx_tools: make install] Command started
-> installed ppx_tools.5.0+4.03.0
[lwt: ocaml setup.ml] Command started
-> installed topkg.0.8.1
[astring: ocaml build] Command started
[fmt: ocaml build] Command started
-> installed fmt.0.8.0
-> installed astring.0.8.3
[alcotest: ocaml build] Command started
-> installed alcotest.0.7.2
[lwt: make build] Command started
[lwt: make install] Command started
-> installed lwt.2.6.0
[inotify: ocaml setup.ml] Command started
[inotify: ocaml setup.ml] Command started
[inotify: ocaml setup.ml] Command started
-> installed inotify.2.3
[camomile: make install] Command started
-> installed camomile.0.8.5
[zed: ocaml setup.ml] Command started
[zed: ocaml setup.ml] Command started
[zed: ocaml setup.ml] Command started
-> installed zed.1.4
[lambda-term: ocaml setup.ml] Command started
[lambda-term: ocaml setup.ml] Command started
[lambda-term: ocaml setup.ml] Command started
-> installed lambda-term.1.10.1
Done.
 ---> f888bf30db94
Removing intermediate container 2233dd458cad
Step 4 : COPY datakit-server.opam /home/opam/src/datakit/datakit-server.opam
 ---> 1468280ccca1
Removing intermediate container 9a6f22cbe9a3
Step 5 : RUN opam pin add datakit-server.dev /home/opam/src/datakit -n
 ---> Running in bd1e5f5daadd
datakit-server is now path-pinned to /home/opam/src/datakit

[datakit-server: local]
[datakit-server] /home/opam/src/datakit/ synchronized

 ---> 8bdc3909adf7
Removing intermediate container bd1e5f5daadd
Step 6 : RUN opam depext datakit-server && opam install datakit-server --deps
 ---> Running in 7d587b7c3757
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - m4
#  - ncurses-dev
#  - pkgconfig
m4
ncurses-dev
pkgconfig
# All required OS packages found.

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-server: local] Command started
[datakit-server] /home/opam/src/datakit/ already up-to-date
The following actions will be performed:
  - install stringext        1.4.3         
  - install rresult          0.5.0         
  - install logs             0.6.2         
  - install cppo             1.4.1         
  - install ocb-stubblr      0.1.0         
  - install re               1.7.1         
  - install win-error        0.2           
  - install ppx_core         113.33.01+4.03
  - install sexplib          113.33.00+4.03
  - install ppx_deriving     4.1           
  - install ocplib-endian    1.0           
  - install named-pipe       0.4.0         
  - install ppx_optcomp      113.33.00+4.03
  - install cstruct          2.3.0         
  - install ppx_driver       113.33.01+4.03
  - install io-page          1.6.1         
  - install ppx_type_conv    113.33.02+4.03
  - install ppx_sexp_conv    113.33.01+4.03
  - install uri              1.9.2         
  - install ipaddr           2.7.1         
  - install mirage-types     2.8.0         
  - install mirage-types-lwt 2.8.0         
  - install channel          1.1.1         
  - install protocol-9p      0.7.4         
===== 24 to install =====
Do you want to continue ? [Y/n] y

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[channel: http] Command started
[cppo: http] Command started
[cstruct: http] Command started
[channel: http] Command started
[channel.1.1.1] https://github.com/mirage/mirage-channel/releases/download/v1.1.1/channel-1.1.1.tbz downloaded
[io-page: http] Command started
[cppo: http] Command started
[cppo.1.4.1] https://github.com/mjambon/cppo/archive/v1.4.1.tar.gz downloaded
[ipaddr: http] Command started
[ipaddr: http] Command started
[ipaddr.2.7.1] https://github.com/mirage/ocaml-ipaddr/releases/download/2.7.1/ipaddr-2.7.1.tbz downloaded
[logs: http] Command started
[cstruct: http] Command started
[cstruct.2.3.0] https://github.com/mirage/ocaml-cstruct/archive/v2.3.0.tar.gz downloaded
[mirage-types: http] Command started
[io-page: http] Command started
[io-page.1.6.1] https://github.com/mirage/io-page/archive/v1.6.1.tar.gz downloaded
[named-pipe: http] Command started
[logs: http] Command started
[logs.0.6.2] http://erratique.ch/software/logs/releases/logs-0.6.2.tbz downloaded
[ocb-stubblr: http] Command started
[named-pipe: http] Command started
[named-pipe.0.4.0] https://github.com/mirage/ocaml-named-pipe/releases/download/0.4.0/named-pipe-0.4.0.tbz downloaded
[ocplib-endian: http] Command started
[ocb-stubblr: http] Command started
[ocb-stubblr.0.1.0] https://github.com/pqwy/ocb-stubblr/releases/download/v0.1.0/ocb-stubblr-0.1.0.tbz downloaded
[ppx_core: http] Command started
[mirage-types: http] Command started
[mirage-types.2.8.0] https://github.com/mirage/mirage/archive/v2.8.0.tar.gz downloaded
[ppx_deriving: http] Command started
[ppx_core: http] Command started
[ppx_core.113.33.01+4.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_core-113.33.01+4.03.tar.gz downloaded
[ppx_driver: http] Command started
[ocplib-endian: http] Command started
[ocplib-endian.1.0] https://github.com/OCamlPro/ocplib-endian/archive/1.0.tar.gz downloaded
[ppx_optcomp: http] Command started
[ppx_driver: http] Command started
[ppx_driver.113.33.01+4.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_driver-113.33.01+4.03.tar.gz downloaded
[ppx_sexp_conv: http] Command started
[ppx_deriving: http] Command started
[ppx_deriving.4.1] https://github.com/whitequark/ppx_deriving/archive/v4.1.tar.gz downloaded
[ppx_type_conv: http] Command started
[ppx_optcomp: http] Command started
[ppx_optcomp.113.33.00+4.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_optcomp-113.33.00+4.03.tar.gz downloaded
[protocol-9p: http] Command started
[ppx_sexp_conv: http] Command started
[ppx_sexp_conv.113.33.01+4.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_sexp_conv-113.33.01+4.03.tar.gz downloaded
[re: http] Command started
[ppx_type_conv: http] Command started
[ppx_type_conv.113.33.02+4.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_type_conv-113.33.02+4.03.tar.gz downloaded
[rresult: http] Command started
[rresult: http] Command started
[rresult.0.5.0] http://erratique.ch/software/rresult/releases/rresult-0.5.0.tbz downloaded
[sexplib: http] Command started
[protocol-9p: http] Command started
[protocol-9p.0.7.4] https://github.com/mirage/ocaml-9p/releases/download/v0.7.4/protocol-9p-0.7.4.tbz downloaded
[stringext: http] Command started
[sexplib: http] Command started
[sexplib.113.33.00+4.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/sexplib-113.33.00+4.03.tar.gz downloaded
[uri: http] Command started
[re: http] Command started
[re.1.7.1] https://github.com/ocaml/ocaml-re/archive/1.7.1.tar.gz downloaded
[win-error: http] Command started
[stringext: http] Command started
[stringext.1.4.3] https://github.com/rgrinberg/stringext/archive/v1.4.3.tar.gz downloaded
[win-error: http] Command started
[win-error.0.2] https://github.com/djs55/ocaml-win-error/archive/v0.2.tar.gz downloaded
[uri: http] Command started
[uri.1.9.2] https://github.com/mirage/ocaml-uri/archive/v1.9.2.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[cppo: make opt] Command started
[logs: ocaml build] Command started
[ocb-stubblr: ocaml build] Command started
[ppx_core: ./configure] Command started
-> installed ocb-stubblr.0.1.0
[named-pipe: ocaml build] Command started
-> installed logs.0.6.2
[re: ocaml setup.ml] Command started
[cppo: make ocamlbuild] Command started
[ppx_core: make] Command started
[cppo: make install-lib] Command started
-> installed cppo.1.4.1
[ocplib-endian: ocaml setup.ml] Command started
[ocplib-endian: ocaml setup.ml] Command started
[re: ocaml setup.ml] Command started
-> installed named-pipe.0.4.0
[ppx_deriving: ocaml] Command started
[ocplib-endian: ocaml setup.ml] Command started
-> installed ocplib-endian.1.0
[rresult: ocaml build] Command started
-> installed rresult.0.5.0
[sexplib: ./configure] Command started
[re: ocaml setup.ml] Command started
[sexplib: make] Command started
-> installed re.1.7.1
[stringext: ocaml setup.ml] Command started
-> installed ppx_deriving.4.1
[win-error: make] Command started
[stringext: ocaml setup.ml] Command started
[stringext: ocaml setup.ml] Command started
[win-error: make install] Command started
-> installed stringext.1.4.3
-> installed sexplib.113.33.00+4.03
[cstruct: ./configure] Command started
-> installed win-error.0.2
[cstruct: make] Command started
-> installed ppx_core.113.33.01+4.03
[ppx_optcomp: ./configure] Command started
[ppx_optcomp: make] Command started
[cstruct: make install] Command started
[cstruct: make js-install] Command started
-> installed cstruct.2.3.0
[io-page: ./configure] Command started
[io-page: make] Command started
-> installed ppx_optcomp.113.33.00+4.03
[ppx_driver: ./configure] Command started
[ppx_driver: make] Command started
[io-page: make install] Command started
-> installed io-page.1.6.1
-> installed ppx_driver.113.33.01+4.03
[ppx_type_conv: ./configure] Command started
[ppx_type_conv: make] Command started
-> installed ppx_type_conv.113.33.02+4.03
[ppx_sexp_conv: ./configure] Command started
[ppx_sexp_conv: make] Command started
-> installed ppx_sexp_conv.113.33.01+4.03
[ipaddr: ocaml build] Command started
[uri: ocaml setup.ml] Command started
-> installed ipaddr.2.7.1
[mirage-types: make build-types] Command started
[uri: ocaml setup.ml] Command started
[mirage-types: make install-types] Command started
-> installed mirage-types.2.8.0
-> installed mirage-types-lwt.2.8.0
[channel: ocaml build] Command started
-> installed channel.1.1.1
[protocol-9p: ocaml build] Command started
[uri: ocaml setup.ml] Command started
-> installed uri.1.9.2
-> installed protocol-9p.0.7.4
Done.
 ---> 6010e98bfdd9
Removing intermediate container 7d587b7c3757
Step 7 : COPY . /home/opam/src/datakit
 ---> d04225bfc67b
Removing intermediate container 40df98e9c466
Step 8 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in aec03381b387
 ---> 9f226ea4f8a7
Removing intermediate container aec03381b387
Step 9 : RUN cd /home/opam/src/datakit &&     git diff && git status --porcelain &&     git checkout . && scripts/watermark.sh &&     git status --porcelain
 ---> Running in b6b42e5c4735
 M src/version.ml
 ---> f3f676ae9fe2
Removing intermediate container b6b42e5c4735
Step 10 : RUN opam update datakit-server
 ---> Running in f1ab5503c420

=-=- Synchronizing development packages -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-server: local] Command started
[datakit-server] /home/opam/src/datakit/ synchronized
 ---> 88141e0fdd64
Removing intermediate container f1ab5503c420
Step 11 : RUN opam install datakit-server.dev -vv
 ---> Running in e083457d0233

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-server: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/4.03.0/packages.dev/datakit-server"
- sending incremental file list
- 
- sent 7,355 bytes  received 37 bytes  14,784.00 bytes/sec
- total size is 1,171,199  speedup is 158.44
[datakit-server] /home/opam/src/datakit/ already up-to-date
The following actions will be performed:
  - install datakit-server dev*

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-server: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/4.03.0/packages.dev/datakit-server"
- sending incremental file list
- 
- sent 7,355 bytes  received 37 bytes  14,784.00 bytes/sec
- total size is 1,171,199  speedup is 158.44
[datakit-server.dev] /home/opam/src/datakit/ already up-to-date

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-server: ocaml build] Command started
+ ocaml "pkg/pkg.ml" "build" "--pinned" "true" "-n" "datakit-server" (CWD=/home/opam/.opam/4.03.0/build/datakit-server.dev)
- ocamlfind ocamlopt unix.cmxa -I /home/opam/.opam/4.03.0/lib/ocamlbuild /home/opam/.opam/4.03.0/lib/ocamlbuild/ocamlbuildlib.cmxa -linkpkg myocamlbuild.ml /home/opam/.opam/4.03.0/lib/ocamlbuild/ocamlbuild.cmx -o myocamlbuild
- ocamlfind ocamldep -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit-server/vfs.ml > src/datakit-server/vfs.ml.depends
- ocamlfind ocamldep -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit-server/vfs.mli > src/datakit-server/vfs.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit-server -I src -I ci/src -I src/datakit -o src/datakit-server/vfs.cmi src/datakit-server/vfs.mli
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit-server -I src -I ci/src -I src/datakit -o src/datakit-server/vfs.cmx src/datakit-server/vfs.ml
- ocamlfind ocamlopt -a -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' src/datakit-server/vfs.cmx -o src/datakit-server/vfs.cmxa
- ocamlfind ocamlopt -shared -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' src/datakit-server/vfs.cmx -o src/datakit-server/vfs.cmxs
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit-server -I src -I ci/src -I src/datakit -o src/datakit-server/vfs.cmo src/datakit-server/vfs.ml
- ocamlfind ocamlc -a -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' src/datakit-server/vfs.cmo -o src/datakit-server/vfs.cma
- ocamlfind ocamldep -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit-server/fs9p.ml > src/datakit-server/fs9p.ml.depends
- ocamlfind ocamldep -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit-server/fs9p.mli > src/datakit-server/fs9p.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit-server -I src -I ci/src -I src/datakit -o src/datakit-server/fs9p.cmi src/datakit-server/fs9p.mli
- ocamlfind ocamldep -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit-server/fs9p_error.ml > src/datakit-server/fs9p_error.ml.depends
- ocamlfind ocamldep -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit-server/fs9p_error.mli > src/datakit-server/fs9p_error.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit-server -I src -I ci/src -I src/datakit -o src/datakit-server/fs9p_error.cmi src/datakit-server/fs9p_error.mli
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit-server -I src -I ci/src -I src/datakit -o src/datakit-server/fs9p_error.cmx src/datakit-server/fs9p_error.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit-server -I src -I ci/src -I src/datakit -o src/datakit-server/fs9p.cmx src/datakit-server/fs9p.ml
- ocamlfind ocamlopt -a -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' src/datakit-server/fs9p_error.cmx src/datakit-server/fs9p.cmx -o src/datakit-server/fs9p.cmxa
- ocamlfind ocamlopt -shared -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' src/datakit-server/fs9p.cmx -o src/datakit-server/fs9p.cmxs
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit-server -I src -I ci/src -I src/datakit -o src/datakit-server/fs9p.cmo src/datakit-server/fs9p.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit-server -I src -I ci/src -I src/datakit -o src/datakit-server/fs9p_error.cmo src/datakit-server/fs9p_error.ml
- ocamlfind ocamlc -a -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' src/datakit-server/fs9p_error.cmo src/datakit-server/fs9p.cmo -o src/datakit-server/fs9p.cma
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-server.dev/_build/datakit-server.opam" "/home/opam/.opam/4.03.0/lib/datakit-server/opam"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-server.dev/_build/pkg/META.server" "/home/opam/.opam/4.03.0/lib/datakit-server/META"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-server.dev/_build/src/datakit-server/fs9p.a" "/home/opam/.opam/4.03.0/lib/datakit-server/fs9p.a"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-server.dev/_build/src/datakit-server/fs9p.cma" "/home/opam/.opam/4.03.0/lib/datakit-server/fs9p.cma"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-server.dev/_build/src/datakit-server/fs9p.cmi" "/home/opam/.opam/4.03.0/lib/datakit-server/fs9p.cmi"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-server.dev/_build/src/datakit-server/fs9p.cmti" "/home/opam/.opam/4.03.0/lib/datakit-server/fs9p.cmti"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-server.dev/_build/src/datakit-server/fs9p.cmx" "/home/opam/.opam/4.03.0/lib/datakit-server/fs9p.cmx"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-server.dev/_build/src/datakit-server/fs9p.cmxa" "/home/opam/.opam/4.03.0/lib/datakit-server/fs9p.cmxa"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-server.dev/_build/src/datakit-server/fs9p.cmxs" "/home/opam/.opam/4.03.0/lib/datakit-server/fs9p.cmxs"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-server.dev/_build/src/datakit-server/fs9p.mli" "/home/opam/.opam/4.03.0/lib/datakit-server/fs9p.mli"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-server.dev/_build/src/datakit-server/fs9p_error.cmi" "/home/opam/.opam/4.03.0/lib/datakit-server/fs9p_error.cmi"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-server.dev/_build/src/datakit-server/fs9p_error.cmti" "/home/opam/.opam/4.03.0/lib/datakit-server/fs9p_error.cmti"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-server.dev/_build/src/datakit-server/fs9p_error.cmx" "/home/opam/.opam/4.03.0/lib/datakit-server/fs9p_error.cmx"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-server.dev/_build/src/datakit-server/fs9p_error.mli" "/home/opam/.opam/4.03.0/lib/datakit-server/fs9p_error.mli"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-server.dev/_build/src/datakit-server/vfs.a" "/home/opam/.opam/4.03.0/lib/datakit-server/vfs.a"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-server.dev/_build/src/datakit-server/vfs.cma" "/home/opam/.opam/4.03.0/lib/datakit-server/vfs.cma"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-server.dev/_build/src/datakit-server/vfs.cmi" "/home/opam/.opam/4.03.0/lib/datakit-server/vfs.cmi"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-server.dev/_build/src/datakit-server/vfs.cmti" "/home/opam/.opam/4.03.0/lib/datakit-server/vfs.cmti"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-server.dev/_build/src/datakit-server/vfs.cmx" "/home/opam/.opam/4.03.0/lib/datakit-server/vfs.cmx"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-server.dev/_build/src/datakit-server/vfs.cmxa" "/home/opam/.opam/4.03.0/lib/datakit-server/vfs.cmxa"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-server.dev/_build/src/datakit-server/vfs.cmxs" "/home/opam/.opam/4.03.0/lib/datakit-server/vfs.cmxs"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-server.dev/_build/src/datakit-server/vfs.mli" "/home/opam/.opam/4.03.0/lib/datakit-server/vfs.mli"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-server.dev/_build/CHANGES.md" "/home/opam/.opam/4.03.0/doc/datakit-server/CHANGES.md"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-server.dev/_build/LICENSE.md" "/home/opam/.opam/4.03.0/doc/datakit-server/LICENSE.md"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-server.dev/_build/README.md" "/home/opam/.opam/4.03.0/doc/datakit-server/README.md"
-> installed datakit-server.dev
Done.
 ---> 300e62293e92
Removing intermediate container e083457d0233
Successfully built 300e62293e92
[2016-11-22 15:09.55] Success
