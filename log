=== Docker build Dockerfile.ci
[2017-02-02 14:03.29] Starting...
Cloning into '/tmp/with_clone1a1a19e7'...
done.
HEAD is now at a9d60d4 Merge pull request #469 from talex5/log-indicator
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 6.128 MBSending build context to Docker daemon 6.139 MB
Step 1/17 : FROM ocaml/opam:alpine-3.5_ocaml-4.04.0
alpine-3.5_ocaml-4.04.0: Pulling from ocaml/opam
Digest: sha256:aa72b91ed887e6e3161121642b32c7415c4f57047c5eb7011594cbd224773113
Status: Image is up to date for ocaml/opam:alpine-3.5_ocaml-4.04.0
 ---> d584e207406b
Step 2/17 : ENV OPAMYES 1
 ---> Using cache
 ---> 9de7042c1dcd
Step 3/17 : RUN sudo apk add tzdata
 ---> Using cache
 ---> b5373e968868
Step 4/17 : RUN opam depext -i opam-devel && sudo cp $(opam config var "opam-devel:lib")/opam /usr/bin/opam
 ---> Using cache
 ---> c2b3d781c608
Step 5/17 : RUN rm -rf ~/.opam
 ---> Using cache
 ---> 6e1946554a77
Step 6/17 : RUN opam init -y
 ---> Using cache
 ---> c65d20ed6d1a
Step 7/17 : RUN opam install ocaml -y
 ---> Using cache
 ---> ad56d0b53b1f
Step 8/17 : RUN opam install depext -y
 ---> Using cache
 ---> f46f233ad38b
Step 9/17 : RUN opam pin add -yn prometheus https://github.com/docker/datakit.git &&     opam pin add -yn prometheus-app https://github.com/docker/datakit.git &&     opam pin add -yn datakit-client https://github.com/docker/datakit.git &&     opam pin add -yn github --dev &&     opam pin add -yn datakit-github https://github.com/docker/datakit.git &&     opam pin add -yn datakit-server https://github.com/docker/datakit.git &&     opam pin add -yn datakit https://github.com/docker/datakit.git
 ---> Using cache
 ---> a9e637853f7f
Step 10/17 : ADD datakit-ci.opam /tmp/deps/opam
 ---> Using cache
 ---> 8d8a77a56e88
Step 11/17 : RUN opam pin add -y tmp /tmp/deps/opam -n
 ---> Using cache
 ---> 609bd82dfc0d
Step 12/17 : RUN opam depext tmp -y
 ---> Using cache
 ---> 0e83ff1e556a
Step 13/17 : RUN opam install --deps-only tmp -y
 ---> Using cache
 ---> 7bbfd7c435d9
Step 14/17 : ADD . /home/opam/datakit
 ---> 31552504fc4c
Removing intermediate container 6db31a4eb369
Step 15/17 : RUN sudo chown opam /home/opam/datakit
 ---> Running in b6c3ee50d250
 ---> 2acbea230655
Removing intermediate container b6c3ee50d250
Step 16/17 : RUN opam pin add -k git datakit-ci /home/opam/datakit -y
 ---> Running in f49cc95765e2
Package datakit-ci does not exist, create as a NEW package ? [Y/n] y
[datakit-ci: git]
[datakit-ci: git]
[datakit-ci] git+file:///home/opam/datakit changed
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/packages.dev/datakit-ci/datakit-ci.opam from 1.2 to 2.0~alpha3
[0mdatakit-ci is now pinned to git+file:///home/opam/datakit (version ~dev)

[91m[NOTE] Pinning in mixed mode: OPAM will use tracked files in the current working tree from /home/opam/datakit. If this is not what you want, pin to a given branch (e.g. git+file:///home/opam/datakit#HEAD)
[0mThe following actions will be performed:
  - install datakit-ci ~dev*

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/1: [datakit-ci: git]
[datakit-ci] git+file:///home/opam/datakit changed

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/2: [datakit-ci: ocaml build]
-> installed datakit-ci.~dev
Done.
# Run eval `opam config env` to update the current shell environment
 ---> 7e647d4a3ac9
Removing intermediate container f49cc95765e2
Step 17/17 : VOLUME /secrets
 ---> Running in d0526abdd345
 ---> c3789d6e50af
Removing intermediate container d0526abdd345
Successfully built c3789d6e50af
[2017-02-02 14:04.07] Success
