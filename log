=== Docker build Dockerfile.ci
[2017-04-26 10:14.24] Starting...
Cloning into '/tmp/with_clonec102684'...
done.
warning: remote HEAD refers to nonexistent ref, unable to checkout.

HEAD is now at 64ecc70 Merge pull request #531 from samoht/new-irmin-bis
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.232 MB
Step 1/18 : FROM ocaml/opam-dev@sha256:337fd0f78b182a12da3f66d9d5ca075dbb79df414fc01d6a0aee99ffeb35552a
sha256:337fd0f78b182a12da3f66d9d5ca075dbb79df414fc01d6a0aee99ffeb35552a: Pulling from ocaml/opam-dev
Digest: sha256:337fd0f78b182a12da3f66d9d5ca075dbb79df414fc01d6a0aee99ffeb35552a
Status: Image is up to date for ocaml/opam-dev@sha256:337fd0f78b182a12da3f66d9d5ca075dbb79df414fc01d6a0aee99ffeb35552a
 ---> 9107a2254d1d
Step 2/18 : ENV OPAMERRLOGLEN 0 OPAMYES 1
 ---> Using cache
 ---> 90b67f82c489
Step 3/18 : RUN sudo apk add tzdata aspcud
 ---> Using cache
 ---> 1a4e4ce8b7ee
Step 4/18 : RUN opam pin add hvsock.0.14.0 -n https://github.com/mirage/ocaml-hvsock.git#88397c37a910c61507a9655ed8413c1692294da0
 ---> Using cache
 ---> afaec49f149c
Step 5/18 : RUN opam pin add irmin.1.1.0 -n https://github.com/mirage/irmin.git#89196ad17c53b02f333022a87ecc264ec8c06af0
 ---> Using cache
 ---> e276a27b48b0
Step 6/18 : RUN opam pin add irmin-git.1.1.0 -n https://github.com/mirage/irmin.git#89196ad17c53b02f333022a87ecc264ec8c06af0
 ---> Using cache
 ---> ba98ccd23980
Step 7/18 : RUN opam pin add irmin-unix.1.1.0 -n https://github.com/mirage/irmin.git#89196ad17c53b02f333022a87ecc264ec8c06af0
 ---> Using cache
 ---> 297aa4eca0a1
Step 8/18 : RUN opam pin add -yn protocol-9p.0.9.0 'https://github.com/talex5/ocaml-9p.git#ping-mirage-3'
 ---> Using cache
 ---> a722a29b281f
Step 9/18 : RUN opam depext -i asl win-eventlog camlzip alcotest mtime mirage-flow hvsock git irmin irmin-unix lwt protocol-9p tyxml redis multipart-form-data pbkdf tls prometheus-app github git session irmin irmin-unix cmdliner webmachine
 ---> Using cache
 ---> 854efda22547
Step 10/18 : ADD . /home/opam/datakit
 ---> f5dcfda83afa
Removing intermediate container fb79ce57fbad
Step 11/18 : RUN sudo chown opam /home/opam/datakit
 ---> Running in dad570fc2ff4
 ---> 1258fb550a9e
Removing intermediate container dad570fc2ff4
Step 12/18 : RUN opam pin add -k git datakit-client.dev /home/opam/datakit -y
 ---> Running in 99f2e9e0302e
[datakit-client.dev: git]
[datakit-client.dev: git]
[datakit-client.dev: git]
[datakit-client.dev: git]
[datakit-client.dev] synchronised from git+file:///home/opam/datakit#master
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit-client/datakit-client.opam from 1.2 to 2.0~beta
[0mdatakit-client is now pinned to git+file:///home/opam/datakit#master (version dev)

The following actions will be performed:
  - install datakit-client dev*
[datakit-client.dev] synchronised from git+file:///home/opam/datakit#master

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> installed datakit-client.dev
Done.
# Run eval `opam env` to update the current shell environment
 ---> 496208822189
Removing intermediate container 99f2e9e0302e
Step 13/18 : RUN opam pin add -k git datakit-server.dev /home/opam/datakit -y
 ---> Running in ac9eebe0ce81
[datakit-server.dev: git]
[datakit-server.dev: git]
[datakit-server.dev: git]
[datakit-server.dev: git]
[datakit-server.dev] synchronised from git+file:///home/opam/datakit#master
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit-server/datakit-server.opam from 1.2 to 2.0~beta
[0mdatakit-server is now pinned to git+file:///home/opam/datakit#master (version dev)

The following actions will be performed:
  - install datakit-server dev*
[datakit-server.dev] synchronised from git+file:///home/opam/datakit#master

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> installed datakit-server.dev
Done.
# Run eval `opam env` to update the current shell environment
 ---> 4e231f4b87da
Error removing intermediate container ac9eebe0ce81: Driver aufs failed to remove root filesystem ac9eebe0ce81f47921fb2927c9345704fc8cdd8ac52bc26aaf2d8c887dad120c: rename /var/lib/docker/aufs/mnt/c5b349cfa5390bcb9dc37d881765e3e617cec3cf48bca869a32e8d74abee5363 /var/lib/docker/aufs/mnt/c5b349cfa5390bcb9dc37d881765e3e617cec3cf48bca869a32e8d74abee5363-removing: device or resource busy
Step 14/18 : RUN opam pin add -k git datakit-github.dev /home/opam/datakit -y
 ---> Running in 2f92b98b4db8
[datakit-github.dev: git]
[datakit-github.dev: git]
[datakit-github.dev: git]
[datakit-github.dev: git]
[datakit-github.dev] synchronised from git+file:///home/opam/datakit#master
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit-github/datakit-github.opam from 1.2 to 2.0~beta
[0mdatakit-github is now pinned to git+file:///home/opam/datakit#master (version dev)

The following actions will be performed:
  - install datakit-github dev*
[datakit-github.dev] synchronised from git+file:///home/opam/datakit#master

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> installed datakit-github.dev
Done.
# Run eval `opam env` to update the current shell environment
 ---> 69b0a84d2883
Error removing intermediate container ac9eebe0ce81: No such container: ac9eebe0ce81f47921fb2927c9345704fc8cdd8ac52bc26aaf2d8c887dad120c
Step 15/18 : RUN opam pin add -k git datakit.dev /home/opam/datakit -y
 ---> Running in d91450c77f35
[datakit.dev: git]
[datakit.dev: git]
[datakit.dev: git]
[datakit.dev: git]
[datakit.dev] synchronised from git+file:///home/opam/datakit#master
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit/datakit.opam from 1.2 to 2.0~beta
[0mdatakit is now pinned to git+file:///home/opam/datakit#master (version dev)

The following actions will be performed:
  - install datakit dev*
[datakit.dev] synchronised from git+file:///home/opam/datakit#master

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> installed datakit.dev
Done.
# Run eval `opam env` to update the current shell environment
 ---> 1f42d463c0ed
Removing intermediate container 2f92b98b4db8
Removing intermediate container d91450c77f35
Error removing intermediate container ac9eebe0ce81: No such container: ac9eebe0ce81f47921fb2927c9345704fc8cdd8ac52bc26aaf2d8c887dad120c
Step 16/18 : RUN opam install irmin-unix alcotest
 ---> Running in 540042c6e9ab

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[irmin-unix.1.1.0] no changes from git+https://github.com/mirage/irmin.git#89196ad17c53b02f333022a87ecc264ec8c06af0

[91m[NOTE] Package alcotest is already installed (current version is 0.7.2).
[NOTE] Package irmin-unix is already installed (current version is 1.1.0).
[0m ---> b314d0f22ca6
Error removing intermediate container ac9eebe0ce81: No such container: ac9eebe0ce81f47921fb2927c9345704fc8cdd8ac52bc26aaf2d8c887dad120c
Step 17/18 : RUN opam pin add -k git datakit-ci.dev /home/opam/datakit -yt
 ---> Running in 60a6927b174c
[datakit-ci.dev: git]
[datakit-ci.dev: git]
[datakit-ci.dev: git]
[datakit-ci.dev: git]
[datakit-ci.dev] synchronised from git+file:///home/opam/datakit#master
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit-ci/datakit-ci.opam from 1.2 to 2.0~beta
[0mdatakit-ci is now pinned to git+file:///home/opam/datakit#master (version dev)

The following actions will be performed:
  - install datakit-ci dev*
[datakit-ci.dev] synchronised from git+file:///home/opam/datakit#master

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> installed datakit-ci.dev
Done.
# Run eval `opam env` to update the current shell environment
 ---> f7f332494be1
Removing intermediate container 60a6927b174c
Error removing intermediate container ac9eebe0ce81: No such container: ac9eebe0ce81f47921fb2927c9345704fc8cdd8ac52bc26aaf2d8c887dad120c
Step 18/18 : VOLUME /secrets
 ---> Running in d3c5e747fa6e
 ---> de2c4b799fce
Error removing intermediate container ac9eebe0ce81: No such container: ac9eebe0ce81f47921fb2927c9345704fc8cdd8ac52bc26aaf2d8c887dad120c
Successfully built de2c4b799fce
[2017-04-26 10:16.39] Success
