=== Run docker-build-github on commit 004bcd694473baca9d3d8f1b0a3ba346816fdf0f
[2016-11-02 14:10.36] Starting...
Cloning into '/tmp/with_clone3e2d8aac'...
done.
HEAD is now at 004bcd6 Merge pull request #251 from samoht/master
[2016-11-02 14:10.36] Running "docker" "build" "-f" "Dockerfile.github" "."...
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.653 MB
Step 1 : FROM ocaml/opam:alpine
 ---> 641163b66edf
Step 2 : RUN opam update
 ---> Using cache
 ---> de704349fd7b
Step 3 : RUN sudo apk add ncurses-dev libev-dev
 ---> Using cache
 ---> 0255a8e97467
Step 4 : RUN opam depext ssl lwt react lambda-term &&     opam install ssl react lwt base-unix base-threads conf-libev          lambda-term mirage-types-lwt
 ---> Running in 3b9d1fdc2937
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - m4
#  - ncurses-dev
#  - openssl-dev
#  - pkgconfig
ncurses-dev
pkgconfig
# The following new OS packages need to be installed: m4 openssl-dev
The following command needs to be run through "sudo":
    apk add m4 openssl-dev
(1/3) Installing m4 (1.4.17-r1)
(2/3) Installing zlib-dev (1.2.8-r2)
(3/3) Installing openssl-dev (1.0.2j-r0)
Executing busybox-1.24.2-r11.trigger
OK: 442 MiB in 88 packages
# OS packages installation successful
[91m[NOTE] Package base-unix is already installed (current version is base).
[0m[91m[NOTE] Package base-threads is already installed (current version is base).
[0mThe following actions will be performed:
  - install conf-m4          1                                  [required by ocamlfind]
  - install result           1.2                                [required by lwt]
  - install conf-pkg-config  1.0                                [required by conf-openssl]
  - install conf-libev       4-11      
  - install conf-which       1                                  [required by ssl]
  - install ocamlfind        1.6.2                              [required by react, lwt, lambda-term, etc.]
  - install conf-openssl     1                                  [required by ssl]
  - install react            1.2.0     
  - install ppx_tools        5.0+4.02.0                         [required by lwt]
  - install js-build-tools   113.33.04                          [required by sexplib, ppx_sexp_conv]
  - install cppo             1.4.0                              [required by ocplib-endian]
  - install camomile         0.8.5                              [required by zed]
  - install base-bytes       base                               [required by lwt]
  - install ssl              0.5.2     
  - install sexplib          113.33.03                          [required by cstruct, ipaddr]
  - install ppx_core         113.33.03                          [required by ppx_sexp_conv]
  - install ppx_deriving     4.1                                [required by ppx_type_conv]
  - install zed              1.4                                [required by lambda-term]
  - install ocplib-endian    1.0                                [required by cstruct]
  - install lwt              2.6.0     
  - install ppx_optcomp      113.33.03                          [required by ppx_driver]
  - install lambda-term      1.10.1    
  - install cstruct          2.3.0                              [required by mirage-types-lwt]
  - install ppx_driver       113.33.03                          [required by ppx_type_conv]
  - install io-page          1.6.1                              [required by mirage-types-lwt]
  - install ppx_type_conv    113.33.03                          [required by ppx_sexp_conv]
  - install ppx_sexp_conv    113.33.03                          [required by ipaddr]
  - install ipaddr           2.7.0                              [required by mirage-types-lwt]
  - install mirage-types     2.8.0                              [required by mirage-types-lwt]
  - install mirage-types-lwt 2.8.0     
===== 30 to install =====
Do you want to continue ? [Y/n] y

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[camomile: http] Command started
[cppo: http] Command started
[cstruct: http] Command started
[cppo: http] Command started
[cppo.1.4.0] https://github.com/mjambon/cppo/archive/v1.4.0.tar.gz downloaded
[io-page: http] Command started
[cstruct: http] Command started
[cstruct.2.3.0] https://github.com/mirage/ocaml-cstruct/archive/v2.3.0.tar.gz downloaded
[ipaddr: http] Command started
[io-page: http] Command started
[io-page.1.6.1] https://github.com/mirage/io-page/archive/v1.6.1.tar.gz downloaded
[js-build-tools: http] Command started
[camomile: http] Command started
[camomile.0.8.5] https://github.com/yoriyuki/Camomile/releases/download/rel-0.8.5/camomile-0.8.5.tar.bz2 downloaded
[lambda-term: http] Command started
[js-build-tools: http] Command started
[js-build-tools.113.33.04] https://ocaml.janestreet.com/ocaml-core/113.33/files/js-build-tools-113.33.04.tar.gz downloaded
[lwt: http] Command started
[ipaddr: http] Command started
[ipaddr.2.7.0] https://github.com/mirage/ocaml-ipaddr/archive/2.7.0.tar.gz downloaded
[mirage-types: http] Command started
[lambda-term: http] Command started
[lambda-term.1.10.1] https://github.com/diml/lambda-term/archive/1.10.1.tar.gz downloaded
[ocamlfind: http] Command started
[ocamlfind: http] Command started
[ocamlfind.1.6.2] http://download.camlcity.org/download/findlib-1.6.2.tar.gz downloaded
[ocplib-endian: http] Command started
[mirage-types: http] Command started
[mirage-types.2.8.0] https://github.com/mirage/mirage/archive/v2.8.0.tar.gz downloaded
[ppx_core: http] Command started
[lwt: http] Command started
[lwt.2.6.0] https://github.com/ocsigen/lwt/archive/2.6.0.tar.gz downloaded
[ppx_deriving: http] Command started
[ppx_core: http] Command started
[ocplib-endian: http] Command started
[ppx_core.113.33.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_core-113.33.03.tar.gz downloaded
[ppx_driver: http] Command started
[ocplib-endian.1.0] https://github.com/OCamlPro/ocplib-endian/archive/1.0.tar.gz downloaded
[ppx_optcomp: http] Command started
[ppx_driver: http] Command started
[ppx_driver.113.33.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_driver-113.33.03.tar.gz downloaded
[ppx_sexp_conv: http] Command started
[ppx_optcomp: http] Command started
[ppx_optcomp.113.33.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_optcomp-113.33.03.tar.gz downloaded
[ppx_tools: http] Command started
[ppx_deriving: http] Command started
[ppx_deriving.4.1] https://github.com/whitequark/ppx_deriving/archive/v4.1.tar.gz downloaded
[ppx_type_conv: http] Command started
[ppx_sexp_conv: http] Command started
[ppx_sexp_conv.113.33.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_sexp_conv-113.33.03.tar.gz downloaded
[react: http] Command started
[react: http] Command started
[react.1.2.0] http://erratique.ch/software/react/releases/react-1.2.0.tbz downloaded
[result: http] Command started
[ppx_type_conv: http] Command started
[ppx_type_conv.113.33.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_type_conv-113.33.03.tar.gz downloaded
[sexplib: http] Command started
[ppx_tools: http] Command started
[ppx_tools.5.0+4.02.0] https://github.com/alainfrisch/ppx_tools/archive/5.0+4.02.0.tar.gz downloaded
[ssl: http] Command started
[ssl: http] Command started
[ssl.0.5.2] http://downloads.sourceforge.net/project/savonet/ocaml-ssl/0.5.2/ocaml-ssl-0.5.2.tar.gz downloaded
[zed: http] Command started
[sexplib: http] Command started
[sexplib.113.33.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/sexplib-113.33.03.tar.gz downloaded
[result: http] Command started
[result.1.2] https://github.com/janestreet/result/archive/1.2.tar.gz downloaded
[zed: http] Command started
[zed.1.4] https://github.com/diml/zed/archive/1.4.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[conf-libev: ./build.sh] Command started
[conf-m4: sh echo | m4] Command started
[conf-pkg-config: pkg-config] Command started
[conf-which: which which] Command started
-> installed conf-m4.1
[ocamlfind: ./configure] Command started
-> installed conf-pkg-config.1.0
[conf-openssl: pkg-config openssl] Command started
-> installed conf-which.1
[result: make] Command started
-> installed conf-openssl.1
-> installed conf-libev.4-11
-> installed result.1.2
[ocamlfind: make all] Command started
[ocamlfind: make opt] Command started
[ocamlfind: make install] Command started
[ocamlfind: cp ocaml-stub] Command started
-> installed ocamlfind.1.6.2
-> installed base-bytes.base
[camomile: ./configure] Command started
[cppo: make] Command started
[js-build-tools: ./configure] Command started
[ppx_tools: make all] Command started
[camomile: make] Command started
[js-build-tools: make] Command started
[cppo: make install-lib] Command started
-> installed cppo.1.4.0
[ocplib-endian: ocaml setup.ml] Command started
-> installed js-build-tools.113.33.04
[react: ocaml] Command started
[ppx_tools: make install] Command started
-> installed ppx_tools.5.0+4.02.0
[ppx_core: ./configure] Command started
[react: ocaml] Command started
[ocplib-endian: ocaml setup.ml] Command started
-> installed react.1.2.0
[ppx_deriving: ocaml] Command started
[ppx_core: make] Command started
[ocplib-endian: ocaml setup.ml] Command started
-> installed ocplib-endian.1.0
[sexplib: ./configure] Command started
[sexplib: make] Command started
-> installed ppx_deriving.4.1
[ssl: ./configure] Command started
[ssl: make] Command started
-> installed sexplib.113.33.03
[ssl: make install] Command started
-> installed ssl.0.5.2
[lwt: ocaml setup.ml] Command started
[lwt: make build] Command started
-> installed ppx_core.113.33.03
[ppx_optcomp: ./configure] Command started
[ppx_optcomp: make] Command started
-> installed ppx_optcomp.113.33.03
[ppx_driver: ./configure] Command started
[ppx_driver: make] Command started
-> installed ppx_driver.113.33.03
[ppx_type_conv: ./configure] Command started
[ppx_type_conv: make] Command started
[lwt: make install] Command started
-> installed lwt.2.6.0
[cstruct: ./configure] Command started
[cstruct: make] Command started
-> installed ppx_type_conv.113.33.03
[ppx_sexp_conv: ./configure] Command started
[ppx_sexp_conv: make] Command started
[camomile: make install] Command started
-> installed camomile.0.8.5
[zed: ocaml setup.ml] Command started
[cstruct: make install] Command started
-> installed ppx_sexp_conv.113.33.03
[ipaddr: ocaml setup.ml] Command started
[zed: ocaml setup.ml] Command started
[cstruct: make js-install] Command started
-> installed cstruct.2.3.0
[io-page: ./configure] Command started
[ipaddr: make build] Command started
[io-page: make] Command started
[zed: ocaml setup.ml] Command started
[io-page: make install] Command started
[ipaddr: make install] Command started
-> installed zed.1.4
[lambda-term: ocaml setup.ml] Command started
-> installed io-page.1.6.1
-> installed ipaddr.2.7.0
[mirage-types: make build-types] Command started
[mirage-types: make install-types] Command started
[lambda-term: ocaml setup.ml] Command started
-> installed mirage-types.2.8.0
-> installed mirage-types-lwt.2.8.0
[lambda-term: ocaml setup.ml] Command started
-> installed lambda-term.1.10.1
Done.
 ---> 480785db0fd7
Removing intermediate container 3b9d1fdc2937
Step 5 : COPY datakit-client.opam /home/opam/src/datakit/datakit-client.opam
 ---> 470e4a07eb03
Removing intermediate container c759e66a5f93
Step 6 : RUN opam pin add datakit-client.dev /home/opam/src/datakit -n
 ---> Running in af6154ea3701
datakit-client is now path-pinned to /home/opam/src/datakit

[datakit-client: local]
[datakit-client] /home/opam/src/datakit/ synchronized
[datakit-client] Installing new package description from /home/opam/src/datakit

 ---> 397a7df86749
Removing intermediate container af6154ea3701
Step 7 : COPY datakit-github.opam /home/opam/src/datakit/datakit-github.opam
 ---> 2e944b019348
Removing intermediate container 4bab8079e71f
Step 8 : RUN opam pin add datakit-github.dev /home/opam/src/datakit -n
 ---> Running in 96375d66b5a2
Package datakit-github does not exist, create as a NEW package ? [Y/n] y
datakit-github is now path-pinned to /home/opam/src/datakit

[datakit-github: local]
[datakit-github] /home/opam/src/datakit/ synchronized
[datakit-github] Installing new package description from /home/opam/src/datakit

 ---> ccdb9a6f5116
Removing intermediate container 96375d66b5a2
Step 9 : RUN opam pin add github https://github.com/samoht/ocaml-github.git -n
 ---> Running in 26e078f03d83
github is now git-pinned to https://github.com/samoht/ocaml-github.git

[github: git]
[github: git]
[github: git]
[github: git]
[github: git]
[github: git]
[github] https://github.com/samoht/ocaml-github.git updated
[github] Installing new package description from
https://github.com/samoht/ocaml-github.git

 ---> 9accddee0505
Removing intermediate container 26e078f03d83
Step 10 : RUN opam depext datakit-client datakit-github &&     opam install github && opam install datakit-client --deps
 ---> Running in 3143de2ab5e2
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - gmp-dev
#  - linux-headers
#  - m4
#  - ncurses-dev
#  - perl
#  - pkgconfig
m4
ncurses-dev
pkgconfig
# The following new OS packages need to be installed: gmp-dev linux-headers perl
The following command needs to be run through "sudo":
    apk add gmp-dev linux-headers perl
(1/4) Installing libgmpxx (6.1.0-r0)
(2/4) Installing gmp-dev (6.1.0-r0)
(3/4) Installing linux-headers (4.4.6-r1)
(4/4) Installing perl (5.22.2-r0)
Executing busybox-1.24.2-r11.trigger
OK: 492 MiB in 92 packages
# OS packages installation successful

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[github: git] Command started
[github: git] Command started
[github: git] Command started
[github: git] Command started
[github] https://github.com/samoht/ocaml-github.git already up-to-date
The following actions will be performed:
  - install conf-perl        1                                  [required by zarith]
  - install stringext        1.4.3                              [required by github]
  - install ocamlmod         0.0.8                              [required by oasis]
  - install magic-mime       1.0.0                              [required by cohttp]
  - install menhir           20160825                           [required by atd]
  - install fieldslib        113.33.03                          [required by cohttp]
  - install easy-format      1.2.0                              [required by biniou, atd, yojson]
  - install mirage-no-xen    1                                  [required by nocrypto]
  - install conf-gmp         1                                  [required by zarith]
  - install topkg            0.8.0                              [required by base64]
  - install re               1.7.1                              [required by cohttp]
  - install ocamlify         0.0.1                              [required by oasis]
  - install ppx_fields_conv  113.33.03                          [required by cohttp]
  - install biniou           1.0.12                             [required by atdgen]
  - install atd              1.2.0                              [required by atdgen]
  - install zarith           1.4.1                              [required by nocrypto]
  - install base64           2.1.2                              [required by cohttp]
  - install uri              1.9.2                              [required by github]
  - install oasis            0.4.7                              [required by tls]
  - install yojson           1.3.3                              [required by github]
  - install asn1-combinators 0.1.2                              [required by x509]
  - install nocrypto         0.5.3                              [required by tls]
  - install atdgen           1.10.0                             [required by github]
  - install x509             0.5.3                              [required by tls]
  - install tls              0.7.1                              [required by github]
  - install conduit          0.13.0                             [required by cohttp]
  - install cohttp           0.21.0                             [required by github]
  - install github           dev*     
===== 28 to install =====
Do you want to continue ? [Y/n] y

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[asn1-combinators: http] Command started
[atd: http] Command started
[atdgen: http] Command started
[atd: http] Command started
[atd.1.2.0] https://github.com/mjambon/atd/archive/v1.2.0.tar.gz downloaded
[base64: http] Command started
[atdgen: http] Command started
[atdgen.1.10.0] https://github.com/mjambon/atdgen/archive/v1.10.0.tar.gz downloaded
[biniou: http] Command started
[base64: http] Command started
[base64.2.1.2] https://github.com/mirage/ocaml-base64/releases/download/v2.1.2/base64-2.1.2.tbz downloaded
[cohttp: http] Command started
[asn1-combinators: http] Command started
[asn1-combinators.0.1.2] https://github.com/mirleft/ocaml-asn1-combinators/archive/0.1.2.tar.gz downloaded
[conduit: http] Command started
[biniou: http] Command started
[biniou.1.0.12] https://github.com/mjambon/biniou/archive/v1.0.12.tar.gz downloaded
[easy-format: http] Command started
[conduit: http] Command started
[conduit.0.13.0] https://github.com/mirage/ocaml-conduit/archive/v0.13.0.tar.gz downloaded
[fieldslib: http] Command started
[easy-format: http] Command started
[easy-format.1.2.0] https://github.com/mjambon/easy-format/archive/v1.2.0.tar.gz downloaded
[github: git] Command started
[github: git] Command started
[cohttp: http] Command started
[cohttp.0.21.0] https://github.com/mirage/ocaml-cohttp/archive/v0.21.0.tar.gz downloaded
[magic-mime: http] Command started
[github: git] Command started
[github: git] Command started
[fieldslib: http] Command started
[github] https://github.com/samoht/ocaml-github.git already up-to-date
[menhir: http] Command started
[fieldslib.113.33.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/fieldslib-113.33.03.tar.gz downloaded
[nocrypto: http] Command started
[menhir: http] Command started
[menhir.20160825] http://gallium.inria.fr/~fpottier/menhir/menhir-20160825.tar.gz downloaded
[oasis: http] Command started
[oasis: http] Command started
[oasis.0.4.7] https://forge.ocamlcore.org/frs/download.php/1635/oasis-0.4.7.tar.gz downloaded
[ocamlify: http] Command started
[ocamlify: http] Command started
[ocamlify.0.0.1] http://forge.ocamlcore.org/frs/download.php/379/ocamlify-0.0.1.tar.gz downloaded
[ocamlmod: http] Command started
[magic-mime: http] Command started
[magic-mime.1.0.0] https://github.com/mirage/ocaml-magic-mime/archive/v1.0.0.tar.gz downloaded
[ppx_fields_conv: http] Command started
[ocamlmod: http] Command started
[ocamlmod.0.0.8] https://forge.ocamlcore.org/frs/download.php/1544/ocamlmod-0.0.8.tar.gz downloaded
[re: http] Command started
[ppx_fields_conv: http] Command started
[ppx_fields_conv.113.33.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_fields_conv-113.33.03.tar.gz downloaded
[stringext: http] Command started
[re: http] Command started
[re.1.7.1] https://github.com/ocaml/ocaml-re/archive/1.7.1.tar.gz downloaded
[tls: http] Command started
[stringext: http] Command started
[stringext.1.4.3] https://github.com/rgrinberg/stringext/archive/v1.4.3.tar.gz downloaded
[topkg: http] Command started
[topkg: http] Command started
[topkg.0.8.0] http://erratique.ch/software/topkg/releases/topkg-0.8.0.tbz downloaded
[uri: http] Command started
[nocrypto: http] Command started
[nocrypto.0.5.3] https://github.com/mirleft/ocaml-nocrypto/archive/v0.5.3.tar.gz downloaded
[x509: http] Command started
[uri: http] Command started
[uri.1.9.2] https://github.com/mirage/ocaml-uri/archive/v1.9.2.tar.gz downloaded
[yojson: http] Command started
[x509: http] Command started
[x509.0.5.3] https://github.com/mirleft/ocaml-x509/archive/0.5.3.tar.gz downloaded
[zarith: http] Command started
[tls: http] Command started
[tls.0.7.1] https://github.com/mirleft/ocaml-tls/archive/0.7.1.tar.gz downloaded
[yojson: http] Command started
[yojson.1.3.3] https://github.com/mjambon/yojson/archive/v1.3.3.tar.gz downloaded
[zarith: http] Command started
[zarith.1.4.1] https://forge.ocamlcore.org/frs/download.php/1574/zarith-1.4.1.tgz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[conf-gmp: sh] Command started
[conf-perl: perl] Command started
[easy-format: make] Command started
[fieldslib: ./configure] Command started
-> installed conf-gmp.1
[magic-mime: ./configure] Command started
-> installed conf-perl.1
[menhir: make Makefile] Command started
[easy-format: make install] Command started
-> installed easy-format.1.2.0
[biniou: make] Command started
[fieldslib: make] Command started
[magic-mime: make] Command started
[biniou: make install] Command started
-> installed biniou.1.0.12
-> installed mirage-no-xen.1
[ocamlify: ocaml setup.ml] Command started
[ocamlify: ocaml setup.ml] Command started
-> installed fieldslib.113.33.03
[ocamlmod: ocaml setup.ml] Command started
[magic-mime: make install] Command started
[ocamlify: ocaml setup.ml] Command started
-> installed magic-mime.1.0.0
[ppx_fields_conv: ./configure] Command started
[ocamlmod: ocaml setup.ml] Command started
-> installed ocamlify.0.0.1
[re: ocaml setup.ml] Command started
[ppx_fields_conv: make] Command started
[ocamlmod: ocaml setup.ml] Command started
[re: ocaml setup.ml] Command started
-> installed ocamlmod.0.0.8
[oasis: ocaml setup.ml] Command started
-> installed ppx_fields_conv.113.33.03
[stringext: ocaml setup.ml] Command started
[oasis: ocaml setup.ml] Command started
[stringext: ocaml setup.ml] Command started
[re: ocaml setup.ml] Command started
[stringext: ocaml setup.ml] Command started
-> installed stringext.1.4.3
[topkg: ocaml build] Command started
-> installed re.1.7.1
[uri: ocaml setup.ml] Command started
[uri: ocaml setup.ml] Command started
-> installed topkg.0.8.0
[base64: ocaml build] Command started
-> installed base64.2.1.2
[yojson: make] Command started
[uri: ocaml setup.ml] Command started
-> installed uri.1.9.2
[zarith: ./configure] Command started
[zarith: make] Command started
[menhir: make Makefile] Command started
-> installed menhir.20160825
[atd: make] Command started
[yojson: make install-lib] Command started
-> installed yojson.1.3.3
[zarith: make install] Command started
-> installed zarith.1.4.1
[asn1-combinators: ocaml setup.ml] Command started
[atd: make install] Command started
-> installed atd.1.2.0
[atdgen: make] Command started
[asn1-combinators: ocaml setup.ml] Command started
[asn1-combinators: ocaml setup.ml] Command started
-> installed asn1-combinators.0.1.2
[atdgen: make findlib-install] Command started
-> installed atdgen.1.10.0
[oasis: ocaml setup.ml] Command started
-> installed oasis.0.4.7
[nocrypto: ./configure] Command started
[nocrypto: make] Command started
[nocrypto: make install] Command started
-> installed nocrypto.0.5.3
[x509: ./configure] Command started
[x509: make] Command started
[x509: make install] Command started
-> installed x509.0.5.3
[tls: ./configure] Command started
[tls: make] Command started
[tls: make install] Command started
-> installed tls.0.7.1
[conduit: make] Command started
[conduit: make install] Command started
-> installed conduit.0.13.0
[cohttp: make] Command started
[cohttp: make install] Command started
-> installed cohttp.0.21.0
[github: ocaml setup.ml] Command started
[github: ocaml setup.ml] Command started
[github: ocaml setup.ml] Command started
-> installed github.dev
Done.

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: local] Command started
[datakit-client] /home/opam/src/datakit/ synchronized
The following actions will be performed:
  - install astring     0.8.3
  - install fmt         0.8.0
  - install rresult     0.5.0
  - install named-pipe  0.3  
  - install win-error   0.2  
  - install logs        0.6.2
  - install channel     1.1.1
  - install protocol-9p 0.7.3
===== 8 to install =====
Do you want to continue ? [Y/n] y

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[astring: http] Command started
[channel: http] Command started
[fmt: http] Command started
[fmt: http] Command started
[fmt.0.8.0] http://erratique.ch/software/fmt/releases/fmt-0.8.0.tbz downloaded
[logs: http] Command started
[astring: http] Command started
[astring.0.8.3] http://erratique.ch/software/astring/releases/astring-0.8.3.tbz downloaded
[named-pipe: http] Command started
[logs: http] Command started
[logs.0.6.2] http://erratique.ch/software/logs/releases/logs-0.6.2.tbz downloaded
[protocol-9p: http] Command started
[channel: http] Command started
[channel.1.1.1] https://github.com/mirage/mirage-channel/releases/download/v1.1.1/channel-1.1.1.tbz downloaded
[rresult: http] Command started
[rresult: http] Command started
[rresult.0.5.0] http://erratique.ch/software/rresult/releases/rresult-0.5.0.tbz downloaded
[win-error: http] Command started
[named-pipe: http] Command started
[named-pipe.0.3] https://github.com/djs55/ocaml-named-pipe/archive/v0.3.tar.gz downloaded
[protocol-9p: http] Command started
[protocol-9p.0.7.3] https://github.com/mirage/ocaml-9p/archive/v0.7.3.tar.gz downloaded
[win-error: http] Command started
[win-error.0.2] https://github.com/djs55/ocaml-win-error/archive/v0.2.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[astring: ocaml build] Command started
[fmt: ocaml build] Command started
[named-pipe: ocaml setup.ml] Command started
[rresult: ocaml build] Command started
-> installed rresult.0.5.0
[win-error: make] Command started
-> installed fmt.0.8.0
[logs: ocaml build] Command started
[named-pipe: make] Command started
-> installed astring.0.8.3
-> installed logs.0.6.2
[channel: ocaml build] Command started
-> installed channel.1.1.1
[named-pipe: make install] Command started
[win-error: make install] Command started
-> installed win-error.0.2
-> installed named-pipe.0.3
[protocol-9p: ocaml build] Command started
-> installed protocol-9p.0.7.3
Done.
 ---> 3d08218ce774
Removing intermediate container 3143de2ab5e2
Step 11 : COPY . /home/opam/src/datakit/
 ---> 4fe30313225a
Removing intermediate container c296c1d261a3
Step 12 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in ebaa7f5dfefd
 ---> 76279f185b0d
Removing intermediate container ebaa7f5dfefd
Step 13 : RUN cd /home/opam/src/datakit && git checkout . && scripts/watermark.sh
 ---> Running in c5a50ad158d0
 ---> e45e0b0a1812
Removing intermediate container c5a50ad158d0
Step 14 : RUN opam update datakit-client datakit-github &&     opam install datakit-github --deps
 ---> Running in 5148899a4ccc

=-=- Synchronizing development packages -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: local] Command started
[datakit-github: local] Command started
[datakit-github] /home/opam/src/datakit/ synchronized
[datakit-client] /home/opam/src/datakit/ synchronized

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-github: local] Command started
[datakit-github] /home/opam/src/datakit/ already up-to-date
The following actions will be performed:
  - install mtime          0.8.3 
  - install datakit-client dev*  
  - install asl            0.10  
  - install mirage-flow    1.1.0 
  - install hex            1.0.0 
  - install win-eventlog   0.1   
  - install hvsock         0.10.0
===== 7 to install =====
Do you want to continue ? [Y/n] y

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[asl: http] Command started
[datakit-client: local] Command started
[hex: http] Command started
[datakit-client.dev] /home/opam/src/datakit/ already up-to-date
[hvsock: http] Command started
[hex: http] Command started
[hex.1.0.0] https://github.com/mirage/ocaml-hex/archive/1.0.0.tar.gz downloaded
[mirage-flow: http] Command started
[asl: http] Command started
[asl.0.10] https://github.com/mirage/ocaml-asl/archive/v0.10.tar.gz downloaded
[mtime: http] Command started
[mtime: http] Command started
[hvsock: http] Command started
[mtime.0.8.3] http://erratique.ch/software/mtime/releases/mtime-0.8.3.tbz downloaded
[win-eventlog: http] Command started
[hvsock.0.10.0] https://github.com/djs55/ocaml-hvsock/archive/v0.10.0.tar.gz downloaded
[win-eventlog: http] Command started
[mirage-flow: http] Command started
[win-eventlog.0.1] https://github.com/djs55/ocaml-win-eventlog/archive/v0.1.tar.gz downloaded
[mirage-flow.1.1.0] https://github.com/mirage/mirage-flow/archive/v1.1.0.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[asl: make] Command started
[datakit-client: ocaml build] Command started
[hex: ./configure] Command started
[mirage-flow: ./configure] Command started
[hex: make] Command started
[mirage-flow: make] Command started
-> installed datakit-client.dev
[mtime: ocaml] Command started
[mtime: ocaml] Command started
[hex: make install] Command started
-> installed mtime.0.8.3
[win-eventlog: make] Command started
[asl: make install] Command started
[mirage-flow: make install] Command started
-> installed hex.1.0.0
-> installed asl.0.10
-> installed mirage-flow.1.1.0
[hvsock: ocaml setup.ml] Command started
[hvsock: make] Command started
[win-eventlog: make install] Command started
-> installed win-eventlog.0.1
[hvsock: make install] Command started
-> installed hvsock.0.10.0
Done.
 ---> cc181da37c2d
Removing intermediate container 5148899a4ccc
Step 15 : RUN opam info datakit-client --raw
 ---> Running in 6f76ba13bac8
opam-version: "1.2"
name: "datakit-client"
version: "dev"
maintainer: "thomas@gazagnaire.org"
authors: [
  "Thomas Leonard" "Magnus Skjegstad" "David Scott" "Thomas Gazagnaire"
]
homepage: "https://github.com/docker/datakit"
bug-reports: "https://github.com/docker/datakit"
license: "ISC"
doc: "https://docker.github.io/datakit/"
dev-repo: "https://github.com/docker/datakit.git"
build: [
  "ocaml" "pkg/pkg.ml" "build" "--pinned" "%{pinned}%" "-n" "datakit-client"
]
depends: [
  "ocamlfind" {build}
  "ocamlbuild" {build}
  "topkg" {build}
  "base-bytes"
  "astring"
  "logs"
  "uri"
  "rresult"
  "cstruct"
  "fmt"
  "cmdliner"
  "protocol-9p"
]
 ---> a997ab1214cb
Removing intermediate container 6f76ba13bac8
Step 16 : RUN opam info datakit-github --raw
 ---> Running in df0e32004871
opam-version: "1.2"
name: "datakit-github"
version: "dev"
maintainer: "thomas@gazagnaire.org"
authors: [
  "Thomas Leonard" "Magnus Skjegstad" "David Scott" "Thomas Gazagnaire"
]
homepage: "https://github.com/docker/datakit"
bug-reports: "https://github.com/docker/datakit"
license: "ISC"
doc: "https://docker.github.io/datakit/"
dev-repo: "https://github.com/docker/datakit.git"
build: [
  "ocaml" "pkg/pkg.ml" "build" "--pinned" "%{pinned}%" "-n" "datakit-github"
]
depends: [
  "ocamlfind" {build}
  "ocamlbuild" {build}
  "topkg" {build}
  "cmdliner"
  "lwt"
  "logs"
  "fmt"
  "mtime"
  "asl"
  "win-eventlog"
  "hvsock"
  "hex"
  "nocrypto"
  "conduit"
  "datakit-client"
  "github" {>= "1.1.0"}
]
 ---> 2834c85798a2
Removing intermediate container df0e32004871
Step 17 : RUN opam install datakit-github.dev -vv
 ---> Running in 8c5df27536d2

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-github: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/system/packages.dev/datakit-github"
- sending incremental file list
- 
- sent 4,133 bytes  received 34 bytes  8,334.00 bytes/sec
- total size is 538,893  speedup is 129.32
[datakit-github] /home/opam/src/datakit/ already up-to-date
The following actions will be performed:
  - install datakit-github dev*

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-github: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/system/packages.dev/datakit-github"
- sending incremental file list
- 
- sent 4,133 bytes  received 34 bytes  8,334.00 bytes/sec
- total size is 538,893  speedup is 129.32
[datakit-github.dev] /home/opam/src/datakit/ already up-to-date

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-github: ocaml build] Command started
+ ocaml "pkg/pkg.ml" "build" "--pinned" "true" "-n" "datakit-github" (CWD=/home/opam/.opam/system/build/datakit-github.dev)
- ocamlfind ocamldep -package uri -package 'bytes lwt astring logs result cstruct fmt rresult' -modules bridge/github/src/datakit_github.ml > bridge/github/src/datakit_github.ml.depends
- ocamlfind ocamldep -package uri -package 'bytes lwt astring logs result cstruct fmt rresult' -modules bridge/github/src/datakit_github.mli > bridge/github/src/datakit_github.mli.depends
- ocamlfind ocamldep -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/client/datakit_S.mli > src/client/datakit_S.mli.depends
- ocamlfind ocamldep -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/client/datakit_path.mli > src/client/datakit_path.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/client -I src -I src/vfs -I src/ivfs -I src/conduit -I src/irmin-io -I src/log -I src/fs9p -I bridge/github/src -o src/client/datakit_path.cmi src/client/datakit_path.mli
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/client -I src -I src/vfs -I src/ivfs -I src/conduit -I src/irmin-io -I src/log -I src/fs9p -I bridge/github/src -o src/client/datakit_S.cmi src/client/datakit_S.mli
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package uri -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I bridge/github/src -I src -I src/vfs -I src/ivfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -o bridge/github/src/datakit_github.cmi bridge/github/src/datakit_github.mli
- ocamlfind ocamldep -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/client/datakit_path.ml > src/client/datakit_path.ml.depends
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/client -I src -I src/vfs -I src/ivfs -I src/conduit -I src/irmin-io -I src/log -I src/fs9p -I bridge/github/src -o src/client/datakit_path.cmx src/client/datakit_path.ml
- ocamlfind ocamldep -package uri -package github -package 'bytes lwt astring logs result cstruct fmt rresult' -modules bridge/github/src/datakit_github_api.ml > bridge/github/src/datakit_github_api.ml.depends
- ocamlfind ocamldep -package uri -package github -package 'bytes lwt astring logs result cstruct fmt rresult' -modules bridge/github/src/datakit_github_api.mli > bridge/github/src/datakit_github_api.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package uri -package github -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I bridge/github/src -I src -I src/vfs -I src/ivfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -o bridge/github/src/datakit_github_api.cmi bridge/github/src/datakit_github_api.mli
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package uri -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I bridge/github/src -I src -I src/vfs -I src/ivfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -o bridge/github/src/datakit_github.cmx bridge/github/src/datakit_github.ml
- ocamlfind ocamldep -package uri -package 'nocrypto hex conduit.lwt re.str' -package github -package 'bytes lwt astring logs result cstruct fmt rresult' -modules bridge/github/src/datakit_github_webhook.ml > bridge/github/src/datakit_github_webhook.ml.depends
- ocamlfind ocamldep -package uri -package 'nocrypto hex conduit.lwt re.str' -package github -package 'bytes lwt astring logs result cstruct fmt rresult' -modules bridge/github/src/datakit_github_webhook.mli > bridge/github/src/datakit_github_webhook.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package uri -package 'nocrypto hex conduit.lwt re.str' -package github -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I bridge/github/src -I src -I src/vfs -I src/ivfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -o bridge/github/src/datakit_github_webhook.cmi bridge/github/src/datakit_github_webhook.mli
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package uri -package 'nocrypto hex conduit.lwt re.str' -package github -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I bridge/github/src -I src -I src/vfs -I src/ivfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -o bridge/github/src/datakit_github_webhook.cmx bridge/github/src/datakit_github_webhook.ml
- ocamlfind ocamldep -package uri -package github -package 'bytes lwt astring logs result cstruct fmt rresult' -modules bridge/github/src/datakit_github_vfs.ml > bridge/github/src/datakit_github_vfs.ml.depends
- ocamlfind ocamldep -package uri -package github -package 'bytes lwt astring logs result cstruct fmt rresult' -modules bridge/github/src/datakit_github_vfs.mli > bridge/github/src/datakit_github_vfs.mli.depends
- ocamlfind ocamldep -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/vfs/vfs.mli > src/vfs/vfs.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/vfs -I src -I src/ivfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o src/vfs/vfs.cmi src/vfs/vfs.mli
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package uri -package github -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I bridge/github/src -I src -I src/vfs -I src/ivfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -o bridge/github/src/datakit_github_vfs.cmi bridge/github/src/datakit_github_vfs.mli
- ocamlfind ocamldep -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/vfs/vfs.ml > src/vfs/vfs.ml.depends
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/vfs -I src -I src/ivfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o src/vfs/vfs.cmx src/vfs/vfs.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package uri -package github -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I bridge/github/src -I src -I src/vfs -I src/ivfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -o bridge/github/src/datakit_github_api.cmx bridge/github/src/datakit_github_api.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package uri -package github -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I bridge/github/src -I src -I src/vfs -I src/ivfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -o bridge/github/src/datakit_github_vfs.cmx bridge/github/src/datakit_github_vfs.ml
- ocamlfind ocamlopt -a -package uri -package 'bytes lwt astring logs result cstruct fmt rresult' bridge/github/src/datakit_github.cmx bridge/github/src/datakit_github_webhook.cmx bridge/github/src/datakit_github_api.cmx bridge/github/src/datakit_github_vfs.cmx -o bridge/github/src/datakit-github.cmxa
- ocamlfind ocamlopt -shared -linkall -package uri -package 'bytes lwt astring logs result cstruct fmt rresult' bridge/github/src/datakit-github.cmxa -o bridge/github/src/datakit-github.cmxs
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package uri -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I bridge/github/src -I src -I src/vfs -I src/ivfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -o bridge/github/src/datakit_github.cmo bridge/github/src/datakit_github.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package uri -package github -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I bridge/github/src -I src -I src/vfs -I src/ivfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -o bridge/github/src/datakit_github_api.cmo bridge/github/src/datakit_github_api.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package uri -package github -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I bridge/github/src -I src -I src/vfs -I src/ivfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -o bridge/github/src/datakit_github_vfs.cmo bridge/github/src/datakit_github_vfs.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package uri -package 'nocrypto hex conduit.lwt re.str' -package github -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I bridge/github/src -I src -I src/vfs -I src/ivfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -o bridge/github/src/datakit_github_webhook.cmo bridge/github/src/datakit_github_webhook.ml
- ocamlfind ocamlc -a -package uri -package 'bytes lwt astring logs result cstruct fmt rresult' bridge/github/src/datakit_github.cmo bridge/github/src/datakit_github_webhook.cmo bridge/github/src/datakit_github_api.cmo bridge/github/src/datakit_github_vfs.cmo -o bridge/github/src/datakit-github.cma
- ocamlfind ocamldep -package protocol-9p.unix -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'github.unix re.str hex nocrypto' -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules bridge/github/main.ml > bridge/github/main.ml.depends
- ocamlfind ocamldep -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/client/datakit_client_9p.mli > src/client/datakit_client_9p.mli.depends
- ocamlfind ocamldep -package protocol-9p.unix -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/conduit/datakit_conduit.mli > src/conduit/datakit_conduit.mli.depends
- ocamlfind ocamldep -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/log/datakit_log.mli > src/log/datakit_log.mli.depends
- ocamlfind ocamldep -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/version.ml > src/version.ml.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/client -I src -I src/vfs -I src/ivfs -I src/conduit -I src/irmin-io -I src/log -I src/fs9p -I bridge/github/src -o src/client/datakit_client_9p.cmi src/client/datakit_client_9p.mli
- ocamlfind ocamlc -c -g -bin-annot -safe-string -thread -package protocol-9p.unix -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/conduit -I src -I src/vfs -I src/ivfs -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o src/conduit/datakit_conduit.cmi src/conduit/datakit_conduit.mli
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/log -I src -I src/vfs -I src/ivfs -I src/conduit -I src/irmin-io -I src/client -I src/fs9p -I bridge/github/src -o src/log/datakit_log.cmi src/log/datakit_log.mli
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src -I src/vfs -I src/ivfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o src/version.cmo src/version.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -thread -package protocol-9p.unix -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'github.unix re.str hex nocrypto' -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I bridge/github -I src -I src/vfs -I src/ivfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o bridge/github/main.cmo bridge/github/main.ml
- ocamlfind ocamldep -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/client/datakit_client_9p.ml > src/client/datakit_client_9p.ml.depends
- ocamlfind ocamldep -package protocol-9p.unix -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/conduit/datakit_conduit.ml > src/conduit/datakit_conduit.ml.depends
- ocamlfind ocamldep -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/fs9p/fs9p.ml > src/fs9p/fs9p.ml.depends
- ocamlfind ocamldep -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/fs9p/fs9p.mli > src/fs9p/fs9p.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/fs9p -I src -I src/vfs -I src/ivfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I bridge/github/src -o src/fs9p/fs9p.cmi src/fs9p/fs9p.mli
- ocamlfind ocamldep -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/fs9p/fs9p_error.ml > src/fs9p/fs9p_error.ml.depends
- ocamlfind ocamldep -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/fs9p/fs9p_error.mli > src/fs9p/fs9p_error.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/fs9p -I src -I src/vfs -I src/ivfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I bridge/github/src -o src/fs9p/fs9p_error.cmi src/fs9p/fs9p_error.mli
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/fs9p -I src -I src/vfs -I src/ivfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I bridge/github/src -o src/fs9p/fs9p_error.cmx src/fs9p/fs9p_error.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/fs9p -I src -I src/vfs -I src/ivfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I bridge/github/src -o src/fs9p/fs9p.cmx src/fs9p/fs9p.ml
- ocamlfind ocamldep -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/log/datakit_log.ml > src/log/datakit_log.ml.depends
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/client -I src -I src/vfs -I src/ivfs -I src/conduit -I src/irmin-io -I src/log -I src/fs9p -I bridge/github/src -o src/client/datakit_client_9p.cmx src/client/datakit_client_9p.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -thread -package protocol-9p.unix -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/conduit -I src -I src/vfs -I src/ivfs -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o src/conduit/datakit_conduit.cmx src/conduit/datakit_conduit.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/log -I src -I src/vfs -I src/ivfs -I src/conduit -I src/irmin-io -I src/client -I src/fs9p -I bridge/github/src -o src/log/datakit_log.cmx src/log/datakit_log.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src -I src/vfs -I src/ivfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o src/version.cmx src/version.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -thread -package protocol-9p.unix -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'github.unix re.str hex nocrypto' -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I bridge/github -I src -I src/vfs -I src/ivfs -I src/conduit -I src/irmin-io -I src/client -I src/log -I src/fs9p -I bridge/github/src -o bridge/github/main.cmx bridge/github/main.ml
- ocamlfind ocamlopt -linkpkg -g -thread -package protocol-9p.unix -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'github.unix re.str hex nocrypto' -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'bytes lwt astring logs result cstruct fmt rresult' src/client/datakit_path.cmx bridge/github/src/datakit_github.cmx bridge/github/src/datakit_github_webhook.cmx bridge/github/src/datakit_github_api.cmx src/vfs/vfs.cmx bridge/github/src/datakit_github_vfs.cmx src/client/datakit_client_9p.cmx src/fs9p/fs9p_error.cmx src/fs9p/fs9p.cmx src/conduit/datakit_conduit.cmx src/log/datakit_log.cmx src/version.cmx bridge/github/main.cmx -o bridge/github/main.native
+ install "-m" "0755" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/main.native" "/home/opam/.opam/system/bin/datakit-github"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/src/datakit-github.a" "/home/opam/.opam/system/lib/datakit-github/datakit-github.a"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/src/datakit-github.cma" "/home/opam/.opam/system/lib/datakit-github/datakit-github.cma"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/src/datakit-github.cmxa" "/home/opam/.opam/system/lib/datakit-github/datakit-github.cmxa"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/src/datakit-github.cmxs" "/home/opam/.opam/system/lib/datakit-github/datakit-github.cmxs"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/src/datakit_github.cmi" "/home/opam/.opam/system/lib/datakit-github/datakit_github.cmi"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/src/datakit_github.cmti" "/home/opam/.opam/system/lib/datakit-github/datakit_github.cmti"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/src/datakit_github.cmx" "/home/opam/.opam/system/lib/datakit-github/datakit_github.cmx"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/src/datakit_github.mli" "/home/opam/.opam/system/lib/datakit-github/datakit_github.mli"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/src/datakit_github_api.cmi" "/home/opam/.opam/system/lib/datakit-github/datakit_github_api.cmi"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/src/datakit_github_api.cmti" "/home/opam/.opam/system/lib/datakit-github/datakit_github_api.cmti"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/src/datakit_github_api.cmx" "/home/opam/.opam/system/lib/datakit-github/datakit_github_api.cmx"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/src/datakit_github_api.mli" "/home/opam/.opam/system/lib/datakit-github/datakit_github_api.mli"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/src/datakit_github_vfs.cmi" "/home/opam/.opam/system/lib/datakit-github/datakit_github_vfs.cmi"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/src/datakit_github_vfs.cmti" "/home/opam/.opam/system/lib/datakit-github/datakit_github_vfs.cmti"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/src/datakit_github_vfs.cmx" "/home/opam/.opam/system/lib/datakit-github/datakit_github_vfs.cmx"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/src/datakit_github_vfs.mli" "/home/opam/.opam/system/lib/datakit-github/datakit_github_vfs.mli"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/src/datakit_github_webhook.cmi" "/home/opam/.opam/system/lib/datakit-github/datakit_github_webhook.cmi"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/src/datakit_github_webhook.cmti" "/home/opam/.opam/system/lib/datakit-github/datakit_github_webhook.cmti"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/src/datakit_github_webhook.cmx" "/home/opam/.opam/system/lib/datakit-github/datakit_github_webhook.cmx"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/bridge/github/src/datakit_github_webhook.mli" "/home/opam/.opam/system/lib/datakit-github/datakit_github_webhook.mli"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/datakit-github.opam" "/home/opam/.opam/system/lib/datakit-github/opam"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/pkg/META.github" "/home/opam/.opam/system/lib/datakit-github/META"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/CHANGES.md" "/home/opam/.opam/system/doc/datakit-github/CHANGES.md"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/LICENSE.md" "/home/opam/.opam/system/doc/datakit-github/LICENSE.md"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-github.dev/_build/README.md" "/home/opam/.opam/system/doc/datakit-github/README.md"
-> installed datakit-github.dev
Done.
 ---> 64ce66f486a8
Removing intermediate container 8c5df27536d2
Step 18 : EXPOSE 5641
 ---> Running in d03aae631279
 ---> 1c46c8e249cc
Removing intermediate container d03aae631279
Step 19 : RUN sudo mkdir /data && sudo chown opam.nogroup /data && chmod 700 /data &&     sudo cp $(opam config exec -- which datakit-mount)  /usr/bin/ &&     sudo cp $(opam config exec -- which datakit-github) /usr/bin/
 ---> Running in 449cc6403ba4
 ---> 965897ba9fd0
Removing intermediate container 449cc6403ba4
Step 20 : RUN opam config exec -- ocaml /home/opam/src/datakit/check-libev.ml
 ---> Running in 489985abf42a
 ---> e0e1fccb0a8d
Removing intermediate container 489985abf42a
Step 21 : ENV GITHUB_DEBUG 1
 ---> Running in 4e7fc6910b41
 ---> 5faf970d2927
Removing intermediate container 4e7fc6910b41
Step 22 : USER root
 ---> Running in 12c2b8c9ac18
 ---> c05bd99bc383
Removing intermediate container 12c2b8c9ac18
Step 23 : ENTRYPOINT /usr/bin/datakit-github
 ---> Running in d72257c1a8e9
 ---> 54856e499a0a
Removing intermediate container d72257c1a8e9
Step 24 : CMD --listen=tcp://0.0.0.0:5641 -v --datakit=tcp:127.0.0.1:5640
 ---> Running in bf0876450519
 ---> 7b6a02ec7975
Removing intermediate container bf0876450519
Successfully built 7b6a02ec7975
[2016-11-02 14:20.40] Success
