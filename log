=== Docker run
[2017-01-24 16:04.06] Starting...
[2017-01-24 16:04.06] Running "docker" "run" "--rm" "sha256:3a576b659d12b19c24f8ad0a3c3bb0bd6669e7e915f81932fc7a2a334ad0e1fb" "sh" "-c" "opam remove \"datakit-ci\" && opam install -t --deps-only \"datakit-ci\" && opam reinstall -v -t \"datakit-ci\""
The following actions will be performed:
  - remove datakit-ci *

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> removed   datakit-ci.~unknown
Done.

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-ci: git] Command started
[datakit-ci: git] Command started
[datakit-ci] /home/opam/datakit already up-to-date
The following actions will be performed:
  - install   conf-autoconf      0.1           
  - install   ounit              2.0.0         
  - install   conf-libpcre       1             
  - install   camlzip            1.06          
  - install   fpath              0.7.1         
  - install   ocamlgraph         1.8.7         
  - install   mirage-profile     0.7.0         
  - install   bin_prot           113.33.00+4.03
  - install   mstruct            1.3.2         
  - install   jsonm              0.9.1         
  - install   pcap-format        0.4.0         
  - install   omake              0.10.1        
  - install   mirage-clock-unix  1.0.0         
  - install   alcotest           0.7.2         
  - install   hashcons           1.2           
  - install   qcheck             0.5.2         
  - install   fileutils          0.5.1         
  - install   pcre               7.2.3         
  - install   bos                0.1.4         
  - install   shared-memory-ring 1.3.0         
  - install   mirage-vnetif      0.2.0         
  - install   mirage-fs-unix     1.2.1         
  - install   irmin-watcher      0.2.0         
  - install   ezjsonm            0.4.3         
  - install   dns                0.18.1        
  - install   qtest              2.5           
  - install   mirage-unix        2.6.0         
  - install   mirage-tc          0.3.0         
  - install   batteries          2.5.3         
  - install   mirage-console     2.1.3         
  - install   expect             0.0.4         
  - install   tcpip              2.8.1         
  - install   mirage-dns         2.5.0         
  - recompile conduit            0.14.4        
  - install   mirage-conduit     2.2.0         
  - recompile cohttp             0.20.2        
  - install   mirage-http        2.5.3         
  - recompile webmachine         0.3.2         
  - recompile prometheus-app     *             
  - recompile github             2.2.0*        
  - install   git                1.9.3         
  - recompile session            0.2.0*        
  - recompile github-hooks       0.1.1         
  - install   git-unix           1.7.1         
  - recompile datakit-github     0.8.1*        
  - install   irmin              0.12.0        
  - install   irmin-unix         0.12.0        
  - install   datakit            0.8.0*        
===== 40 to install | 8 to recompile =====
Do you want to continue ? [Y/n] y

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[alcotest: http] Command started
[batteries: http] Command started
[bin_prot: http] Command started
[bin_prot: http] Command started
[bin_prot.113.33.00+4.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/bin_prot-113.33.00+4.03.tar.gz downloaded
[bos: http] Command started
[bos: http] Command started
[bos.0.1.4] http://erratique.ch/software/bos/releases/bos-0.1.4.tbz downloaded
[camlzip: http] Command started
[alcotest: http] Command started
[alcotest.0.7.2] https://github.com/mirage/alcotest/releases/download/0.7.2/alcotest-0.7.2.tbz downloaded
[datakit: git] Command started
[datakit: git] Command started
[batteries: http] Command started
[batteries.2.5.3] https://github.com/ocaml-batteries-team/batteries-included/archive/v2.5.3.tar.gz downloaded
[datakit-github: git] Command started
[datakit-github: git] Command started
[datakit: git] Command started
[datakit: git] Command started
[camlzip: http] Command started
[camlzip.1.06] https://forge.ocamlcore.org/frs/download.php/1616/camlzip-1.06.tar.gz downloaded
[dns: http] Command started
[datakit] https://github.com/docker/datakit.git already up-to-date
[expect: http] Command started
[expect: http] Command started
[expect.0.0.4] https://forge.ocamlcore.org/frs/download.php/1289/ocaml-expect-0.0.4.tar.gz downloaded
[ezjsonm: http] Command started
[datakit-github: git] Command started
[datakit-github: git] Command started
[datakit-github] https://github.com/docker/datakit.git already up-to-date
[fileutils: http] Command started
[fileutils: http] Command started
[fileutils.0.5.1] https://forge.ocamlcore.org/frs/download.php/1651/ocaml-fileutils-0.5.1.tar.gz downloaded
[fpath: http] Command started
[fpath: http] Command started
[fpath.0.7.1] http://erratique.ch/software/fpath/releases/fpath-0.7.1.tbz downloaded
[git: http] Command started
[dns: http] Command started
[dns.0.18.1] https://github.com/mirage/ocaml-dns/archive/v0.18.1.tar.gz downloaded
[github: git] Command started
[github: git] Command started
[ezjsonm: http] Command started
[ezjsonm.0.4.3] https://github.com/mirage/ezjsonm/archive/0.4.3.tar.gz downloaded
[hashcons: http] Command started
[github: git] Command started
[github: git] Command started
[github] https://github.com/mirage/ocaml-github.git already up-to-date
[irmin: http] Command started
[hashcons: http] Command started
[hashcons.1.2] https://github.com/backtracking/ocaml-hashcons/archive/1.2.tar.gz downloaded
[irmin-watcher: http] Command started
[git: http] Command started
[git.1.9.3] https://github.com/mirage/ocaml-git/releases/download/1.9.3/git-1.9.3.tbz downloaded
[jsonm: http] Command started
[jsonm: http] Command started
[jsonm.0.9.1] http://erratique.ch/software/jsonm/releases/jsonm-0.9.1.tbz downloaded
[mirage-clock-unix: http] Command started
[irmin: http] Command started
[irmin.0.12.0] https://github.com/mirage/irmin/releases/download/0.12.0/irmin-0.12.0.tbz downloaded
[mirage-console: http] Command started
[mirage-clock-unix: http] Command started
[mirage-clock-unix.1.0.0] https://github.com/mirage/mirage-clock/archive/v1.0.0.tar.gz downloaded
[mirage-fs-unix: http] Command started
[irmin-watcher: http] Command started
[irmin-watcher.0.2.0] https://github.com/samoht/irmin-watcher/releases/download/0.2.0/irmin-watcher-0.2.0.tbz downloaded
[mirage-http: http] Command started
[mirage-console: http] Command started
[mirage-console.2.1.3] https://github.com/mirage/mirage-console/archive/v2.1.3.tar.gz downloaded
[mirage-profile: http] Command started
[mirage-fs-unix: http] Command started
[mirage-fs-unix.1.2.1] https://github.com/mirage/mirage-fs-unix/archive/v1.2.1.tar.gz downloaded
[mirage-tc: http] Command started
[mirage-http: http] Command started
[mirage-http.2.5.3] https://github.com/mirage/mirage-http/releases/download/2.5.3/mirage-http-2.5.3.tbz downloaded
[mirage-unix: http] Command started
[mirage-profile: http] Command started
[mirage-profile.0.7.0] https://github.com/mirage/mirage-profile/archive/v0.7.0.tar.gz downloaded
[mirage-vnetif: http] Command started
[mirage-tc: http] Command started
[mirage-tc.0.3.0] https://github.com/mirage/mirage-tc/archive/0.3.0.tar.gz downloaded
[mstruct: http] Command started
[mirage-unix: http] Command started
[mirage-unix.2.6.0] https://github.com/mirage/mirage-platform/archive/v2.6.0.tar.gz downloaded
[ocamlgraph: http] Command started
[mirage-vnetif: http] Command started
[mirage-vnetif.0.2.0] https://github.com/MagnusS/mirage-vnetif/archive/0.2.0.tar.gz downloaded
[omake: http] Command started
[mstruct: http] Command started
[mstruct.1.3.2] https://github.com/mirage/ocaml-mstruct/archive/1.3.2.tar.gz downloaded
[ounit: http] Command started
[ounit: http] Command started
[ounit.2.0.0] http://forge.ocamlcore.org/frs/download.php/1258/ounit-2.0.0.tar.gz downloaded
[pcap-format: http] Command started
[ocamlgraph: http] Command started
[ocamlgraph.1.8.7] http://ocamlgraph.lri.fr/download/ocamlgraph-1.8.7.tar.gz downloaded
[pcre: http] Command started
[pcap-format: http] Command started
[pcap-format.0.4.0] https://github.com/mirage/ocaml-pcap/archive/v0.4.0.tar.gz downloaded
[prometheus-app: git] Command started
[prometheus-app: git] Command started
[omake: http] Command started
[omake.0.10.1] https://github.com/ocaml-omake/omake/archive/omake-0.10.1.tar.gz downloaded
[qcheck: http] Command started
[pcre: http] Command started
[pcre.7.2.3] https://github.com/mmottl/pcre-ocaml/releases/download/v7.2.3/pcre-ocaml-7.2.3.tar.gz downloaded
[qtest: http] Command started
[prometheus-app: git] Command started
[prometheus-app: git] Command started
[prometheus-app] https://github.com/docker/datakit.git already up-to-date
[session: git] Command started
[session: git] Command started
[session: git] Command started
[session: git] Command started
[session] https://github.com/inhabitedtype/ocaml-session.git already up-to-date
[shared-memory-ring: http] Command started
[qcheck: http] Command started
[qcheck.0.5.2] https://github.com/c-cube/qcheck/archive/0.5.2.tar.gz downloaded
[tcpip: http] Command started
[qtest: http] Command started
[qtest.2.5] https://github.com/vincent-hugot/iTeML/archive/v2.5.tar.gz downloaded
[shared-memory-ring: http] Command started
[shared-memory-ring.1.3.0] https://github.com/mirage/shared-memory-ring/archive/v1.3.0.tar.gz downloaded
[tcpip: http] Command started
[tcpip.2.8.1] https://github.com/mirage/mirage-tcpip/archive/v2.8.1.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> removed   datakit-github.0.8.1
-> removed   github-hooks.0.1.1
[github: ocamlfind remove] Command started
-> removed   prometheus-app.~unknown
[session: ocamlfind remove] Command started
[alcotest: ocaml build] Command started
[bin_prot: ./configure] Command started
-> removed   github.2.2.0
[camlzip: make all] Command started
-> removed   session.0.2.0
[webmachine: ocamlfind remove] Command started
-> removed   webmachine.0.3.2
[cohttp: ocamlfind remove] Command started
-> removed   cohttp.0.20.2
[conduit: ocamlfind remove] Command started
-> removed   conduit.0.14.4
[conf-autoconf: which autoconf] Command started
[ERROR] The compilation of conf-autoconf failed at "which autoconf".
[conf-libpcre: pkg-config libpcre] Command started
[ERROR] The compilation of conf-libpcre failed at "pkg-config libpcre".
[fpath: ocaml build] Command started
[alcotest: ocaml build] Command started
[camlzip: make allopt] Command started
-> installed fpath.0.7.1
[bos: ocaml build] Command started
[alcotest: ocaml test] Command started
-> installed alcotest.0.7.2
[irmin-watcher: ocaml build] Command started
[camlzip: make install-findlib] Command started
[bin_prot: make] Command started
-> installed camlzip.1.06
[jsonm: ocaml setup.ml] Command started
[jsonm: ocaml setup.ml] Command started
[irmin-watcher: ocaml build] Command started
-> installed bos.0.1.4
[mirage-clock-unix: make unix-build] Command started
[irmin-watcher: ocaml test] Command started
[mirage-clock-unix: make unix-install] Command started
-> installed mirage-clock-unix.1.0.0
[mirage-profile: ./configure] Command started
-> installed bin_prot.113.33.00+4.03
[mstruct: ./configure] Command started
[mirage-profile: make] Command started
[jsonm: ocaml setup.ml] Command started
[mstruct: make] Command started
-> installed jsonm.0.9.1
[ezjsonm: ./configure] Command started
[mirage-profile: make install] Command started
[mstruct: make install] Command started
[ezjsonm: make] Command started
-> installed mstruct.1.3.2
[ocamlgraph: touch] Command started
[ocamlgraph: ./configure] Command started
-> installed mirage-profile.0.7.0
[mirage-vnetif: make] Command started
[ocamlgraph: make] Command started
[ezjsonm: ./configure] Command started
[ezjsonm: make test] Command started
[mirage-vnetif: make install] Command started
-> installed mirage-vnetif.0.2.0
[omake: ./configure] Command started
[omake: make] Command started
[ezjsonm: make install] Command started
-> installed ezjsonm.0.4.3
[ounit: make build] Command started
[ocamlgraph: make install-findlib] Command started
-> installed ocamlgraph.1.8.7
[pcap-format: ./configure] Command started
[pcap-format: make] Command started
[pcap-format: make install] Command started
-> installed pcap-format.0.4.0
[ounit: make install] Command started
-> installed ounit.2.0.0
[fileutils: ocaml setup.ml] Command started
[mirage-fs-unix: ./configure] Command started
[mirage-fs-unix: make] Command started
[fileutils: ocaml setup.ml] Command started
[mirage-fs-unix: ./configure] Command started
[mirage-fs-unix: make test] Command started
[fileutils: ocaml setup.ml] Command started
-> installed fileutils.0.5.1
[mirage-tc: ./configure] Command started
[mirage-fs-unix: make install] Command started
[mirage-tc: make] Command started
-> installed mirage-fs-unix.1.2.1
[qcheck: ocaml setup.ml] Command started
[qcheck: make build] Command started
[mirage-tc: ./configure] Command started
[mirage-tc: make test] Command started
[qcheck: make install] Command started
[mirage-tc: make install] Command started
-> installed qcheck.0.5.2
[qtest: make build] Command started
[qtest: make install] Command started
-> installed qtest.2.5
[batteries: ocaml setup.ml] Command started
-> installed mirage-tc.0.3.0
[shared-memory-ring: make all] Command started
[batteries: make all] Command started
[shared-memory-ring: make clean] Command started
[shared-memory-ring: make test] Command started
[shared-memory-ring: make install] Command started
-> installed shared-memory-ring.1.3.0
[mirage-unix: make unix-build] Command started
[mirage-unix: make unix-install] Command started
-> installed mirage-unix.2.6.0
[mirage-console: make] Command started
[mirage-console: make install] Command started
-> installed mirage-console.2.1.3
[tcpip: ./configure] Command started
[tcpip: make] Command started
[omake: make install] Command started
-> installed omake.0.10.1
[batteries: make install] Command started
-> installed batteries.2.5.3
[tcpip: ./configure] Command started
[tcpip: make test] Command started
[tcpip: make install] Command started
-> installed tcpip.2.8.1
-> installed irmin-watcher.0.2.0

#=== ERROR while installing conf-autoconf.0.1 =================================#
# opam-version         1.2.2 (58ef3b8213100953848d362f7120a30356d7f77d)
# os                   linux
# command              which autoconf
# path                 /home/opam/.opam/4.03.0/build/conf-autoconf.0.1
# compiler             4.03.0
# exit-code            1
# env-file             /home/opam/.opam/4.03.0/build/conf-autoconf.0.1/conf-autoconf-31-2e72e2.env
# stdout-file          /home/opam/.opam/4.03.0/build/conf-autoconf.0.1/conf-autoconf-31-2e72e2.out
# stderr-file          /home/opam/.opam/4.03.0/build/conf-autoconf.0.1/conf-autoconf-31-2e72e2.err


#=== ERROR while installing conf-libpcre.1 ====================================#
# opam-version         1.2.2 (58ef3b8213100953848d362f7120a30356d7f77d)
# os                   linux
# command              pkg-config libpcre
# path                 /home/opam/.opam/4.03.0/build/conf-libpcre.1
# compiler             4.03.0
# exit-code            1
# env-file             /home/opam/.opam/4.03.0/build/conf-libpcre.1/conf-libpcre-31-201c9f.env
# stdout-file          /home/opam/.opam/4.03.0/build/conf-libpcre.1/conf-libpcre-31-201c9f.out
# stderr-file          /home/opam/.opam/4.03.0/build/conf-libpcre.1/conf-libpcre-31-201c9f.err



=-=- Error report -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
The following actions were aborted
  - install cohttp         0.20.2  
  - install conduit        0.14.4  
  - install datakit        0.8.0   
  - install datakit-github 0.8.1   
  - install dns            0.18.1  
  - install expect         0.0.4   
  - install git            1.9.3   
  - install git-unix       1.7.1   
  - install github         2.2.0   
  - install github-hooks   0.1.1   
  - install hashcons       1.2     
  - install irmin          0.12.0  
  - install irmin-unix     0.12.0  
  - install mirage-conduit 2.2.0   
  - install mirage-dns     2.5.0   
  - install mirage-http    2.5.3   
  - install pcre           7.2.3   
  - install prometheus-app ~unknown
  - install session        0.2.0   
  - install webmachine     0.3.2   
The following actions failed
  - install conf-autoconf 0.1
  - install conf-libpcre  1  
The following changes have been performed
  - remove  cohttp             0.20.2        
  - remove  conduit            0.14.4        
  - remove  datakit-github     0.8.1         
  - remove  github             2.2.0         
  - remove  github-hooks       0.1.1         
  - remove  prometheus-app     ~unknown      
  - remove  session            0.2.0         
  - remove  webmachine         0.3.2         
  - install alcotest           0.7.2         
  - install batteries          2.5.3         
  - install bin_prot           113.33.00+4.03
  - install bos                0.1.4         
  - install camlzip            1.06          
  - install ezjsonm            0.4.3         
  - install fileutils          0.5.1         
  - install fpath              0.7.1         
  - install irmin-watcher      0.2.0         
  - install jsonm              0.9.1         
  - install mirage-clock-unix  1.0.0         
  - install mirage-console     2.1.3         
  - install mirage-fs-unix     1.2.1         
  - install mirage-profile     0.7.0         
  - install mirage-tc          0.3.0         
  - install mirage-unix        2.6.0         
  - install mirage-vnetif      0.2.0         
  - install mstruct            1.3.2         
  - install ocamlgraph         1.8.7         
  - install omake              0.10.1        
  - install ounit              2.0.0         
  - install pcap-format        0.4.0         
  - install qcheck             0.5.2         
  - install qtest              2.5           
  - install shared-memory-ring 1.3.0         
  - install tcpip              2.8.1         

=-=- qcheck.0.5.2 installed successfully =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
=> new release that fixes some problems with 0.5.1,
   including a better handling of backtraces, safe-string awareness,
   a mode for long tests, and reverting `small_int` to being an alias to `nat`.

   The latter point is important for not breaking code that would use
   `small_int`
   to pick the size of lists, strings, etc. The new `small_signed_int` can
   be used instead.

=-=- qtest.2.5 installed successfully -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
=> Version similar to 2.4, except it uses qcheck as an external library
     instead of embedding it. There should be no other difference.

     To use it, still call `qtest` on your .ml/.mli files to extract tests,
     then compile the resulting suite using oUnit and qcheck.

=-=- conf-autoconf.0.1 troobleshooting =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
=> This package relies on external (system) dependencies that may be missing.
   `opam depext conf-autoconf.0.1' may help you find the correct installation
   for your system.

=-=- conf-libpcre.1 troobleshooting -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
=> This package relies on external (system) dependencies that may be missing.
   `opam depext conf-libpcre.1' may help you find the correct installation for
   your system.

The former state can be restored with:
    opam switch import "~/.opam/4.03.0/backup/state-20170024160416.export"
[2017-01-24 16:06.44] Failed: Command "docker" "run" "--rm" "sha256:3a576b659d12b19c24f8ad0a3c3bb0bd6669e7e915f81932fc7a2a334ad0e1fb" "sh" "-c" "opam remove \"datakit-ci\" && opam install -t --deps-only \"datakit-ci\" && opam reinstall -v -t \"datakit-ci\"" exited with status 4
