=== Docker build Dockerfile.client
[2017-05-18 15:23.49] Starting...
Cloning into '/tmp/with_clone271a795c'...
done.
warning: remote HEAD refers to nonexistent ref, unable to checkout.

HEAD is now at b234ba8 datakit-client-git need datakit depexts
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 6.128 MBSending build context to Docker daemon 6.685 MBSending build context to Docker daemon 7.053 MB
Step 1/28 : FROM ocaml/opam-dev@sha256:64dc0522876ebbd27b186e3ba955ae5ab864ace580add5b0d1abb8715bdf1bbe
sha256:64dc0522876ebbd27b186e3ba955ae5ab864ace580add5b0d1abb8715bdf1bbe: Pulling from ocaml/opam-dev
Digest: sha256:64dc0522876ebbd27b186e3ba955ae5ab864ace580add5b0d1abb8715bdf1bbe
Status: Image is up to date for ocaml/opam-dev@sha256:64dc0522876ebbd27b186e3ba955ae5ab864ace580add5b0d1abb8715bdf1bbe
 ---> 477ad7d223ad
Step 2/28 : RUN git -C /home/opam/opam-repository fetch origin &&     git -C /home/opam/opam-repository reset origin/master --hard &&     opam update -u
 ---> Using cache
 ---> 52e71e2e863a
Step 3/28 : ENV OPAMERRLOGLEN 0 OPAMYES 1
 ---> Using cache
 ---> cfabc32e9e4f
Step 4/28 : RUN opam depext -ui lwt alcotest conf-libev
 ---> Using cache
 ---> b69551aaf5a8
Step 5/28 : COPY datakit-client.opam /home/opam/src/datakit/datakit-client.opam
 ---> Using cache
 ---> 2287ee7c61f8
Step 6/28 : RUN opam pin add datakit-client.dev /home/opam/src/datakit -n
 ---> Using cache
 ---> 29e75335c7a7
Step 7/28 : COPY datakit-client-9p.opam /home/opam/src/datakit/datakit-client-9p.opam
 ---> Using cache
 ---> 9682af8b14fa
Step 8/28 : RUN opam pin add datakit-client-9p.dev /home/opam/src/datakit -n
 ---> Using cache
 ---> 52cdf575d416
Step 9/28 : RUN opam depext datakit-client datakit-client-9p &&     opam install datakit-client --deps
 ---> Using cache
 ---> e750d04c3b46
Step 10/28 : COPY . /home/opam/src/datakit
 ---> d387968497a8
Error removing intermediate container 8c596996940a: Driver aufs failed to remove root filesystem 8c596996940a8422c3a0d9b01ec5103077709bf89c0d771d7d2d63f2551eae51: rename /var/lib/docker/aufs/mnt/d41dbed8ebd77bd8ca198dd64bb677968e32ab50eef0d32f162be0c879d53941 /var/lib/docker/aufs/mnt/d41dbed8ebd77bd8ca198dd64bb677968e32ab50eef0d32f162be0c879d53941-removing: device or resource busy
Step 11/28 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in f45d62705332
 ---> 6ba96f808afe
Error removing intermediate container 8c596996940a: No such container: 8c596996940a8422c3a0d9b01ec5103077709bf89c0d771d7d2d63f2551eae51
Step 12/28 : RUN cd /home/opam/src/datakit &&     scripts/watermark.sh &&     git status --porcelain
 ---> Running in 173c14010d1a
 M src/version.ml
 ---> bc6f30adbae2
Error removing intermediate container 8c596996940a: No such container: 8c596996940a8422c3a0d9b01ec5103077709bf89c0d771d7d2d63f2551eae51
Step 13/28 : RUN opam update datakit-client datakit-client-9p
 ---> Running in 9b6853c6ea48

=-=- Synchronizing development packages -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client-9p.dev] synchronised from file:///home/opam/src/datakit
[datakit-client.dev] synchronised from file:///home/opam/src/datakit
Now run 'opam upgrade' to apply any package updates.
 ---> 52f20f455b84
Error removing intermediate container 8c596996940a: No such container: 8c596996940a8422c3a0d9b01ec5103077709bf89c0d771d7d2d63f2551eae51
Step 14/28 : RUN opam info datakit-client --raw
 ---> Running in ad94c0e901df
opam-version: "2.0"
name: "datakit-client"
version: "dev"
maintainer: "thomas@gazagnaire.org"
authors: [
  "Thomas Leonard" "Magnus Skjegstad" "David Scott" "Thomas Gazagnaire"
]
license: "Apache"
homepage: "https://github.com/moby/datakit"
doc: "https://docker.github.io/datakit/"
bug-reports: "https://github.com/moby/datakit/issues"
depends: [
  "ocaml"
  "jbuilder" {build}
  "astring"
  "result"
  "fmt"
  "cstruct" {> "2.2.0"}
]
flags: light-uninstall
build: ["jbuilder" "build" "-p" name "-j" jobs]
dev-repo: "git+https://github.com/moby/datakit.git"
url {
  src: "file:///home/opam/src/datakit"
}
 ---> 0758a04fc1c9
Removing intermediate container 9b6853c6ea48
Removing intermediate container ad94c0e901df
Error removing intermediate container 8c596996940a: No such container: 8c596996940a8422c3a0d9b01ec5103077709bf89c0d771d7d2d63f2551eae51
Step 15/28 : RUN opam install datakit-client.dev -vv
 ---> Running in 23647ed52ec1

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/1: [datakit-client.dev: rsync]
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--exclude" "_opam*" "--delete" "--delete-excluded" "/home/opam/src/datakit/" "/home/opam/.opam/default/.opam-switch/sources/datakit-client"
- sending incremental file list
- 
- sent 8,712 bytes  received 52 bytes  17,528.00 bytes/sec
- total size is 1,307,674  speedup is 149.21
[datakit-client.dev] no changes from file:///home/opam/src/datakit

+ uname "-m"
- x86_64
+ ocamlc "-vnum"
- 4.04.0
The following actions will be performed:
  - install datakit-client dev*
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--exclude" "_opam*" "--delete" "--delete-excluded" "/home/opam/src/datakit/" "/home/opam/.opam/default/.opam-switch/sources/datakit-client"
- sending incremental file list
- ./
- .dockerignore
- .gitattributes
- .gitignore
- 9p.md
- CHANGES.md
- CONTRIBUTING.md
- Dockerfile
- Dockerfile.bridge-local-git
- Dockerfile.ci
- Dockerfile.client
- Dockerfile.github
- LICENSE.md
- MAINTAINERS
- Makefile
- README.md
- appveyor.yml
- check-libev.ml
- circle.yml
- datakit-bridge-github.descr
- datakit-bridge-github.opam
- datakit-bridge-local-git.descr
- datakit-bridge-local-git.opam
- datakit-ci.descr
- datakit-ci.opam
- datakit-client-9p.opam
- datakit-client-git.opam
- datakit-client.descr
- datakit-client.opam
- datakit-github.descr
- datakit-github.opam
- datakit-server-9p.opam
- datakit-server.descr
- datakit-server.opam
- datakit.opam
- api/
- api/go-datakit/
- api/go-datakit/client.go
- api/go-datakit/client_test.go
- api/go-datakit/config.go
- api/go-datakit/config_test.go
- api/go-datakit/doc.go
- api/go-datakit/snapshot.go
- api/go-datakit/snapshot_test.go
- api/go-datakit/transaction.go
- api/go-datakit/transaction_test.go
- api/go-datakit/watch.go
- api/ocaml/
- api/ocaml/datakit_client.ml
- api/ocaml/datakit_client.mli
- api/ocaml/jbuild
- api/ocaml/9p/
- api/ocaml/9p/datakit_client_9p.ml
- api/ocaml/9p/datakit_client_9p.mli
- api/ocaml/9p/jbuild
- api/ocaml/9p/mount/
- api/ocaml/9p/mount/jbuild
- api/ocaml/9p/mount/mount.ml
- api/ocaml/git/
- api/ocaml/git/datakit_client_git.ml
- api/ocaml/git/datakit_client_git.mli
- api/ocaml/git/jbuild
- bridge/
- bridge/github/
- bridge/github/README.md
- bridge/github/datakit_github_api.ml
- bridge/github/datakit_github_api.mli
- bridge/github/datakit_github_state.ml
- bridge/github/datakit_github_state.mli
- bridge/github/datakit_github_sync.ml
- bridge/github/datakit_github_sync.mli
- bridge/github/jbuild
- bridge/github/main.ml
- bridge/github/main.mli
- bridge/local/
- bridge/local/Makefile
- bridge/local/README.md
- bridge/local/jbuild
- bridge/local/main.ml
- bridge/local/main.mli
- bridge/local/sync.ml
- bridge/local/sync.mli
- ci/
- ci/Makefile
- ci/README.md
- ci/self-ci/
- ci/self-ci/.dockerignore
- ci/self-ci/.gitignore
- ci/self-ci/Dockerfile
- ci/self-ci/Makefile
- ci/self-ci/README.md
- ci/self-ci/_tags
- ci/self-ci/datakit-ci.yml
- ci/self-ci/docker-compose.yml
- ci/self-ci/selfCI.ml
- ci/self-ci/selfCI.mli
- ci/skeleton/
- ci/skeleton/.gitignore
- ci/skeleton/Dockerfile
- ci/skeleton/Makefile
- ci/skeleton/_tags
- ci/skeleton/exampleCI.ml
- ci/src/
- ci/src/cI_ACL.ml
- ci/src/cI_ACL.mli
- ci/src/cI_cache.ml
- ci/src/cI_cache.mli
- ci/src/cI_char_stream.ml
- ci/src/cI_char_stream.mli
- ci/src/cI_config.ml
- ci/src/cI_config.mli
- ci/src/cI_docker.ml
- ci/src/cI_docker.mli
- ci/src/cI_engine.ml
- ci/src/cI_engine.mli
- ci/src/cI_escape_parser.ml
- ci/src/cI_escape_parser.mli
- ci/src/cI_eval.ml
- ci/src/cI_eval.mli
- ci/src/cI_form.ml
- ci/src/cI_form.mli
- ci/src/cI_git.ml
- ci/src/cI_git.mli
- ci/src/cI_history.ml
- ci/src/cI_history.mli
- ci/src/cI_live_log.ml
- ci/src/cI_live_log.mli
- ci/src/cI_log_reporter.ml
- ci/src/cI_log_reporter.mli
- ci/src/cI_main.ml
- ci/src/cI_main.mli
- ci/src/cI_monitored_pool.ml
- ci/src/cI_monitored_pool.mli
- ci/src/cI_output.ml
- ci/src/cI_output.mli
- ci/src/cI_process.ml
- ci/src/cI_process.mli
- ci/src/cI_result.ml
- ci/src/cI_result.mli
- ci/src/cI_s.ml
- ci/src/cI_secrets.ml
- ci/src/cI_secrets.mli
- ci/src/cI_static.mli
- ci/src/cI_target.ml
- ci/src/cI_target.mli
- ci/src/cI_term.ml
- ci/src/cI_term.mli
- ci/src/cI_utils.ml
- ci/src/cI_utils.mli
- ci/src/cI_web.ml
- ci/src/cI_web.mli
- ci/src/cI_web_templates.ml
- ci/src/cI_web_templates.mli
- ci/src/cI_web_utils.ml
- ci/src/cI_web_utils.mli
- ci/src/datakit_ci.ml
- ci/src/datakit_ci.mli
- ci/src/jbuild
- ci/static/
- ci/static/css/
- ci/static/css/bootstrap.min.css
- ci/static/css/style.css
- ci/static/fonts/
- ci/static/fonts/glyphicons-halflings-regular.eot
- ci/static/fonts/glyphicons-halflings-regular.svg
- ci/static/fonts/glyphicons-halflings-regular.ttf
- ci/static/fonts/glyphicons-halflings-regular.woff
- ci/static/fonts/glyphicons-halflings-regular.woff2
- ci/static/images/
- ci/static/images/favicon.png
- ci/static/js/
- ci/static/js/bootstrap.min.js
- ci/static/js/ci.js
- ci/tests/
- ci/tests/_tags
- ci/tests/exampleCI.ml
- ci/tests/jbuild
- ci/tests/test_ci.ml
- ci/tests/test_ci.mli
- ci/tests/test_utils.ml
- doc/
- doc/api.odocl
- examples/
- examples/ocaml-client/
- examples/ocaml-client/Makefile
- examples/ocaml-client/_tags
- examples/ocaml-client/example.ml
- pkg/
- pkg/META
- pkg/META.ci
- pkg/META.client
- pkg/META.github
- pkg/META.server
- pkg/pkg.ml
- reports/
- reports/2017-04-23.md
- reports/2017-04-30.md
- reports/2017-05-07.md
- reports/2017-05-14.md
- scripts/
- scripts/check-dylib.sh
- scripts/git-dumb-server
- scripts/start-client.sh
- scripts/start-datakit-gh-bridge.sh
- scripts/start-datakit.sh
- scripts/test-pr.sh
- scripts/watermark.sh
- src/
- src/version.ml
- src/datakit-conduit/
- src/datakit-conduit/datakit_conduit.ml
- src/datakit-conduit/datakit_conduit.mli
- src/datakit-conduit/jbuild
- src/datakit-github/
- src/datakit-github/datakit_github.ml
- src/datakit-github/datakit_github.mli
- src/datakit-github/datakit_github_conv.ml
- src/datakit-github/datakit_github_conv.mli
- src/datakit-github/jbuild
- src/datakit-io/
- src/datakit-io/datakit_io.ml
- src/datakit-io/datakit_io.mli
- src/datakit-io/jbuild
- src/datakit-log/
- src/datakit-log/datakit_log.ml
- src/datakit-log/datakit_log.mli
- src/datakit-log/jbuild
- src/datakit-server-9p/
- src/datakit-server-9p/fs9p.ml
- src/datakit-server-9p/fs9p.mli
- src/datakit-server-9p/fs9p_error.ml
- src/datakit-server-9p/fs9p_error.mli
- src/datakit-server-9p/jbuild
- src/datakit-server/
- src/datakit-server/jbuild
- src/datakit-server/vfs.ml
- src/datakit-server/vfs.mli
- src/datakit/
- src/datakit/autopush.ml
- src/datakit/ivfs.ml
- src/datakit/ivfs.mli
- src/datakit/ivfs_blob.ml
- src/datakit/ivfs_blob.mli
- src/datakit/ivfs_merge.ml
- src/datakit/ivfs_merge.mli
- src/datakit/ivfs_remote.ml
- src/datakit/ivfs_remote.mli
- src/datakit/ivfs_rw.ml
- src/datakit/ivfs_rw.mli
- src/datakit/ivfs_tree.ml
- src/datakit/ivfs_tree.mli
- src/datakit/jbuild
- src/datakit/bin/
- src/datakit/bin/jbuild
- src/datakit/bin/main.ml
- tests/
- tests/common/
- tests/common/jbuild
- tests/common/test_client.ml
- tests/common/test_client.mli
- tests/common/test_utils.ml
- tests/datakit-9p/
- tests/datakit-9p/jbuild
- tests/datakit-9p/test.ml
- tests/datakit-bridge-github/
- tests/datakit-bridge-github/jbuild
- tests/datakit-bridge-github/test.ml
- tests/datakit-git/
- tests/datakit-git/jbuild
- tests/datakit-git/test.ml
- tests/datakit/
- tests/datakit/jbuild
- tests/datakit/test.ml
- 
- sent 1,326,637 bytes  received 4,675 bytes  2,662,624.00 bytes/sec
- total size is 1,307,674  speedup is 0.98
[datakit-client.dev] synchronised from file:///home/opam/src/datakit

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/2: [datakit-client: jbuilder build]
+ jbuilder "build" "-p" "datakit-client" "-j" "1" (CWD=/home/opam/.opam/default/.opam-switch/build/datakit-client.dev)
-     ocamldep api/ocaml/9p/mount/mount.depends.ocamldep-output
-     ocamldep api/ocaml/datakit_client.depends.ocamldep-output
-     ocamldep api/ocaml/datakit_client.dependsi.ocamldep-output
-       ocamlc api/ocaml/9p/mount/version.{cmi,cmo,cmt}
-       ocamlc api/ocaml/datakit_client.{cmi,cmti}
-       ocamlc api/ocaml/9p/mount/mount.{cmi,cmo,cmt}
-     ocamlopt api/ocaml/9p/mount/version.{cmx,o}
-       ocamlc api/ocaml/datakit_client.{cmo,cmt}
-     ocamlopt api/ocaml/datakit_client.{cmx,o}
-     ocamlopt api/ocaml/9p/mount/mount.{cmx,o}
-       ocamlc api/ocaml/datakit_client.cma
-     ocamlopt api/ocaml/datakit_client.{a,cmxa}
-     ocamlopt api/ocaml/9p/mount/mount.exe
-     ocamlopt api/ocaml/datakit_client.cmxs
-> compiled  datakit-client.dev
+ install "-m" "0755" "/home/opam/.opam/default/.opam-switch/build/datakit-client.dev/_build/install/default/bin/datakit-mount" "/home/opam/.opam/default/bin/datakit-mount"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client.dev/_build/install/default/lib/datakit-client/META" "/home/opam/.opam/default/lib/datakit-client/META"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client.dev/_build/install/default/lib/datakit-client/opam" "/home/opam/.opam/default/lib/datakit-client/opam"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.cmi" "/home/opam/.opam/default/lib/datakit-client/datakit_client.cmi"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.cmx" "/home/opam/.opam/default/lib/datakit-client/datakit_client.cmx"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.cmt" "/home/opam/.opam/default/lib/datakit-client/datakit_client.cmt"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.cmti" "/home/opam/.opam/default/lib/datakit-client/datakit_client.cmti"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.mli" "/home/opam/.opam/default/lib/datakit-client/datakit_client.mli"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.cma" "/home/opam/.opam/default/lib/datakit-client/datakit_client.cma"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.cmxa" "/home/opam/.opam/default/lib/datakit-client/datakit_client.cmxa"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.a" "/home/opam/.opam/default/lib/datakit-client/datakit_client.a"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.cmxs" "/home/opam/.opam/default/lib/datakit-client/datakit_client.cmxs"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client.dev/_build/install/default/doc/datakit-client/README.md" "/home/opam/.opam/default/doc/datakit-client/README.md"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client.dev/_build/install/default/doc/datakit-client/LICENSE.md" "/home/opam/.opam/default/doc/datakit-client/LICENSE.md"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client.dev/_build/install/default/doc/datakit-client/CHANGES.md" "/home/opam/.opam/default/doc/datakit-client/CHANGES.md"
-> installed datakit-client.dev
Done.
# Run eval `opam env` to update the current shell environment
 ---> f4c9c8aca366
Removing intermediate container 173c14010d1a
Removing intermediate container 23647ed52ec1
Error removing intermediate container 8c596996940a: No such container: 8c596996940a8422c3a0d9b01ec5103077709bf89c0d771d7d2d63f2551eae51
Step 16/28 : RUN opam install datakit-client-9p --deps
 ---> Running in f5c7054fd55d

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client-9p.dev] no changes from file:///home/opam/src/datakit

The following actions will be performed:
  - install logs                  0.6.2
  - install rresult               0.5.0
  - install asetmap               0.8.1
  - install base                  v0.9.2
  - install io-page               1.6.1
  - install ppx_deriving          4.1
  - install cstruct-lwt           0
  - install win-error             0.2
  - install mirage-flow           1.2.0
  - install ocb-stubblr           0.1.1
  - install ocaml-compiler-libs   v0.9.0
  - install ppx_traverse_builtins v0.9.0
  - install mirage-device         1.0.0
  - install prometheus            0.1
  - install stdio                 v0.9.0
  - install mirage-channel        3.0.0
  - install named-pipe            0.4.0
  - install ppx_ast               v0.9.1
  - install mirage-kv             1.0.0
  - install mirage-clock          1.2.0
  - install ppx_core              v0.9.0
  - install mirage-kv-lwt         1.0.0
  - install mirage-flow-lwt       1.2.0
  - install ppx_optcomp           v0.9.0
  - install mirage-channel-lwt    3.0.0
  - install ppx_driver            v0.9.1
  - install ppx_metaquot          v0.9.0
  - install ppx_type_conv         v0.9.0
  - install ppx_sexp_conv         v0.9.0
  - install protocol-9p           0.11.0
  - install protocol-9p-unix      0.11.0
===== 31 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[asetmap.0.8.1] downloaded from http://erratique.ch/software/asetmap/releases/asetmap-0.8.1.tbz
[logs.0.6.2] downloaded from http://erratique.ch/software/logs/releases/logs-0.6.2.tbz
[io-page.1.6.1] downloaded from https://github.com/mirage/io-page/archive/v1.6.1.tar.gz
[mirage-channel.3.0.0] downloaded from https://github.com/mirage/mirage-channel/releases/download/v3.0.0/mirage-channel-3.0.0.tbz
[base.v0.9.2] downloaded from https://github.com/janestreet/base/archive/v0.9.2.tar.gz
[mirage-channel-lwt.3.0.0] downloaded from https://github.com/mirage/mirage-channel/releases/download/v3.0.0/mirage-channel-lwt-3.0.0.tbz
[mirage-device.1.0.0] downloaded from https://github.com/mirage/mirage-device/releases/download/1.0.0/mirage-device-1.0.0.tbz
[mirage-flow.1.2.0] downloaded from https://github.com/mirage/mirage-flow/releases/download/1.2.0/mirage-flow-1.2.0.tbz
[mirage-flow-lwt.1.2.0] downloaded from https://github.com/mirage/mirage-flow/releases/download/1.2.0/mirage-flow-lwt-1.2.0.tbz
[mirage-clock.1.2.0] downloaded from https://github.com/mirage/mirage-clock/releases/download/1.2.0/mirage-clock-1.2.0.tbz
[mirage-kv-lwt.1.0.0] downloaded from https://github.com/mirage/mirage-kv/releases/download/1.0.0/mirage-kv-lwt-1.0.0.tbz
[mirage-kv.1.0.0] downloaded from https://github.com/mirage/mirage-kv/releases/download/1.0.0/mirage-kv-1.0.0.tbz
[named-pipe.0.4.0] downloaded from https://github.com/mirage/ocaml-named-pipe/releases/download/0.4.0/named-pipe-0.4.0.tbz
[ocaml-compiler-libs.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ocaml-compiler-libs-v0.9.0.tar.gz
[ppx_core.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_core-v0.9.0.tar.gz
[ppx_ast.v0.9.1] downloaded from https://github.com/janestreet/ppx_ast/archive/v0.9.1.tar.gz
[ocb-stubblr.0.1.1] downloaded from https://github.com/pqwy/ocb-stubblr/releases/download/v0.1.1/ocb-stubblr-0.1.1.tbz
[ppx_metaquot.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_metaquot-v0.9.0.tar.gz
[ppx_deriving.4.1] downloaded from https://github.com/whitequark/ppx_deriving/archive/v4.1.tar.gz
[ppx_driver.v0.9.1] downloaded from https://github.com/janestreet/ppx_driver/archive/v0.9.1.tar.gz
[ppx_optcomp.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_optcomp-v0.9.0.tar.gz
[ppx_sexp_conv.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_sexp_conv-v0.9.0.tar.gz
[ppx_traverse_builtins.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_traverse_builtins-v0.9.0.tar.gz
[ppx_type_conv.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_type_conv-v0.9.0.tar.gz
[prometheus.0.1] downloaded from https://github.com/mirage/prometheus/releases/download/v0.1/prometheus-0.1.tbz
[rresult.0.5.0] downloaded from http://erratique.ch/software/rresult/releases/rresult-0.5.0.tbz
[protocol-9p.0.11.0] downloaded from https://github.com/mirage/ocaml-9p/archive/v0.11.0.tar.gz
[protocol-9p-unix.0.11.0] downloaded from https://github.com/mirage/ocaml-9p/archive/v0.11.0.tar.gz
[stdio.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/stdio-v0.9.0.tar.gz
[win-error.0.2] downloaded from https://github.com/djs55/ocaml-win-error/archive/v0.2.tar.gz

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> installed asetmap.0.8.1
-> installed base.v0.9.2
-> installed cstruct-lwt.0
-> installed io-page.1.6.1
-> installed logs.0.6.2
-> installed mirage-device.1.0.0
-> installed mirage-clock.1.2.0
-> installed mirage-flow.1.2.0
-> installed mirage-channel.3.0.0
-> installed mirage-flow-lwt.1.2.0
-> installed mirage-channel-lwt.3.0.0
-> installed mirage-kv.1.0.0
-> installed mirage-kv-lwt.1.0.0
-> installed ocaml-compiler-libs.v0.9.0
-> installed ocb-stubblr.0.1.1
-> installed named-pipe.0.4.0
-> installed ppx_ast.v0.9.1
-> installed ppx_deriving.4.1
-> installed ppx_traverse_builtins.v0.9.0
-> installed prometheus.0.1
-> installed rresult.0.5.0
-> installed stdio.v0.9.0
-> installed ppx_core.v0.9.0
-> installed ppx_optcomp.v0.9.0
-> installed ppx_driver.v0.9.1
-> installed ppx_metaquot.v0.9.0
-> installed ppx_type_conv.v0.9.0
-> installed ppx_sexp_conv.v0.9.0
-> installed win-error.0.2
-> installed protocol-9p.0.11.0
-> installed protocol-9p-unix.0.11.0
Done.
# Run eval `opam env` to update the current shell environment
 ---> 8e15f822fe54
Removing intermediate container f5c7054fd55d
Error removing intermediate container 8c596996940a: No such container: 8c596996940a8422c3a0d9b01ec5103077709bf89c0d771d7d2d63f2551eae51
Step 17/28 : RUN opam install datakit-client-9p -vv
 ---> Running in 72c222aea62f

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/1: [datakit-client-9p.dev: rsync]
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--exclude" "_opam*" "--delete" "--delete-excluded" "/home/opam/src/datakit/" "/home/opam/.opam/default/.opam-switch/sources/datakit-client-9p"
- sending incremental file list
- 
- sent 8,712 bytes  received 52 bytes  17,528.00 bytes/sec
- total size is 1,307,674  speedup is 149.21
[datakit-client-9p.dev] no changes from file:///home/opam/src/datakit

+ uname "-m"
- x86_64
+ ocamlc "-vnum"
- 4.04.0
The following actions will be performed:
  - install datakit-client-9p dev*
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--exclude" "_opam*" "--delete" "--delete-excluded" "/home/opam/src/datakit/" "/home/opam/.opam/default/.opam-switch/sources/datakit-client-9p"
- sending incremental file list
- ./
- .dockerignore
- .gitattributes
- .gitignore
- 9p.md
- CHANGES.md
- CONTRIBUTING.md
- Dockerfile
- Dockerfile.bridge-local-git
- Dockerfile.ci
- Dockerfile.client
- Dockerfile.github
- LICENSE.md
- MAINTAINERS
- Makefile
- README.md
- appveyor.yml
- check-libev.ml
- circle.yml
- datakit-bridge-github.descr
- datakit-bridge-github.opam
- datakit-bridge-local-git.descr
- datakit-bridge-local-git.opam
- datakit-ci.descr
- datakit-ci.opam
- datakit-client-9p.opam
- datakit-client-git.opam
- datakit-client.descr
- datakit-client.opam
- datakit-github.descr
- datakit-github.opam
- datakit-server-9p.opam
- datakit-server.descr
- datakit-server.opam
- datakit.opam
- api/
- api/go-datakit/
- api/go-datakit/client.go
- api/go-datakit/client_test.go
- api/go-datakit/config.go
- api/go-datakit/config_test.go
- api/go-datakit/doc.go
- api/go-datakit/snapshot.go
- api/go-datakit/snapshot_test.go
- api/go-datakit/transaction.go
- api/go-datakit/transaction_test.go
- api/go-datakit/watch.go
- api/ocaml/
- api/ocaml/datakit_client.ml
- api/ocaml/datakit_client.mli
- api/ocaml/jbuild
- api/ocaml/9p/
- api/ocaml/9p/datakit_client_9p.ml
- api/ocaml/9p/datakit_client_9p.mli
- api/ocaml/9p/jbuild
- api/ocaml/9p/mount/
- api/ocaml/9p/mount/jbuild
- api/ocaml/9p/mount/mount.ml
- api/ocaml/git/
- api/ocaml/git/datakit_client_git.ml
- api/ocaml/git/datakit_client_git.mli
- api/ocaml/git/jbuild
- bridge/
- bridge/github/
- bridge/github/README.md
- bridge/github/datakit_github_api.ml
- bridge/github/datakit_github_api.mli
- bridge/github/datakit_github_state.ml
- bridge/github/datakit_github_state.mli
- bridge/github/datakit_github_sync.ml
- bridge/github/datakit_github_sync.mli
- bridge/github/jbuild
- bridge/github/main.ml
- bridge/github/main.mli
- bridge/local/
- bridge/local/Makefile
- bridge/local/README.md
- bridge/local/jbuild
- bridge/local/main.ml
- bridge/local/main.mli
- bridge/local/sync.ml
- bridge/local/sync.mli
- ci/
- ci/Makefile
- ci/README.md
- ci/self-ci/
- ci/self-ci/.dockerignore
- ci/self-ci/.gitignore
- ci/self-ci/Dockerfile
- ci/self-ci/Makefile
- ci/self-ci/README.md
- ci/self-ci/_tags
- ci/self-ci/datakit-ci.yml
- ci/self-ci/docker-compose.yml
- ci/self-ci/selfCI.ml
- ci/self-ci/selfCI.mli
- ci/skeleton/
- ci/skeleton/.gitignore
- ci/skeleton/Dockerfile
- ci/skeleton/Makefile
- ci/skeleton/_tags
- ci/skeleton/exampleCI.ml
- ci/src/
- ci/src/cI_ACL.ml
- ci/src/cI_ACL.mli
- ci/src/cI_cache.ml
- ci/src/cI_cache.mli
- ci/src/cI_char_stream.ml
- ci/src/cI_char_stream.mli
- ci/src/cI_config.ml
- ci/src/cI_config.mli
- ci/src/cI_docker.ml
- ci/src/cI_docker.mli
- ci/src/cI_engine.ml
- ci/src/cI_engine.mli
- ci/src/cI_escape_parser.ml
- ci/src/cI_escape_parser.mli
- ci/src/cI_eval.ml
- ci/src/cI_eval.mli
- ci/src/cI_form.ml
- ci/src/cI_form.mli
- ci/src/cI_git.ml
- ci/src/cI_git.mli
- ci/src/cI_history.ml
- ci/src/cI_history.mli
- ci/src/cI_live_log.ml
- ci/src/cI_live_log.mli
- ci/src/cI_log_reporter.ml
- ci/src/cI_log_reporter.mli
- ci/src/cI_main.ml
- ci/src/cI_main.mli
- ci/src/cI_monitored_pool.ml
- ci/src/cI_monitored_pool.mli
- ci/src/cI_output.ml
- ci/src/cI_output.mli
- ci/src/cI_process.ml
- ci/src/cI_process.mli
- ci/src/cI_result.ml
- ci/src/cI_result.mli
- ci/src/cI_s.ml
- ci/src/cI_secrets.ml
- ci/src/cI_secrets.mli
- ci/src/cI_static.mli
- ci/src/cI_target.ml
- ci/src/cI_target.mli
- ci/src/cI_term.ml
- ci/src/cI_term.mli
- ci/src/cI_utils.ml
- ci/src/cI_utils.mli
- ci/src/cI_web.ml
- ci/src/cI_web.mli
- ci/src/cI_web_templates.ml
- ci/src/cI_web_templates.mli
- ci/src/cI_web_utils.ml
- ci/src/cI_web_utils.mli
- ci/src/datakit_ci.ml
- ci/src/datakit_ci.mli
- ci/src/jbuild
- ci/static/
- ci/static/css/
- ci/static/css/bootstrap.min.css
- ci/static/css/style.css
- ci/static/fonts/
- ci/static/fonts/glyphicons-halflings-regular.eot
- ci/static/fonts/glyphicons-halflings-regular.svg
- ci/static/fonts/glyphicons-halflings-regular.ttf
- ci/static/fonts/glyphicons-halflings-regular.woff
- ci/static/fonts/glyphicons-halflings-regular.woff2
- ci/static/images/
- ci/static/images/favicon.png
- ci/static/js/
- ci/static/js/bootstrap.min.js
- ci/static/js/ci.js
- ci/tests/
- ci/tests/_tags
- ci/tests/exampleCI.ml
- ci/tests/jbuild
- ci/tests/test_ci.ml
- ci/tests/test_ci.mli
- ci/tests/test_utils.ml
- doc/
- doc/api.odocl
- examples/
- examples/ocaml-client/
- examples/ocaml-client/Makefile
- examples/ocaml-client/_tags
- examples/ocaml-client/example.ml
- pkg/
- pkg/META
- pkg/META.ci
- pkg/META.client
- pkg/META.github
- pkg/META.server
- pkg/pkg.ml
- reports/
- reports/2017-04-23.md
- reports/2017-04-30.md
- reports/2017-05-07.md
- reports/2017-05-14.md
- scripts/
- scripts/check-dylib.sh
- scripts/git-dumb-server
- scripts/start-client.sh
- scripts/start-datakit-gh-bridge.sh
- scripts/start-datakit.sh
- scripts/test-pr.sh
- scripts/watermark.sh
- src/
- src/version.ml
- src/datakit-conduit/
- src/datakit-conduit/datakit_conduit.ml
- src/datakit-conduit/datakit_conduit.mli
- src/datakit-conduit/jbuild
- src/datakit-github/
- src/datakit-github/datakit_github.ml
- src/datakit-github/datakit_github.mli
- src/datakit-github/datakit_github_conv.ml
- src/datakit-github/datakit_github_conv.mli
- src/datakit-github/jbuild
- src/datakit-io/
- src/datakit-io/datakit_io.ml
- src/datakit-io/datakit_io.mli
- src/datakit-io/jbuild
- src/datakit-log/
- src/datakit-log/datakit_log.ml
- src/datakit-log/datakit_log.mli
- src/datakit-log/jbuild
- src/datakit-server-9p/
- src/datakit-server-9p/fs9p.ml
- src/datakit-server-9p/fs9p.mli
- src/datakit-server-9p/fs9p_error.ml
- src/datakit-server-9p/fs9p_error.mli
- src/datakit-server-9p/jbuild
- src/datakit-server/
- src/datakit-server/jbuild
- src/datakit-server/vfs.ml
- src/datakit-server/vfs.mli
- src/datakit/
- src/datakit/autopush.ml
- src/datakit/ivfs.ml
- src/datakit/ivfs.mli
- src/datakit/ivfs_blob.ml
- src/datakit/ivfs_blob.mli
- src/datakit/ivfs_merge.ml
- src/datakit/ivfs_merge.mli
- src/datakit/ivfs_remote.ml
- src/datakit/ivfs_remote.mli
- src/datakit/ivfs_rw.ml
- src/datakit/ivfs_rw.mli
- src/datakit/ivfs_tree.ml
- src/datakit/ivfs_tree.mli
- src/datakit/jbuild
- src/datakit/bin/
- src/datakit/bin/jbuild
- src/datakit/bin/main.ml
- tests/
- tests/common/
- tests/common/jbuild
- tests/common/test_client.ml
- tests/common/test_client.mli
- tests/common/test_utils.ml
- tests/datakit-9p/
- tests/datakit-9p/jbuild
- tests/datakit-9p/test.ml
- tests/datakit-bridge-github/
- tests/datakit-bridge-github/jbuild
- tests/datakit-bridge-github/test.ml
- tests/datakit-git/
- tests/datakit-git/jbuild
- tests/datakit-git/test.ml
- tests/datakit/
- tests/datakit/jbuild
- tests/datakit/test.ml
- 
- sent 1,326,637 bytes  received 4,675 bytes  2,662,624.00 bytes/sec
- total size is 1,307,674  speedup is 0.98
[datakit-client-9p.dev] synchronised from file:///home/opam/src/datakit

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/2: [datakit-client-9p: jbuilder build]
+ jbuilder "build" "-p" "datakit-client-9p" "-j" "1" (CWD=/home/opam/.opam/default/.opam-switch/build/datakit-client-9p.dev)
-     ocamldep api/ocaml/9p/datakit_client_9p.depends.ocamldep-output
-     ocamldep api/ocaml/9p/datakit_client_9p.dependsi.ocamldep-output
-       ocamlc api/ocaml/9p/datakit_client_9p.{cmi,cmti}
-       ocamlc api/ocaml/9p/datakit_client_9p.{cmo,cmt}
-     ocamlopt api/ocaml/9p/datakit_client_9p.{cmx,o}
-       ocamlc api/ocaml/9p/datakit_client_9p.cma
-     ocamlopt api/ocaml/9p/datakit_client_9p.{a,cmxa}
-     ocamlopt api/ocaml/9p/datakit_client_9p.cmxs
-> compiled  datakit-client-9p.dev
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client-9p.dev/_build/install/default/lib/datakit-client-9p/META" "/home/opam/.opam/default/lib/datakit-client-9p/META"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client-9p.dev/_build/install/default/lib/datakit-client-9p/opam" "/home/opam/.opam/default/lib/datakit-client-9p/opam"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client-9p.dev/_build/install/default/lib/datakit-client-9p/datakit_client_9p.cmi" "/home/opam/.opam/default/lib/datakit-client-9p/datakit_client_9p.cmi"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client-9p.dev/_build/install/default/lib/datakit-client-9p/datakit_client_9p.cmx" "/home/opam/.opam/default/lib/datakit-client-9p/datakit_client_9p.cmx"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client-9p.dev/_build/install/default/lib/datakit-client-9p/datakit_client_9p.cmt" "/home/opam/.opam/default/lib/datakit-client-9p/datakit_client_9p.cmt"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client-9p.dev/_build/install/default/lib/datakit-client-9p/datakit_client_9p.cmti" "/home/opam/.opam/default/lib/datakit-client-9p/datakit_client_9p.cmti"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client-9p.dev/_build/install/default/lib/datakit-client-9p/datakit_client_9p.mli" "/home/opam/.opam/default/lib/datakit-client-9p/datakit_client_9p.mli"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client-9p.dev/_build/install/default/lib/datakit-client-9p/datakit_client_9p.cma" "/home/opam/.opam/default/lib/datakit-client-9p/datakit_client_9p.cma"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client-9p.dev/_build/install/default/lib/datakit-client-9p/datakit_client_9p.cmxa" "/home/opam/.opam/default/lib/datakit-client-9p/datakit_client_9p.cmxa"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client-9p.dev/_build/install/default/lib/datakit-client-9p/datakit_client_9p.a" "/home/opam/.opam/default/lib/datakit-client-9p/datakit_client_9p.a"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client-9p.dev/_build/install/default/lib/datakit-client-9p/datakit_client_9p.cmxs" "/home/opam/.opam/default/lib/datakit-client-9p/datakit_client_9p.cmxs"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client-9p.dev/_build/install/default/doc/datakit-client-9p/README.md" "/home/opam/.opam/default/doc/datakit-client-9p/README.md"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client-9p.dev/_build/install/default/doc/datakit-client-9p/LICENSE.md" "/home/opam/.opam/default/doc/datakit-client-9p/LICENSE.md"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client-9p.dev/_build/install/default/doc/datakit-client-9p/CHANGES.md" "/home/opam/.opam/default/doc/datakit-client-9p/CHANGES.md"
-> installed datakit-client-9p.dev
Done.
# Run eval `opam env` to update the current shell environment
 ---> c7f2ae738226
Error removing intermediate container 8c596996940a: No such container: 8c596996940a8422c3a0d9b01ec5103077709bf89c0d771d7d2d63f2551eae51
Step 18/28 : RUN opam pin add git.dev --dev -n
 ---> Running in c356c0641096
[git.dev: git]
[git.dev: git]
[git.dev: git]
[git.dev: git]
[git.dev] synchronised from git+https://github.com/mirage/ocaml-git.git
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/git/git.opam from 1.2 to 2.0~beta
[0mgit is now pinned to git+https://github.com/mirage/ocaml-git.git (version dev)
 ---> 6c7aa85d5bee
Removing intermediate container 72c222aea62f
Error removing intermediate container c356c0641096: Driver aufs failed to remove root filesystem c356c0641096d9089b3e02e015b3f41bffbeab1c0d426862ae3f7644a7a4e067: rename /var/lib/docker/aufs/mnt/3862add29d741a6a193225d79a963448a741dba21fa0aa835c6068075847551c /var/lib/docker/aufs/mnt/3862add29d741a6a193225d79a963448a741dba21fa0aa835c6068075847551c-removing: device or resource busy
Step 19/28 : RUN opam pin add git-unix.dev --dev -n
 ---> Running in f75f483c41bf
[git-unix.dev: git]
[git-unix.dev: git]
[git-unix.dev: git]
[git-unix.dev: git]
[git-unix.dev] synchronised from git+https://github.com/mirage/ocaml-git.git
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/git-unix/git-unix.opam from 1.2 to 2.0~beta
[0mgit-unix is now pinned to git+https://github.com/mirage/ocaml-git.git (version dev)
 ---> 5836b8039d72
Error removing intermediate container 8c596996940a: No such container: 8c596996940a8422c3a0d9b01ec5103077709bf89c0d771d7d2d63f2551eae51
Step 20/28 : RUN opam pin add irmin.dev --dev -n
 ---> Running in 863231d77cd1
[irmin.dev: git]
[irmin.dev: git]
[irmin.dev: git]
[irmin.dev: git]
[irmin.dev] synchronised from git+https://github.com/mirage/irmin.git
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/irmin/irmin.opam from 1.2 to 2.0~beta
[0mirmin is now pinned to git+https://github.com/mirage/irmin.git (version dev)
 ---> 967bc5aa1e00
Removing intermediate container f45d62705332
Removing intermediate container f75f483c41bf
Error removing intermediate container c356c0641096: No such container: c356c0641096d9089b3e02e015b3f41bffbeab1c0d426862ae3f7644a7a4e067
Step 21/28 : RUN opam pin add irmin-git.dev --dev -n
 ---> Running in b5d9667550d2
[irmin-git.dev: git]
[irmin-git.dev: git]
[irmin-git.dev: git]
[irmin-git.dev: git]
[irmin-git.dev] synchronised from git+https://github.com/mirage/irmin.git
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/irmin-git/irmin-git.opam from 1.2 to 2.0~beta
[0mirmin-git is now pinned to git+https://github.com/mirage/irmin.git (version dev)
 ---> def808f43522
Error removing intermediate container 8c596996940a: No such container: 8c596996940a8422c3a0d9b01ec5103077709bf89c0d771d7d2d63f2551eae51
Step 22/28 : RUN opam pin add irmin-mem.dev https://github.com/mirage/irmin.git -n
 ---> Running in e10409043e54
Package irmin-mem does not exist, create as a NEW package ? [Y/n] y
[irmin-mem.dev: git]
[irmin-mem.dev: git]
[irmin-mem.dev: git]
[irmin-mem.dev: git]
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/irmin-mem/irmin-mem.opam from 1.2 to 2.0~beta
[0m[irmin-mem.dev] synchronised from git+https://github.com/mirage/irmin.git
irmin-mem is now pinned to git+https://github.com/mirage/irmin.git (version dev)
 ---> 162aa20ecd8a
Removing intermediate container e10409043e54
Error removing intermediate container c356c0641096: No such container: c356c0641096d9089b3e02e015b3f41bffbeab1c0d426862ae3f7644a7a4e067
Step 23/28 : RUN opam pin add datakit-client-git.dev /home/opam/src/datakit -n
 ---> Running in f17e6364fbe1
Package datakit-client-git does not exist, create as a NEW package ? [Y/n] y
[datakit-client-git.dev: git]
[datakit-client-git.dev: git]
[datakit-client-git.dev: git]
[datakit-client-git.dev: git]
[datakit-client-git.dev] synchronised from git+file:///home/opam/src/datakit#master
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit-client-git/datakit-client-git.opam from 1.2 to 2.0~beta
[0mdatakit-client-git is now pinned to git+file:///home/opam/src/datakit#master (version dev)
 ---> f21a69518b92
Error removing intermediate container 8c596996940a: No such container: 8c596996940a8422c3a0d9b01ec5103077709bf89c0d771d7d2d63f2551eae51
Step 24/28 : RUN opam install irmin-watcher inotify
 ---> Running in e864a99b1e40
The following actions will be performed:
  - install inotify       2.3
  - install irmin-watcher 0.2.0
===== 2 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[inotify.2.3] downloaded from https://github.com/whitequark/ocaml-inotify/archive/v2.3.tar.gz
[irmin-watcher.0.2.0] downloaded from https://github.com/samoht/irmin-watcher/releases/download/0.2.0/irmin-watcher-0.2.0.tbz

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> installed inotify.2.3
-> installed irmin-watcher.0.2.0
Done.
# Run eval `opam env` to update the current shell environment
 ---> 303587d4f8f3
Error removing intermediate container 8c596996940a: No such container: 8c596996940a8422c3a0d9b01ec5103077709bf89c0d771d7d2d63f2551eae51
Step 25/28 : RUN opam depext datakit-client-git camlzip && opam install datakit-client-git --deps
 ---> Running in 588472c689c6
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - gmp-dev
#  - linux-headers
#  - m4
#  - ncurses-dev
#  - openssl-dev
#  - pcre-dev
#  - perl
#  - pkgconfig
#  - zlib-dev
m4
ncurses-dev
pcre-dev
pkgconf
# The following new OS packages need to be installed: gmp-dev linux-headers openssl-dev perl zlib-dev
The following command needs to be run through "sudo":
    apk add gmp-dev linux-headers openssl-dev perl zlib-dev
(1/8) Installing libgmpxx (6.1.1-r0)
(2/8) Installing gmp-dev (6.1.1-r0)
(3/8) Installing linux-headers (4.4.6-r1)
(4/8) Installing zlib-dev (1.2.8-r2)
(5/8) Installing libcrypto1.0 (1.0.2k-r0)
(6/8) Installing libssl1.0 (1.0.2k-r0)
(7/8) Installing openssl-dev (1.0.2k-r0)
(8/8) Installing perl (5.24.0-r0)
Executing busybox-1.25.1-r0.trigger
OK: 640 MiB in 103 packages
# OS packages installation successful

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[91m[NOTE] Ignoring uncommitted changes in /home/opam/src/datakit (`--working-dir' not active).
[0m[datakit-client-git.dev] no changes from git+file:///home/opam/src/datakit#master

The following actions will be performed:
  - install decompress      0.6
  - install re              1.7.1
  - install fieldslib       v0.9.0
  - install conf-gmp        1
  - install mtime           1.0.0
  - install mirage-no-xen   1
  - install base64          2.1.2
  - install cpuid           0.1.1
  - install mirage-no-solo5 1
  - install ipaddr          2.7.2
  - install stringext       1.4.3
  - install ocamlgraph      1.8.7
  - install conf-perl       1
  - install magic-mime      1.0.0
  - install hex             1.0.0
  - install mstruct         1.3.2
  - install uutf            1.0.1
  - install ppx_fields_conv v0.9.0
  - install uri             1.9.2
  - install zarith          1.4.1
  - install jsonm           1.0.1
  - install git             dev*
  - install conduit         0.15.3
  - install nocrypto        0.5.4
  - install irmin           dev*
  - install cohttp          0.22.0
  - install irmin-git       dev*
  - install git-http        1.10.0
  - install git-unix        dev*
===== 29 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[base64.2.1.2] downloaded from https://github.com/mirage/ocaml-base64/releases/download/v2.1.2/base64-2.1.2.tbz
[conduit.0.15.3] downloaded from https://github.com/mirage/ocaml-conduit/archive/v0.15.3.tar.gz
[cohttp.0.22.0] downloaded from https://github.com/mirage/ocaml-cohttp/archive/v0.22.0.tar.gz
[fieldslib.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/fieldslib-v0.9.0.tar.gz
[cpuid.0.1.1] downloaded from https://github.com/pqwy/cpuid/releases/download/v0.1.1/cpuid-0.1.1.tbz
[decompress.0.6] downloaded from https://github.com/mirage/decompress/releases/download/v0.6/decompress-0.6.tbz
[git.dev] synchronised from git+https://github.com/mirage/ocaml-git.git
[git-unix.dev] synchronised from git+https://github.com/mirage/ocaml-git.git
[git-http.1.10.0] downloaded from https://github.com/mirage/ocaml-git/releases/download/1.10.0/git-1.10.0.tbz
[hex.1.0.0] downloaded from https://github.com/mirage/ocaml-hex/archive/1.0.0.tar.gz
[ipaddr.2.7.2] downloaded from https://github.com/mirage/ocaml-ipaddr/releases/download/2.7.2/ipaddr-2.7.2.tbz
[jsonm.1.0.1] downloaded from http://erratique.ch/software/jsonm/releases/jsonm-1.0.1.tbz
[irmin.dev] synchronised from git+https://github.com/mirage/irmin.git
[magic-mime.1.0.0] downloaded from https://github.com/mirage/ocaml-magic-mime/archive/v1.0.0.tar.gz
[irmin-git.dev] synchronised from git+https://github.com/mirage/irmin.git
[mtime.1.0.0] downloaded from http://erratique.ch/software/mtime/releases/mtime-1.0.0.tbz
[ocamlgraph.1.8.7] downloaded from http://ocamlgraph.lri.fr/download/ocamlgraph-1.8.7.tar.gz
[ppx_fields_conv.v0.9.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_fields_conv-v0.9.0.tar.gz
[mstruct.1.3.2] downloaded from https://github.com/mirage/ocaml-mstruct/archive/1.3.2.tar.gz
[stringext.1.4.3] downloaded from https://github.com/rgrinberg/stringext/archive/v1.4.3.tar.gz
[re.1.7.1] downloaded from https://github.com/ocaml/ocaml-re/archive/1.7.1.tar.gz
[uutf.1.0.1] downloaded from http://erratique.ch/software/uutf/releases/uutf-1.0.1.tbz
[zarith.1.4.1] downloaded from https://forge.ocamlcore.org/frs/download.php/1574/zarith-1.4.1.tgz
[uri.1.9.2] downloaded from https://github.com/mirage/ocaml-uri/archive/v1.9.2.tar.gz
[nocrypto.0.5.4] downloaded from https://github.com/mirleft/ocaml-nocrypto/releases/download/v0.5.4/nocrypto-0.5.4.tbz

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> installed base64.2.1.2
-> installed conf-gmp.1
-> installed conf-perl.1
-> installed cpuid.0.1.1
-> installed decompress.0.6
-> installed fieldslib.v0.9.0
-> installed hex.1.0.0
-> installed ipaddr.2.7.2
-> installed magic-mime.1.0.0
-> installed mirage-no-solo5.1
-> installed mirage-no-xen.1
-> installed mstruct.1.3.2
-> installed mtime.1.0.0
-> installed ocamlgraph.1.8.7
-> installed ppx_fields_conv.v0.9.0
-> installed re.1.7.1
-> installed stringext.1.4.3
-> installed uri.1.9.2
-> installed conduit.0.15.3
-> installed cohttp.0.22.0
-> installed git.dev
-> installed git-http.1.10.0
-> installed uutf.1.0.1
-> installed jsonm.1.0.1
-> installed irmin.dev
-> installed irmin-git.dev
-> installed zarith.1.4.1
-> installed nocrypto.0.5.4
-> installed git-unix.dev
Done.
# Run eval `opam env` to update the current shell environment
 ---> 63d1eab50458
Removing intermediate container 588472c689c6
Error removing intermediate container 8c596996940a: No such container: 8c596996940a8422c3a0d9b01ec5103077709bf89c0d771d7d2d63f2551eae51
Step 26/28 : RUN opam install datakit-client-git -t -vv
 ---> Running in af9373a0c22d

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/1:
+ git "symbolic-ref" "--quiet" "--short" "HEAD" (CWD=/home/opam/src/datakit)
- master
+ git "diff" "--quiet" (CWD=/home/opam/src/datakit)
[91m[NOTE] Ignoring uncommitted changes in /home/opam/src/datakit (`--working-dir' not active).
[0mProcessing  1/1: [datakit-client-git.dev: git]
+ git "fetch" "-q" "file:///home/opam/src/datakit" "--update-shallow" "+master:refs/remotes/opam-ref-master" (CWD=/home/opam/.opam/default/.opam-switch/sources/datakit-client-git)
+ git "diff" "--quiet" "refs/remotes/opam-ref-master" "--" (CWD=/home/opam/.opam/default/.opam-switch/sources/datakit-client-git)
[datakit-client-git.dev] no changes from git+file:///home/opam/src/datakit#master

+ uname "-m"
- x86_64
+ ocamlc "-vnum"
- 4.04.0
The following actions will be performed:
  - install datakit-client-git dev*
+ git "init" (CWD=/home/opam/.opam/default/.opam-switch/sources/datakit-client-git)
- Initialized empty Git repository in /home/opam/.opam/default/.opam-switch/sources/datakit-client-git/.git/
+ git "config" "--local" "fetch.prune" "false" (CWD=/home/opam/.opam/default/.opam-switch/sources/datakit-client-git)
+ git "fetch" "-q" "file:///home/opam/src/datakit" "--update-shallow" "+master:refs/remotes/opam-ref-master" (CWD=/home/opam/.opam/default/.opam-switch/sources/datakit-client-git)
+ git "reset" "--hard" "refs/remotes/opam-ref-master" "--" (CWD=/home/opam/.opam/default/.opam-switch/sources/datakit-client-git)
- HEAD is now at b234ba8 datakit-client-git need datakit depexts
[datakit-client-git.dev] synchronised from git+file:///home/opam/src/datakit#master

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/2: [datakit-client-git: jbuilder build]
+ jbuilder "build" "-p" "datakit-client-git" "-j" "1" (CWD=/home/opam/.opam/default/.opam-switch/build/datakit-client-git.dev)
-     ocamldep api/ocaml/git/datakit_client_git.depends.ocamldep-output
-     ocamldep api/ocaml/git/datakit_client_git.dependsi.ocamldep-output
-       ocamlc api/ocaml/git/datakit_client_git.{cmi,cmti}
-       ocamlc api/ocaml/git/datakit_client_git.{cmo,cmt}
-     ocamlopt api/ocaml/git/datakit_client_git.{cmx,o}
-       ocamlc api/ocaml/git/datakit_client_git.cma
-     ocamlopt api/ocaml/git/datakit_client_git.{a,cmxa}
-     ocamlopt api/ocaml/git/datakit_client_git.cmxs
-> compiled  datakit-client-git.dev
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client-git.dev/_build/install/default/lib/datakit-client-git/META" "/home/opam/.opam/default/lib/datakit-client-git/META"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client-git.dev/_build/install/default/lib/datakit-client-git/opam" "/home/opam/.opam/default/lib/datakit-client-git/opam"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client-git.dev/_build/install/default/lib/datakit-client-git/datakit_client_git.cmi" "/home/opam/.opam/default/lib/datakit-client-git/datakit_client_git.cmi"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client-git.dev/_build/install/default/lib/datakit-client-git/datakit_client_git.cmx" "/home/opam/.opam/default/lib/datakit-client-git/datakit_client_git.cmx"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client-git.dev/_build/install/default/lib/datakit-client-git/datakit_client_git.cmt" "/home/opam/.opam/default/lib/datakit-client-git/datakit_client_git.cmt"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client-git.dev/_build/install/default/lib/datakit-client-git/datakit_client_git.cmti" "/home/opam/.opam/default/lib/datakit-client-git/datakit_client_git.cmti"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client-git.dev/_build/install/default/lib/datakit-client-git/datakit_client_git.mli" "/home/opam/.opam/default/lib/datakit-client-git/datakit_client_git.mli"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client-git.dev/_build/install/default/lib/datakit-client-git/datakit_client_git.cma" "/home/opam/.opam/default/lib/datakit-client-git/datakit_client_git.cma"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client-git.dev/_build/install/default/lib/datakit-client-git/datakit_client_git.cmxa" "/home/opam/.opam/default/lib/datakit-client-git/datakit_client_git.cmxa"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client-git.dev/_build/install/default/lib/datakit-client-git/datakit_client_git.a" "/home/opam/.opam/default/lib/datakit-client-git/datakit_client_git.a"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client-git.dev/_build/install/default/lib/datakit-client-git/datakit_client_git.cmxs" "/home/opam/.opam/default/lib/datakit-client-git/datakit_client_git.cmxs"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client-git.dev/_build/install/default/doc/datakit-client-git/README.md" "/home/opam/.opam/default/doc/datakit-client-git/README.md"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client-git.dev/_build/install/default/doc/datakit-client-git/LICENSE.md" "/home/opam/.opam/default/doc/datakit-client-git/LICENSE.md"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-client-git.dev/_build/install/default/doc/datakit-client-git/CHANGES.md" "/home/opam/.opam/default/doc/datakit-client-git/CHANGES.md"
-> installed datakit-client-git.dev
Done.
# Run eval `opam env` to update the current shell environment
 ---> 2362385b28e5
Error removing intermediate container 8c596996940a: No such container: 8c596996940a8422c3a0d9b01ec5103077709bf89c0d771d7d2d63f2551eae51
Step 27/28 : RUN sudo mkdir /data && sudo chown opam.nogroup /data && chmod 700 /data &&     sudo cp $(opam config exec -- which datakit-mount) /usr/bin/datakit-mount
 ---> Running in eb17e3870ae1
 ---> b7a420ceb56e
Error removing intermediate container c356c0641096: No such container: c356c0641096d9089b3e02e015b3f41bffbeab1c0d426862ae3f7644a7a4e067
Step 28/28 : CMD bash -c "/usr/bin/datakit-mount -h $(getent hosts datakit | awk '{print $1}')";     bash
 ---> Running in 6a9f722d380a
 ---> 5c4f181a814c
Removing intermediate container b5d9667550d2
Removing intermediate container f17e6364fbe1
Error removing intermediate container c356c0641096: No such container: c356c0641096d9089b3e02e015b3f41bffbeab1c0d426862ae3f7644a7a4e067
Successfully built 5c4f181a814c
[2017-05-18 15:28.56] Success
