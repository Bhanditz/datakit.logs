=== Docker build Dockerfile.github
[2017-02-01 11:17.37] Starting...
Cloning into '/tmp/with_clone3788b19c'...
done.
HEAD is now at 38aae50 Add ANSI escape sequence parser for coloured logs
[2017-02-01 11:17.39] Rewrite Dockerfile's first line to:
FROM sha256:e41a93af20028d5edeebefe83fb8feea2e4e0f1860e6c55dd336cec84aba1132
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 6.089 MB
Step 1/17 : FROM sha256:e41a93af20028d5edeebefe83fb8feea2e4e0f1860e6c55dd336cec84aba1132
 ---> e41a93af2002
Step 2/17 : COPY datakit-github.opam /home/opam/src/datakit/datakit-github.opam
 ---> Using cache
 ---> 4927d3305d6c
Step 3/17 : RUN opam pin add github --dev -n
 ---> Using cache
 ---> 392670736d45
Step 4/17 : RUN opam pin add datakit-client.dev /home/opam/src/datakit -n
 ---> Using cache
 ---> 08026c858678
Step 5/17 : RUN opam pin add datakit-github.dev /home/opam/src/datakit -n
 ---> Using cache
 ---> af22f58a4561
Step 6/17 : RUN opam depext datakit-github && opam install datakit-github --deps
 ---> Running in 5cb7ec925af9
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - gmp-dev
#  - linux-headers
#  - m4
#  - ncurses-dev
#  - openssl-dev
#  - pcre-dev
#  - perl
#  - pkgconfig
m4
ncurses-dev
pcre-dev
perl
pkgconf
# The following new OS packages need to be installed: gmp-dev linux-headers openssl-dev
The following command needs to be run through "sudo":
    apk add gmp-dev linux-headers openssl-dev
(1/7) Installing libgmpxx (6.1.1-r0)
(2/7) Installing gmp-dev (6.1.1-r0)
(3/7) Installing linux-headers (4.4.6-r1)
(4/7) Installing zlib-dev (1.2.8-r2)
(5/7) Installing libcrypto1.0 (1.0.2k-r0)
(6/7) Installing libssl1.0 (1.0.2k-r0)
(7/7) Installing openssl-dev (1.0.2k-r0)
OK: 659 MiB in 106 packages
# OS packages installation successful

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/1: [datakit-github: git]
[datakit-github] git+file:///home/opam/src/datakit changed
The following actions will be performed:
  - install menhir           20170101      
  - install conf-gmp         1             
  - install mirage-no-xen    1             
  - install datakit-client   dev*          
  - install mtime            0.8.3         
  - install conf-perl        1             
  - install ocamlmod         0.0.8         
  - install easy-format      1.2.0         
  - install asl              0.10          
  - install win-eventlog     0.1           
  - install asetmap          0.8.1         
  - install base64           2.1.2         
  - install mirage-flow      1.1.0         
  - install ocamlify         0.0.1         
  - install conf-which       1             
  - install fieldslib        113.24.00     
  - install magic-mime       1.0.0         
  - install hex              1.0.0         
  - install duration         0.1.0         
  - install zarith           1.4.1         
  - install atd              1.2.0         
  - install prometheus       dev*          
  - install oasis            0.4.8         
  - install biniou           1.0.12        
  - install ppx_fields_conv  113.33.00+4.03
  - install hvsock           0.11.1        
  - install asn1-combinators 0.1.3         
  - install nocrypto         0.5.3         
  - install yojson           1.3.3         
  - install x509             0.5.3         
  - install atdgen           1.10.0        
  - install tls              0.7.1         
  - install conduit          0.14.5        
  - install cohttp           0.21.0        
  - install prometheus-app   dev*          
  - install github           2.2.0*        
  - install github-hooks     0.1.1         
===== 37 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/37: [asetmap: http]
Processing  2/37: [asetmap: http] [asl: http]
Processing  3/37: [asetmap: http] [asl: http] [asn1-combinators: http]
[asetmap.0.8.1] http://erratique.ch/software/asetmap/releases/asetmap-0.8.1.tbz downloaded
Processing  3/37: [asl: http] [asn1-combinators: http]
Processing  4/37: [asl: http] [asn1-combinators: http] [atd: http]
[asn1-combinators.0.1.3] https://github.com/mirleft/ocaml-asn1-combinators/releases/download/v0.1.3/asn1-combinators-0.1.3.tbz downloaded
Processing  4/37: [asl: http] [atd: http]
Processing  5/37: [asl: http] [atd: http] [atdgen: http]
[asl.0.10] https://github.com/mirage/ocaml-asl/archive/v0.10.tar.gz downloaded
Processing  5/37: [atd: http] [atdgen: http]
Processing  6/37: [atd: http] [atdgen: http] [base64: http]
[atd.1.2.0] https://github.com/mjambon/atd/archive/v1.2.0.tar.gz downloaded
Processing  6/37: [atdgen: http] [base64: http]
Processing  7/37: [atdgen: http] [base64: http] [biniou: http]
[base64.2.1.2] https://github.com/mirage/ocaml-base64/releases/download/v2.1.2/base64-2.1.2.tbz downloaded
Processing  7/37: [atdgen: http] [biniou: http]
Processing  8/37: [atdgen: http] [biniou: http] [cohttp: http]
[atdgen.1.10.0] https://github.com/mjambon/atdgen/archive/v1.10.0.tar.gz downloaded
Processing  8/37: [biniou: http] [cohttp: http]
Processing  9/37: [biniou: http] [cohttp: http] [conduit: http]
[biniou.1.0.12] https://github.com/mjambon/biniou/archive/v1.0.12.tar.gz downloaded
Processing  9/37: [cohttp: http] [conduit: http]
Processing 10/37: [cohttp: http] [conduit: http]
Processing 11/37: [cohttp: http] [conduit: http]
Processing 12/37: [cohttp: http] [conduit: http]
Processing 13/37: [cohttp: http] [conduit: http] [datakit-client: git]
[datakit-client] git+file:///home/opam/src/datakit changed
Processing 13/37: [cohttp: http] [conduit: http]
Processing 14/37: [cohttp: http] [conduit: http] [duration: http]
[conduit.0.14.5] https://github.com/mirage/ocaml-conduit/archive/v0.14.5.tar.gz downloaded
Processing 14/37: [cohttp: http] [duration: http]
Processing 15/37: [cohttp: http] [duration: http] [easy-format: http]
[cohttp.0.21.0] https://github.com/mirage/ocaml-cohttp/archive/v0.21.0.tar.gz downloaded
Processing 15/37: [duration: http] [easy-format: http]
Processing 16/37: [duration: http] [easy-format: http] [fieldslib: http]
[fieldslib.113.24.00] https://ocaml.janestreet.com/ocaml-core/113.24/files/fieldslib-113.24.00.tar.gz downloaded
Processing 16/37: [duration: http] [easy-format: http]
Processing 17/37: [duration: http] [easy-format: http] [github: git]
[duration.0.1.0] https://github.com/hannesm/duration/releases/download/0.1.0/duration-0.1.0.tbz downloaded
Processing 17/37: [easy-format: http] [github: git]
Processing 18/37: [easy-format: http] [github: git] [github-hooks: http]
[easy-format.1.2.0] https://github.com/mjambon/easy-format/archive/v1.2.0.tar.gz downloaded
Processing 18/37: [github: git] [github-hooks: http]
Processing 19/37: [github: git] [github-hooks: http] [hex: http]
[github] git+https://github.com/mirage/ocaml-github.git already up-to-date
Processing 19/37: [github-hooks: http] [hex: http]
Processing 20/37: [github-hooks: http] [hex: http] [hvsock: http]
[github-hooks.0.1.1] https://github.com/dsheets/ocaml-github-hooks/releases/download/0.1.1/github-hooks-0.1.1.tbz downloaded
Processing 20/37: [hex: http] [hvsock: http]
Processing 21/37: [hex: http] [hvsock: http] [magic-mime: http]
[hex.1.0.0] https://github.com/mirage/ocaml-hex/archive/1.0.0.tar.gz downloaded
Processing 21/37: [hvsock: http] [magic-mime: http]
Processing 22/37: [hvsock: http] [magic-mime: http] [menhir: http]
[hvsock.0.11.1] https://github.com/mirage/ocaml-hvsock/archive/v0.11.1.tar.gz downloaded
Processing 22/37: [magic-mime: http] [menhir: http]
Processing 23/37: [magic-mime: http] [menhir: http] [mirage-flow: http]
[menhir.20170101] http://gallium.inria.fr/~fpottier/menhir/menhir-20170101.tar.gz downloaded
Processing 23/37: [magic-mime: http] [mirage-flow: http]
Processing 24/37: [magic-mime: http] [mirage-flow: http]
Processing 25/37: [magic-mime: http] [mirage-flow: http] [mtime: http]
[mtime.0.8.3] http://erratique.ch/software/mtime/releases/mtime-0.8.3.tbz downloaded
Processing 25/37: [magic-mime: http] [mirage-flow: http]
Processing 26/37: [magic-mime: http] [mirage-flow: http] [nocrypto: http]
[magic-mime.1.0.0] https://github.com/mirage/ocaml-magic-mime/archive/v1.0.0.tar.gz downloaded
Processing 26/37: [mirage-flow: http] [nocrypto: http]
Processing 27/37: [mirage-flow: http] [nocrypto: http] [oasis: http]
[oasis.0.4.8] https://forge.ocamlcore.org/frs/download.php/1669/oasis-0.4.8.tar.gz downloaded
Processing 27/37: [mirage-flow: http] [nocrypto: http]
Processing 28/37: [mirage-flow: http] [nocrypto: http] [ocamlify: http]
[ocamlify.0.0.1] http://forge.ocamlcore.org/frs/download.php/379/ocamlify-0.0.1.tar.gz downloaded
Processing 28/37: [mirage-flow: http] [nocrypto: http]
Processing 29/37: [mirage-flow: http] [nocrypto: http] [ocamlmod: http]
[mirage-flow.1.1.0] https://github.com/mirage/mirage-flow/archive/v1.1.0.tar.gz downloaded
Processing 29/37: [nocrypto: http] [ocamlmod: http]
Processing 30/37: [nocrypto: http] [ocamlmod: http] [ppx_fields_conv: http]
[ocamlmod.0.0.8] https://forge.ocamlcore.org/frs/download.php/1544/ocamlmod-0.0.8.tar.gz downloaded
Processing 30/37: [nocrypto: http] [ppx_fields_conv: http]
Processing 31/37: [nocrypto: http] [ppx_fields_conv: http] [prometheus: rsync]
[prometheus.dev] file:///home/opam/src/datakit/ synchronized
Processing 31/37: [nocrypto: http] [ppx_fields_conv: http]
Processing 32/37: [nocrypto: http] [ppx_fields_conv: http] [prometheus-app: rsync]
[prometheus-app.dev] file:///home/opam/src/datakit/ synchronized
Processing 32/37: [nocrypto: http] [ppx_fields_conv: http]
Processing 33/37: [nocrypto: http] [ppx_fields_conv: http] [tls: http]
[ppx_fields_conv.113.33.00+4.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_fields_conv-113.33.00+4.03.tar.gz downloaded
Processing 33/37: [nocrypto: http] [tls: http]
Processing 34/37: [nocrypto: http] [tls: http] [win-eventlog: http]
[nocrypto.0.5.3] https://github.com/mirleft/ocaml-nocrypto/archive/v0.5.3.tar.gz downloaded
Processing 34/37: [tls: http] [win-eventlog: http]
Processing 35/37: [tls: http] [win-eventlog: http] [x509: http]
[win-eventlog.0.1] https://github.com/djs55/ocaml-win-eventlog/archive/v0.1.tar.gz downloaded
Processing 35/37: [tls: http] [x509: http]
Processing 36/37: [tls: http] [x509: http] [yojson: http]
[tls.0.7.1] https://github.com/mirleft/ocaml-tls/archive/0.7.1.tar.gz downloaded
Processing 36/37: [x509: http] [yojson: http]
Processing 37/37: [x509: http] [yojson: http] [zarith: http]
[x509.0.5.3] https://github.com/mirleft/ocaml-x509/archive/0.5.3.tar.gz downloaded
Processing 37/37: [yojson: http] [zarith: http]
[zarith.1.4.1] https://forge.ocamlcore.org/frs/download.php/1574/zarith-1.4.1.tgz downloaded
Processing 37/37: [yojson: http]
[yojson.1.3.3] https://github.com/mjambon/yojson/archive/v1.3.3.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/74:
Processing  2/74:
Processing  3/74:
Processing  4/74: [conf-gmp: sh]
Processing  5/74: [conf-gmp: sh] [conf-perl: perl]
Processing  6/74: [conf-gmp: sh] [conf-perl: perl] [conf-which: which which]
Processing  7/74: [conf-gmp: sh] [conf-perl: perl] [conf-which: which which] [datakit-client: ocaml build]
Processing  8/74: [conf-gmp: sh] [conf-perl: perl] [conf-which: which which] [datakit-client: ocaml build]
Processing  9/74: [conf-gmp: sh] [conf-perl: perl] [conf-which: which which] [datakit-client: ocaml build]
Processing 10/74: [conf-gmp: sh] [conf-perl: perl] [conf-which: which which] [datakit-client: ocaml build]
Processing 11/74: [conf-gmp: sh] [conf-perl: perl] [conf-which: which which] [datakit-client: ocaml build]
Processing 12/74: [conf-gmp: sh] [conf-perl: perl] [conf-which: which which] [datakit-client: ocaml build]
Processing 13/74: [conf-gmp: sh] [conf-perl: perl] [conf-which: which which] [datakit-client: ocaml build]
Processing 14/74: [conf-gmp: sh] [conf-perl: perl] [conf-which: which which] [datakit-client: ocaml build]
Processing 15/74: [conf-gmp: sh] [conf-perl: perl] [conf-which: which which] [datakit-client: ocaml build]
Processing 16/74: [conf-gmp: sh] [conf-perl: perl] [conf-which: which which] [datakit-client: ocaml build]
Processing 16/74: [asetmap: ocaml build] [conf-gmp: sh] [conf-perl: perl] [conf-which: which which] [datakit-client: ocaml build]
Processing 16/74: [asetmap: ocaml build] [asl: make] [conf-gmp: sh] [conf-perl: perl] [conf-which: which which] [datakit-client: ocaml build]
Processing 16/74: [asetmap: ocaml build] [asl: make] [base64: ocaml build] [conf-gmp: sh] [conf-perl: perl] [conf-which: which which] [datakit-client: ocaml build]
Processing 16/74: [asetmap: ocaml build] [asl: make] [base64: ocaml build] [conf-perl: perl] [conf-which: which which] [datakit-client: ocaml build]
Processing 17/74: [asetmap: ocaml build] [asl: make] [base64: ocaml build] [conf-perl: perl] [conf-which: which which] [datakit-client: ocaml build]
Processing 17/74: [asetmap: ocaml build] [asl: make] [base64: ocaml build] [conf-which: which which] [datakit-client: ocaml build]
Processing 18/74: [asetmap: ocaml build] [asl: make] [base64: ocaml build] [conf-which: which which] [datakit-client: ocaml build]
Processing 18/74: [asetmap: ocaml build] [asl: make] [base64: ocaml build] [datakit-client: ocaml build]
Processing 19/74: [asetmap: ocaml build] [asl: make] [base64: ocaml build] [datakit-client: ocaml build]
Processing 19/74: [asetmap: ocaml build] [asl: make] [base64: ocaml build] [datakit-client: ocaml build] [duration: ocaml build]
Processing 19/74: [asetmap: ocaml build] [asl: make] [base64: ocaml build] [datakit-client: ocaml build] [duration: ocaml build] [easy-format: make]
Processing 19/74: [asetmap: ocaml build] [asl: make] [base64: ocaml build] [datakit-client: ocaml build] [duration: ocaml build] [easy-format: make] [fieldslib: ./configure]
Processing 19/74: [asetmap: ocaml build] [asl: make] [base64: ocaml build] [datakit-client: ocaml build] [duration: ocaml build] [easy-format: make] [fieldslib: ./configure] [hex: ./configure]
Processing 19/74: [asetmap: ocaml build] [asl: make] [base64: ocaml build] [datakit-client: ocaml build] [duration: ocaml build] [easy-format: make] [fieldslib: ./configure] [hex: ./configure] [magic-mime: ./configure]
Processing 19/74: [asetmap: ocaml build] [asl: make] [base64: ocaml build] [datakit-client: ocaml build] [duration: ocaml build] [easy-format: make] [fieldslib: ./configure] [hex: ./configure] [magic-mime: ./configure] [menhir: make Makefile]
Processing 19/74: [asetmap: ocaml build] [asl: make] [base64: ocaml build] [datakit-client: ocaml build] [duration: ocaml build] [easy-format: make] [fieldslib: ./configure] [hex: ./configure] [magic-mime: ./configure] [menhir: make Makefile] [mirage-flow: ./configure]
Processing 19/74: [asetmap: ocaml build] [asl: make] [base64: ocaml build] [datakit-client: ocaml build] [duration: ocaml build] [easy-format: make] [fieldslib: ./configure] [hex: ./configure] [magic-mime: ./configure] [menhir: make Makefile] [mirage-flow: ./configure] [mtime: ocaml]
Processing 19/74: [asetmap: ocaml build] [asl: make] [base64: ocaml build] [datakit-client: ocaml build] [duration: ocaml build] [easy-format: make] [fieldslib: ./configure] [hex: ./configure] [magic-mime: ./configure] [menhir: make Makefile] [mirage-flow: ./configure] [mtime: ocaml] [ocamlify: ocaml setup.ml]
Processing 19/74: [asetmap: ocaml build] [asl: make] [base64: ocaml build] [datakit-client: ocaml build] [duration: ocaml build] [easy-format: make] [fieldslib: ./configure] [hex: ./configure] [magic-mime: ./configure] [menhir: make Makefile] [mirage-flow: ./configure] [mtime: ocaml] [ocamlify: ocaml setup.ml] [ocamlmod: ocaml setup.ml]
Processing 19/74: [asetmap: ocaml build] [asl: make] [base64: ocaml build] [datakit-client: ocaml build] [duration: ocaml build] [easy-format: make] [fieldslib: ./configure] [hex: ./configure] [magic-mime: ./configure] [menhir: make Makefile] [mirage-flow: ./configure] [mtime: ocaml] [ocamlify: ocaml setup.ml] [ocamlmod: ocaml setup.ml] [win-eventlog: make]
Processing 19/74: [asetmap: ocaml build] [asl: make] [base64: ocaml build] [datakit-client: ocaml build] [duration: ocaml build] [easy-format: make] [fieldslib: ./configure] [hex: ./configure] [magic-mime: ./configure] [menhir: make Makefile] [mirage-flow: ./configure] [ocamlify: ocaml setup.ml] [ocamlmod: ocaml setup.ml] [win-eventlog: make]
-> installed conf-gmp.1
Processing 20/74: [asetmap: ocaml build] [asl: make] [base64: ocaml build] [datakit-client: ocaml build] [duration: ocaml build] [easy-format: make] [fieldslib: ./configure] [hex: ./configure] [magic-mime: ./configure] [menhir: make Makefile] [mirage-flow: ./configure] [ocamlify: ocaml setup.ml] [ocamlmod: ocaml setup.ml] [win-eventlog: make]
-> installed conf-perl.1
Processing 21/74: [asetmap: ocaml build] [asl: make] [base64: ocaml build] [datakit-client: ocaml build] [duration: ocaml build] [easy-format: make] [fieldslib: ./configure] [hex: ./configure] [magic-mime: ./configure] [menhir: make Makefile] [mirage-flow: ./configure] [ocamlify: ocaml setup.ml] [ocamlmod: ocaml setup.ml] [win-eventlog: make]
Processing 22/74: [asetmap: ocaml build] [asl: make] [base64: ocaml build] [datakit-client: ocaml build] [duration: ocaml build] [easy-format: make] [fieldslib: ./configure] [hex: ./configure] [magic-mime: ./configure] [menhir: make Makefile] [mirage-flow: ./configure] [ocamlify: ocaml setup.ml] [ocamlmod: ocaml setup.ml] [win-eventlog: make]
Processing 22/74: [asl: make] [base64: ocaml build] [datakit-client: ocaml build] [duration: ocaml build] [easy-format: make] [fieldslib: ./configure] [hex: ./configure] [magic-mime: ./configure] [menhir: make Makefile] [mirage-flow: ./configure] [ocamlify: ocaml setup.ml] [ocamlmod: ocaml setup.ml] [win-eventlog: make]
-> installed asetmap.0.8.1
Processing 23/74: [asl: make] [base64: ocaml build] [datakit-client: ocaml build] [duration: ocaml build] [easy-format: make] [fieldslib: ./configure] [hex: ./configure] [magic-mime: ./configure] [menhir: make Makefile] [mirage-flow: ./configure] [ocamlify: ocaml setup.ml] [ocamlmod: ocaml setup.ml] [win-eventlog: make]
Processing 24/74: [asl: make] [base64: ocaml build] [datakit-client: ocaml build] [duration: ocaml build] [easy-format: make] [fieldslib: ./configure] [hex: ./configure] [magic-mime: ./configure] [menhir: make Makefile] [mirage-flow: ./configure] [ocamlify: ocaml setup.ml] [ocamlmod: ocaml setup.ml] [prometheus: ocaml build] [win-eventlog: make]
Processing 24/74: [asl: make] [datakit-client: ocaml build] [duration: ocaml build] [easy-format: make] [fieldslib: ./configure] [hex: ./configure] [magic-mime: ./configure] [menhir: make Makefile] [mirage-flow: ./configure] [ocamlify: ocaml setup.ml] [ocamlmod: ocaml setup.ml] [prometheus: ocaml build] [win-eventlog: make]
-> installed base64.2.1.2
Processing 25/74: [asl: make] [datakit-client: ocaml build] [duration: ocaml build] [easy-format: make] [fieldslib: ./configure] [hex: ./configure] [magic-mime: ./configure] [menhir: make Makefile] [mirage-flow: ./configure] [ocamlify: ocaml setup.ml] [ocamlmod: ocaml setup.ml] [prometheus: ocaml build] [win-eventlog: make]
-> installed conf-which.1
Processing 26/74: [asl: make] [datakit-client: ocaml build] [duration: ocaml build] [easy-format: make] [fieldslib: ./configure] [hex: ./configure] [magic-mime: ./configure] [menhir: make Makefile] [mirage-flow: ./configure] [ocamlify: ocaml setup.ml] [ocamlmod: ocaml setup.ml] [prometheus: ocaml build] [win-eventlog: make]
-> installed mirage-no-xen.1
Processing 27/74: [asl: make] [datakit-client: ocaml build] [duration: ocaml build] [easy-format: make] [fieldslib: ./configure] [hex: ./configure] [magic-mime: ./configure] [menhir: make Makefile] [mirage-flow: ./configure] [ocamlify: ocaml setup.ml] [ocamlmod: ocaml setup.ml] [prometheus: ocaml build] [win-eventlog: make]
Processing 28/74: [asl: make] [datakit-client: ocaml build] [duration: ocaml build] [easy-format: make] [fieldslib: ./configure] [hex: ./configure] [magic-mime: ./configure] [menhir: make Makefile] [mirage-flow: ./configure] [ocamlify: ocaml setup.ml] [ocamlmod: ocaml setup.ml] [prometheus: ocaml build] [win-eventlog: make] [mtime: ocaml]
Processing 28/74: [asl: make] [duration: ocaml build] [easy-format: make] [fieldslib: ./configure] [hex: ./configure] [magic-mime: ./configure] [menhir: make Makefile] [mirage-flow: ./configure] [ocamlify: ocaml setup.ml] [ocamlmod: ocaml setup.ml] [prometheus: ocaml build] [win-eventlog: make] [mtime: ocaml]
Processing 28/74: [asl: make] [easy-format: make] [fieldslib: ./configure] [hex: ./configure] [magic-mime: ./configure] [menhir: make Makefile] [mirage-flow: ./configure] [ocamlify: ocaml setup.ml] [ocamlmod: ocaml setup.ml] [prometheus: ocaml build] [win-eventlog: make] [mtime: ocaml]
Processing 28/74: [asl: make] [fieldslib: ./configure] [hex: ./configure] [magic-mime: ./configure] [menhir: make Makefile] [mirage-flow: ./configure] [ocamlify: ocaml setup.ml] [ocamlmod: ocaml setup.ml] [prometheus: ocaml build] [win-eventlog: make] [mtime: ocaml]
Processing 28/74: [asl: make] [fieldslib: make] [hex: ./configure] [magic-mime: ./configure] [menhir: make Makefile] [mirage-flow: ./configure] [ocamlify: ocaml setup.ml] [ocamlmod: ocaml setup.ml] [prometheus: ocaml build] [win-eventlog: make] [mtime: ocaml]
Processing 28/74: [asl: make] [fieldslib: make] [hex: make] [magic-mime: ./configure] [menhir: make Makefile] [mirage-flow: ./configure] [ocamlify: ocaml setup.ml] [ocamlmod: ocaml setup.ml] [prometheus: ocaml build] [win-eventlog: make] [mtime: ocaml]
Processing 28/74: [asl: make] [fieldslib: make] [hex: make] [magic-mime: make] [menhir: make Makefile] [mirage-flow: ./configure] [ocamlify: ocaml setup.ml] [ocamlmod: ocaml setup.ml] [prometheus: ocaml build] [win-eventlog: make] [mtime: ocaml]
Processing 28/74: [asl: make] [fieldslib: make] [hex: make] [magic-mime: make] [menhir: make Makefile] [mirage-flow: make] [ocamlify: ocaml setup.ml] [ocamlmod: ocaml setup.ml] [prometheus: ocaml build] [win-eventlog: make] [mtime: ocaml]
Processing 28/74: [asl: make] [fieldslib: make] [hex: make] [magic-mime: make] [menhir: make Makefile] [mirage-flow: make] [ocamlify: ocaml setup.ml] [ocamlmod: ocaml setup.ml] [prometheus: ocaml build] [win-eventlog: make] [zarith: ./configure] [mtime: ocaml]
Processing 28/74: [asl: make] [fieldslib: make] [hex: make] [magic-mime: make] [menhir: make Makefile] [mirage-flow: make] [ocamlify: ocaml setup.ml] [ocamlmod: ocaml setup.ml] [win-eventlog: make] [zarith: ./configure] [mtime: ocaml]
Processing 28/74: [asl: make] [fieldslib: make] [hex: make] [magic-mime: make] [menhir: make Makefile] [mirage-flow: make] [ocamlify: ocaml setup.ml] [ocamlmod: ocaml setup.ml] [win-eventlog: make] [zarith: make] [mtime: ocaml]
-> installed mtime.0.8.3
Processing 28/74: [asl: make] [fieldslib: make] [hex: make] [magic-mime: make] [menhir: make Makefile] [mirage-flow: make] [ocamlify: ocaml setup.ml] [ocamlmod: ocaml setup.ml] [win-eventlog: make] [zarith: make]
-> installed datakit-client.dev
Processing 29/74: [asl: make] [fieldslib: make] [hex: make] [magic-mime: make] [menhir: make Makefile] [mirage-flow: make] [ocamlify: ocaml setup.ml] [ocamlmod: ocaml setup.ml] [win-eventlog: make] [zarith: make]
-> installed duration.0.1.0
Processing 30/74: [asl: make] [fieldslib: make] [hex: make] [magic-mime: make] [menhir: make Makefile] [mirage-flow: make] [ocamlify: ocaml setup.ml] [ocamlmod: ocaml setup.ml] [win-eventlog: make] [zarith: make]
Processing 31/74: [asl: make] [fieldslib: make] [hex: make] [magic-mime: make] [menhir: make Makefile] [mirage-flow: make] [ocamlify: ocaml setup.ml] [ocamlmod: ocaml setup.ml] [win-eventlog: make] [zarith: make] [easy-format: make install]
Processing 31/74: [fieldslib: make] [hex: make] [magic-mime: make] [menhir: make Makefile] [mirage-flow: make] [ocamlify: ocaml setup.ml] [ocamlmod: ocaml setup.ml] [win-eventlog: make] [zarith: make] [easy-format: make install]
Processing 31/74: [fieldslib: make] [hex: make] [magic-mime: make] [menhir: make Makefile] [mirage-flow: make] [ocamlify: ocaml setup.ml] [ocamlmod: ocaml setup.ml] [zarith: make] [easy-format: make install]
Processing 31/74: [hex: make] [magic-mime: make] [menhir: make Makefile] [mirage-flow: make] [ocamlify: ocaml setup.ml] [ocamlmod: ocaml setup.ml] [zarith: make] [easy-format: make install]
Processing 31/74: [magic-mime: make] [menhir: make Makefile] [mirage-flow: make] [ocamlify: ocaml setup.ml] [ocamlmod: ocaml setup.ml] [zarith: make] [easy-format: make install]
Processing 31/74: [menhir: make Makefile] [mirage-flow: make] [ocamlify: ocaml setup.ml] [ocamlmod: ocaml setup.ml] [zarith: make] [easy-format: make install]
Processing 31/74: [menhir: make Makefile] [mirage-flow: make] [ocamlmod: ocaml setup.ml] [zarith: make] [easy-format: make install]
Processing 31/74: [menhir: make Makefile] [mirage-flow: make] [zarith: make] [easy-format: make install]
-> installed easy-format.1.2.0
Processing 31/74: [menhir: make Makefile] [mirage-flow: make] [zarith: make]
Processing 32/74: [menhir: make Makefile] [mirage-flow: make] [zarith: make]
Processing 33/74: [menhir: make Makefile] [mirage-flow: make] [zarith: make] [asl: make install]
Processing 33/74: [biniou: make] [menhir: make Makefile] [mirage-flow: make] [zarith: make] [asl: make install]
Processing 33/74: [biniou: make] [menhir: make Makefile] [zarith: make] [asl: make install]
Processing 33/74: [biniou: make] [menhir: make Makefile] [asl: make install]
-> installed asl.0.10
Processing 33/74: [biniou: make] [menhir: make Makefile]
-> installed fieldslib.113.24.00
Processing 34/74: [biniou: make] [menhir: make Makefile]
Processing 35/74: [biniou: make] [menhir: make Makefile]
Processing 36/74: [biniou: make] [menhir: make Makefile] [hex: make install]
Processing 36/74: [biniou: make] [menhir: make Makefile] [ppx_fields_conv: ./configure] [hex: make install]
Processing 36/74: [menhir: make Makefile] [ppx_fields_conv: ./configure] [hex: make install]
-> installed hex.1.0.0
Processing 36/74: [menhir: make Makefile] [ppx_fields_conv: ./configure]
Processing 37/74: [menhir: make Makefile] [ppx_fields_conv: ./configure] [biniou: make install]
-> installed biniou.1.0.12
Processing 37/74: [menhir: make Makefile] [ppx_fields_conv: ./configure]
Processing 38/74: [menhir: make Makefile] [ppx_fields_conv: ./configure]
Processing 39/74: [menhir: make Makefile] [ppx_fields_conv: ./configure] [magic-mime: make install]
Processing 39/74: [menhir: make Makefile] [ppx_fields_conv: make] [magic-mime: make install]
Processing 39/74: [menhir: make Makefile] [ppx_fields_conv: make] [yojson: make] [magic-mime: make install]
-> installed magic-mime.1.0.0
Processing 39/74: [menhir: make Makefile] [ppx_fields_conv: make] [yojson: make]
Processing 40/74: [menhir: make Makefile] [ppx_fields_conv: make] [yojson: make] [mirage-flow: make install]
Processing 40/74: [menhir: make Makefile] [yojson: make] [mirage-flow: make install]
-> installed mirage-flow.1.1.0
Processing 40/74: [menhir: make Makefile] [yojson: make]
Processing 41/74: [menhir: make Makefile] [yojson: make]
Processing 42/74: [menhir: make Makefile] [yojson: make] [ocamlify: ocaml setup.ml]
Processing 42/74: [menhir: make Makefile] [ocamlify: ocaml setup.ml]
Processing 42/74: [hvsock: ocaml setup.ml] [menhir: make Makefile] [ocamlify: ocaml setup.ml]
-> installed ocamlify.0.0.1
Processing 42/74: [hvsock: ocaml setup.ml] [menhir: make Makefile]
Processing 43/74: [hvsock: ocaml setup.ml] [menhir: make Makefile] [ocamlmod: ocaml setup.ml]
-> installed ocamlmod.0.0.8
Processing 43/74: [hvsock: ocaml setup.ml] [menhir: make Makefile]
Processing 44/74: [hvsock: ocaml setup.ml] [menhir: make Makefile]
-> installed ppx_fields_conv.113.33.00+4.03
Processing 45/74: [hvsock: ocaml setup.ml] [menhir: make Makefile]
-> installed prometheus.dev
Processing 46/74: [hvsock: ocaml setup.ml] [menhir: make Makefile]
Processing 47/74: [hvsock: ocaml setup.ml] [menhir: make Makefile] [win-eventlog: make install]
Processing 47/74: [hvsock: ocaml setup.ml] [menhir: make Makefile] [oasis: ocaml setup.ml] [win-eventlog: make install]
Processing 47/74: [hvsock: make] [menhir: make Makefile] [oasis: ocaml setup.ml] [win-eventlog: make install]
-> installed win-eventlog.0.1
Processing 47/74: [hvsock: make] [menhir: make Makefile] [oasis: ocaml setup.ml]
Processing 48/74: [hvsock: make] [menhir: make Makefile] [oasis: ocaml setup.ml] [yojson: make install-lib]
-> installed yojson.1.3.3
Processing 48/74: [hvsock: make] [menhir: make Makefile] [oasis: ocaml setup.ml]
Processing 49/74: [hvsock: make] [menhir: make Makefile] [oasis: ocaml setup.ml] [zarith: make install]
-> installed zarith.1.4.1
Processing 49/74: [hvsock: make] [menhir: make Makefile] [oasis: ocaml setup.ml]
Processing 50/74: [hvsock: make] [menhir: make Makefile] [oasis: ocaml setup.ml]
Processing 50/74: [asn1-combinators: ocaml build] [hvsock: make] [menhir: make Makefile] [oasis: ocaml setup.ml]
Processing 50/74: [hvsock: make] [menhir: make Makefile] [oasis: ocaml setup.ml]
-> installed asn1-combinators.0.1.3
Processing 51/74: [hvsock: make] [menhir: make Makefile] [oasis: ocaml setup.ml]
Processing 51/74: [menhir: make Makefile] [oasis: ocaml setup.ml]
Processing 52/74: [menhir: make Makefile] [oasis: ocaml setup.ml] [hvsock: make install]
-> installed hvsock.0.11.1
Processing 52/74: [menhir: make Makefile] [oasis: ocaml setup.ml]
Processing 52/74: [oasis: ocaml setup.ml]
Processing 53/74: [oasis: ocaml setup.ml] [menhir: make Makefile]
-> installed menhir.20170101
Processing 53/74: [oasis: ocaml setup.ml]
Processing 54/74: [oasis: ocaml setup.ml]
Processing 54/74: [atd: make] [oasis: ocaml setup.ml]
Processing 54/74: [oasis: ocaml setup.ml]
Processing 55/74: [oasis: ocaml setup.ml] [atd: make install]
-> installed atd.1.2.0
Processing 55/74: [oasis: ocaml setup.ml]
Processing 56/74: [oasis: ocaml setup.ml]
Processing 56/74: [atdgen: make] [oasis: ocaml setup.ml]
Processing 56/74: [oasis: ocaml setup.ml]
Processing 57/74: [oasis: ocaml setup.ml] [atdgen: make findlib-install]
-> installed atdgen.1.10.0
Processing 57/74: [oasis: ocaml setup.ml]
Processing 58/74: [oasis: ocaml setup.ml]
-> installed oasis.0.4.8
Processing 59/74:
Processing 59/74: [nocrypto: ./configure]
Processing 59/74: [nocrypto: make]
Processing 60/74: [nocrypto: make install]
-> installed nocrypto.0.5.3
Processing 61/74:
Processing 61/74: [x509: ./configure]
Processing 61/74: [x509: make]
Processing 62/74: [x509: make install]
-> installed x509.0.5.3
Processing 63/74:
Processing 63/74: [tls: ./configure]
Processing 63/74: [tls: make]
Processing 64/74: [tls: make install]
-> installed tls.0.7.1
Processing 65/74:
Processing 65/74: [conduit: ./configure]
Processing 65/74: [conduit: make]
Processing 66/74: [conduit: make install]
-> installed conduit.0.14.5
Processing 67/74:
Processing 67/74: [cohttp: make]
Processing 68/74: [cohttp: make install]
-> installed cohttp.0.21.0
Processing 69/74: [github: ocaml setup.ml]
Processing 70/74: [github: ocaml setup.ml] [prometheus-app: ocaml build]
Processing 70/74: [github: ocaml setup.ml]
-> installed prometheus-app.dev
Processing 71/74: [github: ocaml setup.ml]
Processing 72/74: [github: ocaml setup.ml]
-> installed github.2.2.0
Processing 73/74:
Processing 73/74: [github-hooks: ocaml build]
-> installed github-hooks.0.1.1
Done.
# Run eval `opam config env` to update the current shell environment
 ---> 2031c3c2a118
Removing intermediate container 5cb7ec925af9
Step 7/17 : COPY . /home/opam/src/datakit/
 ---> 34150b491881
Removing intermediate container cdfbd60ce7b4
Step 8/17 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in 0467b9fca678
 ---> a9fd91e5bd96
Removing intermediate container 0467b9fca678
Step 9/17 : RUN cd /home/opam/src/datakit &&     git diff && git status --porcelain &&     git checkout . && scripts/watermark.sh &&     git status --porcelain
 ---> Running in 68d8f824fb32
diff --git a/Dockerfile.github b/Dockerfile.github
index 1968f28..ea58669 100644
--- a/Dockerfile.github
+++ b/Dockerfile.github
@@ -1,4 +1,4 @@
-FROM docker/datakit:server
+FROM sha256:e41a93af20028d5edeebefe83fb8feea2e4e0f1860e6c55dd336cec84aba1132
 
 COPY datakit-github.opam /home/opam/src/datakit/datakit-github.opam
 RUN opam pin add github --dev -n
 M Dockerfile.github
 M src/version.ml
 ---> 6a9409eea13a
Removing intermediate container 68d8f824fb32
Step 10/17 : RUN opam update datakit-github
 ---> Running in 134f8cfd150e

=-=- Synchronizing development packages -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/1: [datakit-github: git]
[datakit-github] git+file:///home/opam/src/datakit changed
Now run 'opam upgrade' to apply any package updates.
 ---> 4eb60dc880dd
Removing intermediate container 134f8cfd150e
Step 11/17 : RUN opam install datakit-github -vv -y
 ---> Running in e7ead641ab4f

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/1: [datakit-github: git]
+ rsync "-rLptgoDrvc" "--files-from" "/home/opam/.opam/log/rsync-files-7-dd682e" "--exclude" ".#*" "--exclude" "_opam" "--delete" "--delete-excluded" "/home/opam/src/datakit/" "/home/opam/.opam/default/.opam-switch/packages.dev/datakit-github"
- sending incremental file list
- .git/
- .git/objects/
- .git/refs/
- api/
- api/ocaml/
- api/ocaml/datakit-client.mllib
- api/ocaml/datakit_S.mli
- api/ocaml/datakit_client_9p.ml
- api/ocaml/datakit_client_9p.mli
- api/ocaml/datakit_path.ml
- api/ocaml/datakit_path.mli
- api/ocaml/mount.ml
- 
- sent 121,016 bytes  received 463 bytes  242,958.00 bytes/sec
- total size is 4,966,814  speedup is 40.89
[datakit-github] git+file:///home/opam/src/datakit changed
+ ocamlc "-vnum"
- 4.04.0
The following actions will be performed:
  - install datakit-github dev*

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
+ rsync "-rLptgoDrvc" "--files-from" "/home/opam/.opam/log/rsync-files-7-d2c37b" "--exclude" ".#*" "--exclude" "_opam" "--delete" "--delete-excluded" "/home/opam/src/datakit/" "/home/opam/.opam/default/.opam-switch/packages.dev/datakit-github"
- sending incremental file list
- .git/
- api/ocaml/
- api/ocaml/datakit-client.mllib
- api/ocaml/datakit_S.mli
- api/ocaml/datakit_client_9p.ml
- api/ocaml/datakit_client_9p.mli
- api/ocaml/datakit_path.ml
- api/ocaml/datakit_path.mli
- api/ocaml/mount.ml
- 
- sent 121,007 bytes  received 454 bytes  242,922.00 bytes/sec
- total size is 4,966,814  speedup is 40.89
[datakit-github] git+file:///home/opam/src/datakit changed

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/2: [datakit-github: ocaml build]
+ ocaml "pkg/pkg.ml" "build" "--pinned" "true" "-n" "datakit-github" (CWD=/home/opam/.opam/default/.opam-switch/build/datakit-github.dev)
- pkg.ml: [WARNING] Watermarks: OPAM fields of datakit-github.opam: topkg: no such command. Did you install topkg-care ?
- pkg.ml: [WARNING] file datakit-github.opam: opam field "maintainer" undefined or unsupported
- pkg.ml: [WARNING] file datakit-github.opam: opam field "authors" undefined or unsupported
- pkg.ml: [WARNING] file datakit-github.opam: opam field "homepage" undefined or unsupported
- pkg.ml: [WARNING] file datakit-github.opam: opam field "bug-reports" undefined or unsupported
- pkg.ml: [WARNING] file datakit-github.opam: opam field "doc" undefined or unsupported
- pkg.ml: [WARNING] file datakit-github.opam: opam field "license" undefined or unsupported
- pkg.ml: [WARNING] file datakit-github.opam: opam field "dev-repo" undefined or unsupported
- ocamlfind ocamlopt unix.cmxa -I /home/opam/.opam/default/lib/ocamlbuild /home/opam/.opam/default/lib/ocamlbuild/ocamlbuildlib.cmxa -linkpkg myocamlbuild.ml /home/opam/.opam/default/lib/ocamlbuild/ocamlbuild.cmx -o myocamlbuild
- ocamlfind ocamldep -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules bridge/github/datakit_github_api.ml > bridge/github/datakit_github_api.ml.depends
- ocamlfind ocamldep -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules bridge/github/datakit_github_api.mli > bridge/github/datakit_github_api.mli.depends
- ocamlfind ocamldep -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules bridge/github/datakit_github.mli > bridge/github/datakit_github.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I bridge/github -I src -I src/datakit -o bridge/github/datakit_github.cmi bridge/github/datakit_github.mli
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I bridge/github -I src -I src/datakit -o bridge/github/datakit_github_api.cmi bridge/github/datakit_github_api.mli
- ocamlfind ocamldep -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules bridge/github/datakit_github.ml > bridge/github/datakit_github.ml.depends
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I bridge/github -I src -I src/datakit -o bridge/github/datakit_github.cmx bridge/github/datakit_github.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I bridge/github -I src -I src/datakit -o bridge/github/datakit_github_api.cmx bridge/github/datakit_github_api.ml
- ocamlfind ocamlopt -a -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' bridge/github/datakit_github_api.cmx -o bridge/github/datakit-github.cmxa
- ocamlfind ocamlopt -shared -linkall -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' bridge/github/datakit-github.cmxa -o bridge/github/datakit-github.cmxs
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I bridge/github -I src -I src/datakit -o bridge/github/datakit_github_api.cmo bridge/github/datakit_github_api.ml
- ocamlfind ocamlc -a -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' bridge/github/datakit_github_api.cmo -o bridge/github/datakit-github.cma
- ocamlfind ocamldep -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules bridge/github/datakit_github_conv.ml > bridge/github/datakit_github_conv.ml.depends
- ocamlfind ocamldep -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules bridge/github/datakit_github_conv.mli > bridge/github/datakit_github_conv.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I bridge/github -I src -I src/datakit -o bridge/github/datakit_github_conv.cmi bridge/github/datakit_github_conv.mli
- ocamlfind ocamldep -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules bridge/github/datakit_github_sync.ml > bridge/github/datakit_github_sync.ml.depends
- ocamlfind ocamldep -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules bridge/github/datakit_github_sync.mli > bridge/github/datakit_github_sync.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I bridge/github -I src -I src/datakit -o bridge/github/datakit_github_sync.cmi bridge/github/datakit_github_sync.mli
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I bridge/github -I src -I src/datakit -o bridge/github/datakit_github_conv.cmx bridge/github/datakit_github_conv.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I bridge/github -I src -I src/datakit -o bridge/github/datakit_github_sync.cmx bridge/github/datakit_github_sync.ml
- ocamlfind ocamlopt -a -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' bridge/github/datakit_github.cmx bridge/github/datakit_github_conv.cmx bridge/github/datakit_github_sync.cmx -o bridge/github/datakit-github-client.cmxa
- ocamlfind ocamlopt -shared -linkall -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' bridge/github/datakit-github-client.cmxa -o bridge/github/datakit-github-client.cmxs
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I bridge/github -I src -I src/datakit -o bridge/github/datakit_github.cmo bridge/github/datakit_github.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I bridge/github -I src -I src/datakit -o bridge/github/datakit_github_conv.cmo bridge/github/datakit_github_conv.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I bridge/github -I src -I src/datakit -o bridge/github/datakit_github_sync.cmo bridge/github/datakit_github_sync.ml
- ocamlfind ocamlc -a -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' bridge/github/datakit_github.cmo bridge/github/datakit_github_conv.cmo bridge/github/datakit_github_sync.cmo -o bridge/github/datakit-github-client.cma
- ocamlfind ocamldep -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules bridge/github/datakit_github_vfs.ml > bridge/github/datakit_github_vfs.ml.depends
- ocamlfind ocamldep -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules bridge/github/datakit_github_vfs.mli > bridge/github/datakit_github_vfs.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I bridge/github -I src -I src/datakit -o bridge/github/datakit_github_vfs.cmi bridge/github/datakit_github_vfs.mli
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I bridge/github -I src -I src/datakit -o bridge/github/datakit_github_vfs.cmx bridge/github/datakit_github_vfs.ml
- ocamlfind ocamlopt -a -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' bridge/github/datakit_github_vfs.cmx -o bridge/github/datakit-github-server.cmxa
- ocamlfind ocamlopt -shared -linkall -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' bridge/github/datakit-github-server.cmxa -o bridge/github/datakit-github-server.cmxs
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'github github-hooks.unix' -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I bridge/github -I src -I src/datakit -o bridge/github/datakit_github_vfs.cmo bridge/github/datakit_github_vfs.ml
- ocamlfind ocamlc -a -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' bridge/github/datakit_github_vfs.cmo -o bridge/github/datakit-github-server.cma
- ocamlfind ocamldep -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package protocol-9p.unix -package 'github.unix github-hooks.unix' -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'datakit-server.fs9p prometheus-app' -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules bridge/github/main.ml > bridge/github/main.ml.depends
- ocamlfind ocamldep -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package protocol-9p.unix -package 'github.unix github-hooks.unix' -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'datakit-server.fs9p prometheus-app' -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules bridge/github/main.mli > bridge/github/main.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -thread -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package protocol-9p.unix -package 'github.unix github-hooks.unix' -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'datakit-server.fs9p prometheus-app' -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I bridge/github -I src -I src/datakit -o bridge/github/main.cmi bridge/github/main.mli
- ocamlfind ocamldep -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit_conduit.ml > src/datakit_conduit.ml.depends
- ocamlfind ocamldep -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit_conduit.mli > src/datakit_conduit.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -thread -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src -I src/datakit -o src/datakit_conduit.cmi src/datakit_conduit.mli
- ocamlfind ocamldep -package 'asl win-eventlog cmdliner logs.cli mtime.os' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit_log.ml > src/datakit_log.ml.depends
- ocamlfind ocamldep -package 'asl win-eventlog cmdliner logs.cli mtime.os' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit_log.mli > src/datakit_log.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'asl win-eventlog cmdliner logs.cli mtime.os' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src -I src/datakit -o src/datakit_log.cmi src/datakit_log.mli
- ocamlfind ocamldep -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/version.ml > src/version.ml.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src -I src/datakit -o src/version.cmo src/version.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -thread -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src -I src/datakit -o src/datakit_conduit.cmx src/datakit_conduit.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'asl win-eventlog cmdliner logs.cli mtime.os' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src -I src/datakit -o src/datakit_log.cmx src/datakit_log.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I src -I src/datakit -o src/version.cmx src/version.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -thread -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package protocol-9p.unix -package 'github.unix github-hooks.unix' -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'datakit-server.fs9p prometheus-app' -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -I bridge/github -I src -I src/datakit -o bridge/github/main.cmx bridge/github/main.ml
- ocamlfind ocamlopt -linkpkg -g -thread -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package protocol-9p.unix -package 'github.unix github-hooks.unix' -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'datakit-server.fs9p prometheus-app' -package 'uri datakit-client datakit-server.vfs asetmap prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' bridge/github/datakit_github.cmx bridge/github/datakit_github_api.cmx bridge/github/datakit_github_conv.cmx bridge/github/datakit_github_sync.cmx bridge/github/datakit_github_vfs.cmx src/datakit_conduit.cmx src/datakit_log.cmx src/version.cmx bridge/github/main.cmx -o bridge/github/main.native
- pkg.ml: [WARNING] Package description has 8 warning(s), see log above.
-> compiled  datakit-github.dev
+ install "-m" "0755" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/bridge/github/main.native" "/home/opam/.opam/default/bin/datakit-github"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/bridge/github/datakit-github-client.a" "/home/opam/.opam/default/lib/datakit-github/datakit-github-client.a"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/bridge/github/datakit-github-client.cma" "/home/opam/.opam/default/lib/datakit-github/datakit-github-client.cma"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/bridge/github/datakit-github-client.cmxa" "/home/opam/.opam/default/lib/datakit-github/datakit-github-client.cmxa"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/bridge/github/datakit-github-client.cmxs" "/home/opam/.opam/default/lib/datakit-github/datakit-github-client.cmxs"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/bridge/github/datakit-github-server.a" "/home/opam/.opam/default/lib/datakit-github/datakit-github-server.a"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/bridge/github/datakit-github-server.cma" "/home/opam/.opam/default/lib/datakit-github/datakit-github-server.cma"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/bridge/github/datakit-github-server.cmxa" "/home/opam/.opam/default/lib/datakit-github/datakit-github-server.cmxa"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/bridge/github/datakit-github-server.cmxs" "/home/opam/.opam/default/lib/datakit-github/datakit-github-server.cmxs"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/bridge/github/datakit-github.a" "/home/opam/.opam/default/lib/datakit-github/datakit-github.a"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/bridge/github/datakit-github.cma" "/home/opam/.opam/default/lib/datakit-github/datakit-github.cma"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/bridge/github/datakit-github.cmxa" "/home/opam/.opam/default/lib/datakit-github/datakit-github.cmxa"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/bridge/github/datakit-github.cmxs" "/home/opam/.opam/default/lib/datakit-github/datakit-github.cmxs"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/bridge/github/datakit_github.cmi" "/home/opam/.opam/default/lib/datakit-github/datakit_github.cmi"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/bridge/github/datakit_github.cmti" "/home/opam/.opam/default/lib/datakit-github/datakit_github.cmti"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/bridge/github/datakit_github.cmx" "/home/opam/.opam/default/lib/datakit-github/datakit_github.cmx"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/bridge/github/datakit_github.mli" "/home/opam/.opam/default/lib/datakit-github/datakit_github.mli"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/bridge/github/datakit_github_api.cmi" "/home/opam/.opam/default/lib/datakit-github/datakit_github_api.cmi"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/bridge/github/datakit_github_api.cmti" "/home/opam/.opam/default/lib/datakit-github/datakit_github_api.cmti"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/bridge/github/datakit_github_api.cmx" "/home/opam/.opam/default/lib/datakit-github/datakit_github_api.cmx"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/bridge/github/datakit_github_api.mli" "/home/opam/.opam/default/lib/datakit-github/datakit_github_api.mli"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/bridge/github/datakit_github_conv.cmi" "/home/opam/.opam/default/lib/datakit-github/datakit_github_conv.cmi"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/bridge/github/datakit_github_conv.cmti" "/home/opam/.opam/default/lib/datakit-github/datakit_github_conv.cmti"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/bridge/github/datakit_github_conv.cmx" "/home/opam/.opam/default/lib/datakit-github/datakit_github_conv.cmx"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/bridge/github/datakit_github_conv.mli" "/home/opam/.opam/default/lib/datakit-github/datakit_github_conv.mli"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/bridge/github/datakit_github_sync.cmi" "/home/opam/.opam/default/lib/datakit-github/datakit_github_sync.cmi"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/bridge/github/datakit_github_sync.cmti" "/home/opam/.opam/default/lib/datakit-github/datakit_github_sync.cmti"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/bridge/github/datakit_github_sync.cmx" "/home/opam/.opam/default/lib/datakit-github/datakit_github_sync.cmx"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/bridge/github/datakit_github_sync.mli" "/home/opam/.opam/default/lib/datakit-github/datakit_github_sync.mli"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/bridge/github/datakit_github_vfs.cmi" "/home/opam/.opam/default/lib/datakit-github/datakit_github_vfs.cmi"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/bridge/github/datakit_github_vfs.cmti" "/home/opam/.opam/default/lib/datakit-github/datakit_github_vfs.cmti"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/bridge/github/datakit_github_vfs.cmx" "/home/opam/.opam/default/lib/datakit-github/datakit_github_vfs.cmx"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/bridge/github/datakit_github_vfs.mli" "/home/opam/.opam/default/lib/datakit-github/datakit_github_vfs.mli"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/datakit-github.opam" "/home/opam/.opam/default/lib/datakit-github/opam"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/pkg/META.github" "/home/opam/.opam/default/lib/datakit-github/META"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/CHANGES.md" "/home/opam/.opam/default/doc/datakit-github/CHANGES.md"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/LICENSE.md" "/home/opam/.opam/default/doc/datakit-github/LICENSE.md"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit-github.dev/_build/README.md" "/home/opam/.opam/default/doc/datakit-github/README.md"
-> installed datakit-github.dev
Done.
# Run eval `opam config env` to update the current shell environment
 ---> d516755dad6d
Removing intermediate container e7ead641ab4f
Step 12/17 : EXPOSE 5641
 ---> Running in 97a04875bc0d
 ---> c0a911cf745c
Removing intermediate container 97a04875bc0d
Step 13/17 : RUN sudo mkdir /data && sudo chown opam.nogroup /data && chmod 700 /data &&     sudo cp $(opam config exec -- which datakit-github) /usr/bin/
 ---> Running in b43389da980a
 ---> 6ed3fa15ea10
Removing intermediate container b43389da980a
Step 14/17 : RUN opam config exec -- ocaml /home/opam/src/datakit/check-libev.ml
 ---> Running in 47bbeb0977cb
 ---> 74b0692b5770
Removing intermediate container 47bbeb0977cb
Step 15/17 : USER root
 ---> Running in ef13a589503d
 ---> 45af9b9c007c
Removing intermediate container ef13a589503d
Step 16/17 : ENTRYPOINT /usr/bin/datakit-github
 ---> Running in a847585b81bd
 ---> e1b2a2f0955b
Removing intermediate container a847585b81bd
Step 17/17 : CMD --listen=tcp://0.0.0.0:5641 -v --datakit=tcp:127.0.0.1:5640
 ---> Running in 8a3b6d3362f6
 ---> 7f0a14e8d3ac
Removing intermediate container 8a3b6d3362f6
Successfully built 7f0a14e8d3ac
[2017-02-01 11:21.28] Success
