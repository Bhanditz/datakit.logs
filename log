=== Run docker-build-datakit on commit 0d174d694d29611bb91349bb7b5599a2ca9be6c4
[2016-11-25 17:13.56] Starting...
Cloning into '/tmp/with_clone196e7611'...
done.
HEAD is now at 0d174d6 Removed hack to return io.EOF as it is now correctly handled by go-p9p
[2016-11-25 17:13.56] Running "docker" "build" "--pull" "-f" "Dockerfile" "."...
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 5.998 MB
Step 1 : FROM docker/datakit:server
server: Pulling from docker/datakit
3690ec4760f9: Already exists
c30c763d7b98: Already exists
273d64d352eb: Already exists
99811b278072: Already exists
61c4b1a0111d: Pulling fs layer
ade915305abd: Pulling fs layer
6559a416c2ce: Pulling fs layer
597341fdfacf: Pulling fs layer
d50bd263c604: Pulling fs layer
519d25d3bd26: Pulling fs layer
6dbc16603dcb: Pulling fs layer
c14013635e30: Pulling fs layer
2a9aa63719bc: Pulling fs layer
d509d7defb5a: Pulling fs layer
d509d7defb5a: Waiting
597341fdfacf: Waiting
6dbc16603dcb: Waiting
d50bd263c604: Waiting
519d25d3bd26: Waiting
c14013635e30: Waiting
2a9aa63719bc: Waiting
6559a416c2ce: Verifying Checksum
6559a416c2ce: Download complete
61c4b1a0111d: Verifying Checksum
61c4b1a0111d: Download complete
597341fdfacf: Verifying Checksum
597341fdfacf: Download complete
61c4b1a0111d: Pull complete
519d25d3bd26: Verifying Checksum
519d25d3bd26: Download complete
6dbc16603dcb: Verifying Checksum
6dbc16603dcb: Download complete
c14013635e30: Verifying Checksum
c14013635e30: Download complete
2a9aa63719bc: Verifying Checksum
2a9aa63719bc: Download complete
d50bd263c604: Verifying Checksum
d50bd263c604: Download complete
ade915305abd: Verifying Checksum
ade915305abd: Download complete
d509d7defb5a: Verifying Checksum
d509d7defb5a: Download complete
ade915305abd: Pull complete
6559a416c2ce: Pull complete
597341fdfacf: Pull complete
d50bd263c604: Pull complete
519d25d3bd26: Pull complete
6dbc16603dcb: Pull complete
c14013635e30: Pull complete
2a9aa63719bc: Pull complete
d509d7defb5a: Pull complete
Digest: sha256:1d4b8a118232a6609de5320e9823a1fb56a03257eb19ff2254ef21953b081da4
Status: Image is up to date for docker/datakit:server
 ---> ff58c062d1d8
Step 2 : RUN cd /home/opam/opam-repository && git pull && opam update -y
 ---> Running in b43226f314bf
Already up-to-date.

=-=- Updating package repositories =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[default: local] Command started
[default: local] Command started
[default: local] Command started
[default] /home/opam/opam-repository synchronized

=-=- Synchronizing development packages -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-server: local] Command started
[datakit-server] /home/opam/src/datakit/ synchronized

Updates available for 4.03.0, apply them with 'opam upgrade':
===== 1 to recompile =====
 ---> a0f1a967483e
Removing intermediate container b43226f314bf
Step 3 : COPY opam /home/opam/src/datakit/opam
 ---> 090f450faf40
Removing intermediate container 0f3cee048315
Step 4 : RUN opam pin add datakit.dev /home/opam/src/datakit -n
 ---> Running in 15310578003d
Package datakit does not exist, create as a NEW package ? [Y/n] y
datakit is now path-pinned to /home/opam/src/datakit

[datakit: local]
[datakit] /home/opam/src/datakit/ synchronized
[datakit] Installing new package description from /home/opam/src/datakit

 ---> 2beb0070fcdc
Removing intermediate container 15310578003d
Step 5 : RUN opam depext datakit && opam install datakit --deps
 ---> Running in 660117261afa
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - linux-headers
#  - m4
#  - ncurses-dev
#  - openssl-dev
#  - pkgconfig
#  - zlib-dev
m4
ncurses-dev
pkgconfig
# The following new OS packages need to be installed: linux-headers openssl-dev zlib-dev
The following command needs to be run through "sudo":
    apk add linux-headers openssl-dev zlib-dev
(1/3) Installing linux-headers (4.4.6-r1)
(2/3) Installing zlib-dev (1.2.8-r2)
(3/3) Installing openssl-dev (1.0.2j-r0)
OK: 447 MiB in 89 packages
# OS packages installation successful

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit: local] Command started
[datakit] /home/opam/src/datakit/ already up-to-date
The following actions will be performed:
  - install mtime           0.8.3         
  - install bin_prot        113.33.00+4.03
  - install uchar           0.0.1         
  - install magic-mime      1.0.0         
  - install conduit         0.13.0        
  - install asl             0.10          
  - install camlzip         1.06          
  - install base64          2.1.2         
  - install irmin-watcher   0.2.0         
  - install mstruct         1.3.2         
  - install crunch          1.4.1         
  - install mirage-flow     1.1.0         
  - install hex             1.0.0         
  - install win-eventlog    0.1           
  - install fieldslib       113.24.00     
  - install duration        0.1.0         
  - install ocamlgraph      1.8.7         
  - install uutf            1.0.0         
  - install ppx_fields_conv 113.33.00+4.03
  - install hvsock          0.11.1        
  - install jsonm           1.0.0         
  - install cohttp          0.21.0        
  - install ezjsonm         0.4.3         
  - install git             1.9.3         
  - install mirage-tc       0.3.0         
  - install irmin           0.12.0        
===== 26 to install =====
Do you want to continue ? [Y/n] y

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[asl: http] Command started
[base64: http] Command started
[bin_prot: http] Command started
[base64: http] Command started
[base64.2.1.2] https://github.com/mirage/ocaml-base64/releases/download/v2.1.2/base64-2.1.2.tbz downloaded
[camlzip: http] Command started
[bin_prot: http] Command started
[bin_prot.113.33.00+4.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/bin_prot-113.33.00+4.03.tar.gz downloaded
[cohttp: http] Command started
[asl: http] Command started
[asl.0.10] https://github.com/mirage/ocaml-asl/archive/v0.10.tar.gz downloaded
[conduit: http] Command started
[camlzip: http] Command started
[camlzip.1.06] https://forge.ocamlcore.org/frs/download.php/1616/camlzip-1.06.tar.gz downloaded
[crunch: http] Command started
[conduit: http] Command started
[conduit.0.13.0] https://github.com/mirage/ocaml-conduit/archive/v0.13.0.tar.gz downloaded
[duration: http] Command started
[cohttp: http] Command started
[cohttp.0.21.0] https://github.com/mirage/ocaml-cohttp/archive/v0.21.0.tar.gz downloaded
[ezjsonm: http] Command started
[crunch: http] Command started
[crunch.1.4.1] https://github.com/mirage/ocaml-crunch/archive/v1.4.1.tar.gz downloaded
[fieldslib: http] Command started
[fieldslib: http] Command started
[fieldslib.113.24.00] https://ocaml.janestreet.com/ocaml-core/113.24/files/fieldslib-113.24.00.tar.gz downloaded
[git: http] Command started
[duration: http] Command started
[duration.0.1.0] https://github.com/hannesm/duration/releases/download/0.1.0/duration-0.1.0.tbz downloaded
[hex: http] Command started
[ezjsonm: http] Command started
[ezjsonm.0.4.3] https://github.com/mirage/ezjsonm/archive/0.4.3.tar.gz downloaded
[hvsock: http] Command started
[hex: http] Command started
[hex.1.0.0] https://github.com/mirage/ocaml-hex/archive/1.0.0.tar.gz downloaded
[irmin: http] Command started
[hvsock: http] Command started
[hvsock.0.11.1] https://github.com/mirage/ocaml-hvsock/archive/v0.11.1.tar.gz downloaded
[irmin-watcher: http] Command started
[git: http] Command started
[git.1.9.3] https://github.com/mirage/ocaml-git/releases/download/1.9.3/git-1.9.3.tbz downloaded
[jsonm: http] Command started
[jsonm: http] Command started
[jsonm.1.0.0] http://erratique.ch/software/jsonm/releases/jsonm-1.0.0.tbz downloaded
[magic-mime: http] Command started
[irmin-watcher: http] Command started
[irmin-watcher.0.2.0] https://github.com/samoht/irmin-watcher/releases/download/0.2.0/irmin-watcher-0.2.0.tbz downloaded
[mirage-flow: http] Command started
[irmin: http] Command started
[irmin.0.12.0] https://github.com/mirage/irmin/releases/download/0.12.0/irmin-0.12.0.tbz downloaded
[mirage-tc: http] Command started
[magic-mime: http] Command started
[magic-mime.1.0.0] https://github.com/mirage/ocaml-magic-mime/archive/v1.0.0.tar.gz downloaded
[mstruct: http] Command started
[mirage-flow: http] Command started
[mirage-flow.1.1.0] https://github.com/mirage/mirage-flow/archive/v1.1.0.tar.gz downloaded
[mtime: http] Command started
[mtime: http] Command started
[mtime.0.8.3] http://erratique.ch/software/mtime/releases/mtime-0.8.3.tbz downloaded
[ocamlgraph: http] Command started
[mirage-tc: http] Command started
[mirage-tc.0.3.0] https://github.com/mirage/mirage-tc/archive/0.3.0.tar.gz downloaded
[ppx_fields_conv: http] Command started
[ocamlgraph: http] Command started
[ocamlgraph.1.8.7] http://ocamlgraph.lri.fr/download/ocamlgraph-1.8.7.tar.gz downloaded
[uchar: http] Command started
[mstruct: http] Command started
[mstruct.1.3.2] https://github.com/mirage/ocaml-mstruct/archive/1.3.2.tar.gz downloaded
[uutf: http] Command started
[uutf: http] Command started
[uutf.1.0.0] http://erratique.ch/software/uutf/releases/uutf-1.0.0.tbz downloaded
[win-eventlog: http] Command started
[ppx_fields_conv: http] Command started
[ppx_fields_conv.113.33.00+4.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_fields_conv-113.33.00+4.03.tar.gz downloaded
[uchar: http] Command started
[uchar.0.0.1] https://github.com/ocaml/uchar/releases/download/v0.0.1/uchar-0.0.1.tbz downloaded
[win-eventlog: http] Command started
[win-eventlog.0.1] https://github.com/djs55/ocaml-win-eventlog/archive/v0.1.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[asl: make] Command started
[base64: ocaml build] Command started
[bin_prot: ./configure] Command started
[camlzip: make all] Command started
-> installed base64.2.1.2
[conduit: make] Command started
[camlzip: make allopt] Command started
[bin_prot: make] Command started
[camlzip: make install-findlib] Command started
-> installed camlzip.1.06
[crunch: ocaml setup.ml] Command started
[crunch: ocaml setup.ml] Command started
[asl: make install] Command started
[conduit: make install] Command started
-> installed conduit.0.13.0
[duration: ocaml build] Command started
[crunch: ocaml setup.ml] Command started
-> installed duration.0.1.0
[fieldslib: ./configure] Command started
-> installed bin_prot.113.33.00+4.03
[hex: ./configure] Command started
-> installed asl.0.10
[irmin-watcher: ocaml build] Command started
[fieldslib: make] Command started
-> installed crunch.1.4.1
[magic-mime: ./configure] Command started
[hex: make] Command started
-> installed irmin-watcher.0.2.0
[mirage-flow: ./configure] Command started
[magic-mime: make] Command started
-> installed fieldslib.113.24.00
[mstruct: ./configure] Command started
[hex: make install] Command started
[mirage-flow: make] Command started
[mstruct: make] Command started
[magic-mime: make install] Command started
-> installed hex.1.0.0
[mtime: ocaml] Command started
[mtime: ocaml] Command started
-> installed magic-mime.1.0.0
[ocamlgraph: ./configure] Command started
-> installed mtime.0.8.3
[ppx_fields_conv: ./configure] Command started
[mstruct: make install] Command started
[ocamlgraph: make] Command started
[mirage-flow: make install] Command started
-> installed mstruct.1.3.2
[uchar: ocaml] Command started
[ppx_fields_conv: make] Command started
[uchar: ocaml] Command started
-> installed uchar.0.0.1
[uutf: ocaml build] Command started
-> installed mirage-flow.1.1.0
[hvsock: ocaml setup.ml] Command started
-> installed uutf.1.0.0
[jsonm: ocaml build] Command started
[hvsock: make] Command started
-> installed jsonm.1.0.0
[ezjsonm: ./configure] Command started
-> installed ppx_fields_conv.113.33.00+4.03
[cohttp: make] Command started
[ezjsonm: make] Command started
[ocamlgraph: make install-findlib] Command started
-> installed ocamlgraph.1.8.7
[win-eventlog: make] Command started
[ezjsonm: make install] Command started
[hvsock: make install] Command started
-> installed hvsock.0.11.1
-> installed ezjsonm.0.4.3
[mirage-tc: ./configure] Command started
[mirage-tc: make] Command started
[win-eventlog: make install] Command started
-> installed win-eventlog.0.1
[mirage-tc: make install] Command started
-> installed mirage-tc.0.3.0
[cohttp: make install] Command started
-> installed cohttp.0.21.0
[git: ocaml build] Command started
-> installed git.1.9.3
[irmin: ocaml build] Command started
-> installed irmin.0.12.0
Done.
 ---> d6e73cc8483f
Removing intermediate container 660117261afa
Step 6 : COPY . /home/opam/src/datakit/
 ---> b4a67998f886
Removing intermediate container fe2737e060e8
Step 7 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in 146912b9c0fe
 ---> f8a2a80fab11
Removing intermediate container 146912b9c0fe
Step 8 : RUN cd /home/opam/src/datakit &&     git diff && git status --porcelain &&     git checkout . && scripts/watermark.sh &&     git status --porcelain
 ---> Running in e10a9c28c839
?? ci/src/cI_prometheus.ml
?? ci/src/cI_prometheus.mli
 M src/version.ml
?? ci/src/cI_prometheus.ml
?? ci/src/cI_prometheus.mli
 ---> 39cdf321e5a3
Removing intermediate container e10a9c28c839
Step 9 : RUN opam update datakit
 ---> Running in e5539ccdf40d

=-=- Synchronizing development packages -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit: local] Command started
[datakit] /home/opam/src/datakit/ synchronized

Updates available for 4.03.0, apply them with 'opam upgrade':
===== 1 to recompile =====
 ---> 3d33011acbbe
Removing intermediate container e5539ccdf40d
Step 10 : RUN opam install datakit -vv
 ---> Running in 89a2c74e3889

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/4.03.0/packages.dev/datakit"
- sending incremental file list
- 
- sent 7,442 bytes  received 37 bytes  14,958.00 bytes/sec
- total size is 1,161,217  speedup is 155.26
[datakit] /home/opam/src/datakit/ already up-to-date
The following actions will be performed:
  - install datakit dev*

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/4.03.0/packages.dev/datakit"
- sending incremental file list
- 
- sent 7,442 bytes  received 37 bytes  14,958.00 bytes/sec
- total size is 1,161,217  speedup is 155.26
[datakit.dev] /home/opam/src/datakit/ already up-to-date

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit: ocaml build] Command started
+ ocaml "pkg/pkg.ml" "build" "--pinned" "true" "--tests" "false" (CWD=/home/opam/.opam/4.03.0/build/datakit.dev)
- ocamlfind ocamlopt unix.cmxa -I /home/opam/.opam/4.03.0/lib/ocamlbuild /home/opam/.opam/4.03.0/lib/ocamlbuild/ocamlbuildlib.cmxa -linkpkg myocamlbuild.ml /home/opam/.opam/4.03.0/lib/ocamlbuild/ocamlbuild.cmx -o myocamlbuild
- ocamlfind ocamldep -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ivfs.ml > src/datakit/ivfs.ml.depends
- ocamlfind ocamldep -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ivfs.mli > src/datakit/ivfs.mli.depends
- ocamlfind ocamldep -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ivfs_tree.mli > src/datakit/ivfs_tree.mli.depends
- ocamlfind ocamldep -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ivfs_blob.mli > src/datakit/ivfs_blob.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ivfs_blob.cmi src/datakit/ivfs_blob.mli
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ivfs_tree.cmi src/datakit/ivfs_tree.mli
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ivfs.cmi src/datakit/ivfs.mli
- ocamlfind ocamldep -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ivfs_blob.ml > src/datakit/ivfs_blob.ml.depends
- ocamlfind ocamldep -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ivfs_merge.ml > src/datakit/ivfs_merge.ml.depends
- ocamlfind ocamldep -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ivfs_merge.mli > src/datakit/ivfs_merge.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ivfs_merge.cmi src/datakit/ivfs_merge.mli
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ivfs_blob.cmx src/datakit/ivfs_blob.ml
- ocamlfind ocamldep -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ivfs_tree.ml > src/datakit/ivfs_tree.ml.depends
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ivfs_tree.cmx src/datakit/ivfs_tree.ml
- ocamlfind ocamldep -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ivfs_remote.ml > src/datakit/ivfs_remote.ml.depends
- ocamlfind ocamldep -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ivfs_remote.mli > src/datakit/ivfs_remote.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ivfs_remote.cmi src/datakit/ivfs_remote.mli
- ocamlfind ocamldep -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ivfs_rw.ml > src/datakit/ivfs_rw.ml.depends
- ocamlfind ocamldep -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ivfs_rw.mli > src/datakit/ivfs_rw.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ivfs_rw.cmi src/datakit/ivfs_rw.mli
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ivfs_merge.cmx src/datakit/ivfs_merge.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ivfs_remote.cmx src/datakit/ivfs_remote.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ivfs_rw.cmx src/datakit/ivfs_rw.ml
[91m[ERROR] The compilation of datakit failed at "ocaml pkg/pkg.ml build --pinned
        true --tests false".
[0m- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ivfs.cmx src/datakit/ivfs.ml
- ocamlfind ocamlopt -a -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' src/datakit/ivfs_blob.cmx src/datakit/ivfs_tree.cmx src/datakit/ivfs_merge.cmx src/datakit/ivfs_remote.cmx src/datakit/ivfs_rw.cmx src/datakit/ivfs.cmx -o src/datakit/ivfs.cmxa
- ocamlfind ocamlopt -shared -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' src/datakit/ivfs.cmx -o src/datakit/ivfs.cmxs
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ivfs.cmo src/datakit/ivfs.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ivfs_tree.cmo src/datakit/ivfs_tree.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ivfs_remote.cmo src/datakit/ivfs_remote.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ivfs_blob.cmo src/datakit/ivfs_blob.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ivfs_merge.cmo src/datakit/ivfs_merge.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ivfs_rw.cmo src/datakit/ivfs_rw.ml
- ocamlfind ocamlc -a -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' src/datakit/ivfs_blob.cmo src/datakit/ivfs_tree.cmo src/datakit/ivfs_merge.cmo src/datakit/ivfs_remote.cmo src/datakit/ivfs_rw.cmo src/datakit/ivfs.cmo -o src/datakit/ivfs.cma
- ocamlfind ocamldep -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'protocol-9p.unix camlzip' -package 'datakit-server.vfs datakit-server.fs9p' -package 'irmin.http cohttp.lwt' -package 'git irmin irmin.git irmin.mem irmin-watcher' -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/main.ml > src/datakit/main.ml.depends
- ocamlfind ocamldep -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit_conduit.mli > src/datakit_conduit.mli.depends
- ocamlfind ocamldep -package 'asl win-eventlog cmdliner logs.cli mtime.os' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit_log.mli > src/datakit_log.mli.depends
- ocamlfind ocamldep -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ir_io.mli > src/datakit/ir_io.mli.depends
- ocamlfind ocamldep -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/version.ml > src/version.ml.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -thread -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src -I ci/src -I src/datakit -o src/datakit_conduit.cmi src/datakit_conduit.mli
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'asl win-eventlog cmdliner logs.cli mtime.os' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src -I ci/src -I src/datakit -o src/datakit_log.cmi src/datakit_log.mli
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ir_io.cmi src/datakit/ir_io.mli
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src -I ci/src -I src/datakit -o src/version.cmo src/version.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -thread -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'protocol-9p.unix camlzip' -package 'datakit-server.vfs datakit-server.fs9p' -package 'irmin.http cohttp.lwt' -package 'git irmin irmin.git irmin.mem irmin-watcher' -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/main.cmo src/datakit/main.ml
- + ocamlfind ocamlc -c -g -bin-annot -safe-string -thread -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'protocol-9p.unix camlzip' -package 'datakit-server.vfs datakit-server.fs9p' -package 'irmin.http cohttp.lwt' -package 'git irmin irmin.git irmin.mem irmin-watcher' -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/main.cmo src/datakit/main.ml
- File "src/datakit/main.ml", line 57, characters 45-71:
- Error: Unbound value Irmin_watcher_polling.hook
- Command exited with code 2.
- pkg.ml: [ERROR] cmd ['ocamlbuild' '-use-ocamlfind' '-tag' 'debug' '-build-dir' '_build'
-      'CHANGES.md' 'LICENSE.md' 'README.md' 'pkg/META' 'opam'
-      'src/datakit/ivfs.a' 'src/datakit/ivfs.cmxs' 'src/datakit/ivfs.cmxa'
-      'src/datakit/ivfs.cma' 'src/datakit/ivfs_rw.cmx'
-      'src/datakit/ivfs_rw.cmi' 'src/datakit/ivfs_rw.mli'
-      'src/datakit/ivfs_merge.cmx' 'src/datakit/ivfs_merge.cmi'
-      'src/datakit/ivfs_merge.mli' 'src/datakit/ivfs_blob.cmx'
-      'src/datakit/ivfs_blob.cmi' 'src/datakit/ivfs_blob.mli'
-      'src/datakit/ivfs_remote.cmx' 'src/datakit/ivfs_remote.cmi'
-      'src/datakit/ivfs_remote.mli' 'src/datakit/ivfs_tree.cmx'
-      'src/datakit/ivfs_tree.cmi' 'src/datakit/ivfs_tree.mli'
-      'src/datakit/ivfs.cmx' 'src/datakit/ivfs.cmi' 'src/datakit/ivfs.mli'
-      'src/datakit/main.native' 'src/datakit-client/mount.native']: exited with 10


=-=- Error report -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
The following actions failed
  - install datakit dev
No changes have been performed
[91m
#=== ERROR while installing datakit.dev =======================================#
# opam-version         1.2.2
# os                   linux
# command              ocaml pkg/pkg.ml build --pinned true --tests false
# path                 /home/opam/.opam/4.03.0/build/datakit.dev
# compiler             4.03.0
# exit-code            1
# env-file             /home/opam/.opam/4.03.0/build/datakit.dev/datakit-7-ffb3fd.env
# stdout-file          /home/opam/.opam/4.03.0/build/datakit.dev/datakit-7-ffb3fd.out
# stderr-file          /home/opam/.opam/4.03.0/build/datakit.dev/datakit-7-ffb3fd.err
### stdout ###
# [...]
# ocamlfind ocamldep -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/version.ml > src/version.ml.depends
# ocamlfind ocamlc -c -g -bin-annot -safe-string -thread -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src -I ci/src -I src/datakit -o src/datakit_conduit.cmi src/datakit_conduit.mli
# ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'asl win-eventlog cmdliner logs.cli mtime.os' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src -I ci/src -I src/datakit -o src/datakit_log.cmi src/datakit_log.mli
# ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ir_io.cmi src/datakit/ir_io.mli
# ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src -I ci/src -I src/datakit -o src/version.cmo src/version.ml
# ocamlfind ocamlc -c -g -bin-annot -safe-string -thread -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'protocol-9p.unix camlzip' -package 'datakit-server.vfs datakit-server.fs9p' -package 'irmin.http cohttp.lwt' -package 'git irmin irmin.git irmin.mem irmin-watcher' -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/main.cmo src/datakit/main.ml
# + ocamlfind ocamlc -c -g -bin-annot -safe-string -thread -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'protocol-9p.unix camlzip' -package 'datakit-server.vfs datakit-server.fs9p' -package 'irmin.http cohttp.lwt' -package 'git irmin irmin.git irmin.mem irmin-watcher' -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/main.cmo src/datakit/main.ml
# File "src/datakit/main.ml", line 57, characters 45-71:
# Error: Unbound value Irmin_watcher_polling.hook
# Command exited with code 2.
### stderr ###
# pkg.ml: [ERROR] cmd ['ocamlbuild' '-use-ocamlfind' '-tag' 'debug' '-build-dir' '_build'
# [...]
#      'src/datakit/ivfs_rw.cmi' 'src/datakit/ivfs_rw.mli'
#      'src/datakit/ivfs_merge.cmx' 'src/datakit/ivfs_merge.cmi'
#      'src/datakit/ivfs_merge.mli' 'src/datakit/ivfs_blob.cmx'
#      'src/datakit/ivfs_blob.cmi' 'src/datakit/ivfs_blob.mli'
#      'src/datakit/ivfs_remote.cmx' 'src/datakit/ivfs_remote.cmi'
#      'src/datakit/ivfs_remote.mli' 'src/datakit/ivfs_tree.cmx'
#      'src/datakit/ivfs_tree.cmi' 'src/datakit/ivfs_tree.mli'
#      'src/datakit/ivfs.cmx' 'src/datakit/ivfs.cmi' 'src/datakit/ivfs.mli'
#      'src/datakit/main.native' 'src/datakit-client/mount.native']: exited with 10

[0m[91m'opam install datakit -vv' failed.
[0mThe command '/bin/sh -c opam install datakit -vv' returned a non-zero code: 4
[2016-11-25 17:17.07] Failed: Command "docker" "build" "--pull" "-f" "Dockerfile" "." exited with status 1
